var Ha=Object.defineProperty;var vi=A=>{throw TypeError(A)};var Ua=(A,$,V)=>$ in A?Ha(A,$,{enumerable:!0,configurable:!0,writable:!0,value:V}):A[$]=V;var dn=(A,$,V)=>Ua(A,typeof $!="symbol"?$+"":$,V),Rr=(A,$,V)=>$.has(A)||vi("Cannot "+V);var be=(A,$,V)=>(Rr(A,$,"read from private field"),V?V.call(A):$.get(A)),pt=(A,$,V)=>$.has(A)?vi("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(A):$.set(A,V),_t=(A,$,V,B)=>(Rr(A,$,"write to private field"),B?B.call(A,V):$.set(A,V),V),ut=(A,$,V)=>(Rr(A,$,"access private method"),V);var Fr=(A,$,V,B)=>({set _(R){_t(A,$,R,V)},get _(){return be(A,$,B)}});import{r as reactExports,j as jsxRuntimeExports,g as getAugmentedNamespace,c as commonjsRequire,a as reactDomExports,T as ThemeContext,b as ForwardRef$8,u as useTranslation,d as Tooltip}from"./index-DX2xGS2l.js";function ArrowDownTrayIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ForwardRef$7=reactExports.forwardRef(ArrowDownTrayIcon);function ChevronDownIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const ForwardRef$6=reactExports.forwardRef(ChevronDownIcon);function ChevronRightIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const ForwardRef$5=reactExports.forwardRef(ChevronRightIcon);function ChevronUpIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const ForwardRef$4=reactExports.forwardRef(ChevronUpIcon);function EyeIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),reactExports.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const ForwardRef$3=reactExports.forwardRef(EyeIcon);function MagnifyingGlassMinusIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Zm4.5 0a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const ForwardRef$2=reactExports.forwardRef(MagnifyingGlassMinusIcon);function MagnifyingGlassPlusIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Zm8.25-3.75a.75.75 0 0 1 .75.75v2.25h2.25a.75.75 0 0 1 0 1.5h-2.25v2.25a.75.75 0 0 1-1.5 0v-2.25H7.5a.75.75 0 0 1 0-1.5h2.25V7.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ForwardRef$1=reactExports.forwardRef(MagnifyingGlassPlusIcon);function PrinterIcon({title:A,titleId:$,...V},B){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:B,"aria-labelledby":$},V),A?reactExports.createElement("title",{id:$},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M7.875 1.5C6.839 1.5 6 2.34 6 3.375v2.99c-.426.053-.851.11-1.274.174-1.454.218-2.476 1.483-2.476 2.917v6.294a3 3 0 0 0 3 3h.27l-.155 1.705A1.875 1.875 0 0 0 7.232 22.5h9.536a1.875 1.875 0 0 0 1.867-2.045l-.155-1.705h.27a3 3 0 0 0 3-3V9.456c0-1.434-1.022-2.7-2.476-2.917A48.716 48.716 0 0 0 18 6.366V3.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM16.5 6.205v-2.83A.375.375 0 0 0 16.125 3h-8.25a.375.375 0 0 0-.375.375v2.83a49.353 49.353 0 0 1 9 0Zm-.217 8.265c.178.018.317.16.333.337l.526 5.784a.375.375 0 0 1-.374.409H7.232a.375.375 0 0 1-.374-.409l.526-5.784a.373.373 0 0 1 .333-.337 41.741 41.741 0 0 1 8.566 0Zm.967-3.97a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H18a.75.75 0 0 1-.75-.75V10.5ZM15 9.75a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V10.5a.75.75 0 0 0-.75-.75H15Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(PrinterIcon);function JobCard({job:A}){const[$,V]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center mb-10 relative",onMouseEnter:()=>V(!0),onMouseLeave:()=>V(!1),children:[jsxRuntimeExports.jsx("div",{className:"w-[20%] flex flex-row justify-center items-center py-2 xs:pr-4 md:pr-10",children:jsxRuntimeExports.jsx("p",{className:`text-xl ${$?"text-salmon-dark dark:text-salmon-100 font-bold":"text-light-blue-500"}`,children:A.years})}),jsxRuntimeExports.jsxs("div",{className:"w-[80%] flex flex-row transition-all duration-300 ease-in-out",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex flex-row items-center",children:[jsxRuntimeExports.jsx("div",{className:`divider ${$?"bg-salmon-dark dark:bg-salmon-100":"bg-light-blue-500"} rounded-lg w-px h-full absolute top-0 bottom-0`}),jsxRuntimeExports.jsx("div",{className:`w-[9px] h-[9px] absolute top-1/2 left-0 -m-[4.5px] transform -translate-y-1/2 duration-1000 ease-in-out origin-center ${$?"rounded-none  bg-salmon-dark dark:bg-salmon-100 transition-transform rotate-[315deg]":"rounded-full bg-light-blue-500"}`})]}),jsxRuntimeExports.jsxs("div",{className:"xs:px-4 md:pl-10 md:pr-4 py-4 transition-shadow duration-300 ease-in-out",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-dark-blue dark:text-light-blue",children:A.jobTitle}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{className:"text-dark-blue dark:text-light-blue",children:"Sector: "}),A.sector]}),jsxRuntimeExports.jsxs("div",{className:"text-sm mt-2",children:[jsxRuntimeExports.jsx("strong",{className:"text-dark-blue dark:text-light-blue",children:"Description: "}),A.description]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row justify-start mt-5",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-[450px] flex-col duration-300 ease-in-out pr-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row",children:[jsxRuntimeExports.jsx(ForwardRef$5,{className:`w-5 h-5 text-dark-blue dark:text-light-blue ${$?"transition-transform rotate-90 ":""} duration-300 ease-in-out`}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:jsxRuntimeExports.jsx("strong",{className:"text-dark-blue dark:text-light-blue",children:"Responsibilities"})})]}),jsxRuntimeExports.jsx("ul",{className:`ml-2 text-sm list-disc list-inside mt-2 transition-all duration-500 ease-in-out overflow-hidden ${$?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:A.responsibilities.map((B,R)=>jsxRuntimeExports.jsx("li",{children:B},R))})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-[300px] flex-col duration-300 ease-in-out pl-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row",children:[jsxRuntimeExports.jsx(ForwardRef$5,{className:`w-5 h-5 text-dark-blue dark:text-light-blue ${$?"transition-transform rotate-90 ":""} duration-300 ease-in-out`}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:jsxRuntimeExports.jsx("strong",{className:"text-dark-blue dark:text-light-blue",children:"Tools & Technologies"})})]}),jsxRuntimeExports.jsx("ul",{className:`ml-2 text-sm list-disc list-inside mt-2 transition-all duration-500 ease-in-out overflow-hidden ${$?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:A.tools.map((B,R)=>jsxRuntimeExports.jsx("li",{children:B},R))})]})]})]})]})]})]})}var lib$h={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,V){module.exports=V()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=we,$.bytesToString=ce,$.createPromiseCapability=Zt,$.createValidAbsoluteUrl=ie,$.getModificationDate=Ht,$.getVerbosityLevel=Le,$.info=Ne,$.isArrayBuffer=vt,$.isArrayEqual=wt,$.objectFromMap=ke,$.objectSize=de,$.setVerbosityLevel=Ve,$.shadow=ge,$.string32=Ee,$.stringToBytes=_e,$.stringToPDFString=nt,$.stringToUTF8String=at,$.unreachable=tt,$.utf8StringToString=gt,$.warn=et;const V=[1,0,0,1,0,0];$.IDENTITY_MATRIX=V;const B=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=B;const R=1.35;$.LINE_FACTOR=R;const O=.35;$.LINE_DESCENT_FACTOR=O;const re=O/R;$.BASELINE_FACTOR=re;const he={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=he;const me={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=me;const se="pdfjs_internal_editor_";$.AnnotationEditorPrefix=se;const ne={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=ne;const ve={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=ve;const oe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=oe;const ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=ee;const te={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=te;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const Y={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=Y;const Q={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=Q;const W={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=W;const X={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=X;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=H;const K={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=K;const ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ue;const q={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=q;const pe={O:"PageOpen",C:"PageClose"};$.PageActionEventType=pe;const ye={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=ye;const Me={NONE:0,BINARY:1};$.CMapCompressionType=Me;const ze={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=ze;const lt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=lt;const Xe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Xe;let Je=ye.WARNINGS;function Ve(ot){Number.isInteger(ot)&&(Je=ot)}function Le(){return Je}function Ne(ot){Je>=ye.INFOS&&console.log(`Info: ${ot}`)}function et(ot){Je>=ye.WARNINGS&&console.log(`Warning: ${ot}`)}function tt(ot){throw new Error(ot)}function we(ot,Ke){ot||tt(Ke)}function le(ot){if(!ot)return!1;switch(ot.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ie(ot,Ke=null,We=null){if(!ot)return null;try{if(We&&typeof ot=="string"){if(We.addDefaultProtocol&&ot.startsWith("www.")){const Lt=ot.match(/\./g);Lt&&Lt.length>=2&&(ot=`http://${ot}`)}if(We.tryConvertEncoding)try{ot=at(ot)}catch{}}const bt=Ke?new URL(ot,Ke):new URL(ot);if(le(bt))return bt}catch{}return null}function ge(ot,Ke,We,bt=!1){return Object.defineProperty(ot,Ke,{value:We,enumerable:!bt,configurable:!0,writable:!1}),We}const xe=function(){function Ke(We,bt){this.constructor===Ke&&tt("Cannot initialize BaseException."),this.message=We,this.name=bt}return Ke.prototype=new Error,Ke.constructor=Ke,Ke}();$.BaseException=xe;class Ae extends xe{constructor(Ke,We){super(Ke,"PasswordException"),this.code=We}}$.PasswordException=Ae;class Se extends xe{constructor(Ke,We){super(Ke,"UnknownErrorException"),this.details=We}}$.UnknownErrorException=Se;class je extends xe{constructor(Ke){super(Ke,"InvalidPDFException")}}$.InvalidPDFException=je;class Ze extends xe{constructor(Ke){super(Ke,"MissingPDFException")}}$.MissingPDFException=Ze;class rt extends xe{constructor(Ke,We){super(Ke,"UnexpectedResponseException"),this.status=We}}$.UnexpectedResponseException=rt;class Ue extends xe{constructor(Ke){super(Ke,"FormatError")}}$.FormatError=Ue;class ae extends xe{constructor(Ke){super(Ke,"AbortException")}}$.AbortException=ae;function ce(ot){(typeof ot!="object"||ot===null||ot.length===void 0)&&tt("Invalid argument for bytesToString");const Ke=ot.length,We=8192;if(Ke<We)return String.fromCharCode.apply(null,ot);const bt=[];for(let Lt=0;Lt<Ke;Lt+=We){const Ut=Math.min(Lt+We,Ke),Wt=ot.subarray(Lt,Ut);bt.push(String.fromCharCode.apply(null,Wt))}return bt.join("")}function _e(ot){typeof ot!="string"&&tt("Invalid argument for stringToBytes");const Ke=ot.length,We=new Uint8Array(Ke);for(let bt=0;bt<Ke;++bt)We[bt]=ot.charCodeAt(bt)&255;return We}function Ee(ot){return String.fromCharCode(ot>>24&255,ot>>16&255,ot>>8&255,ot&255)}function de(ot){return Object.keys(ot).length}function ke(ot){const Ke=Object.create(null);for(const[We,bt]of ot)Ke[We]=bt;return Ke}function Te(){const ot=new Uint8Array(4);return ot[0]=1,new Uint32Array(ot.buffer,0,1)[0]===1}function $e(){try{return new Function(""),!0}catch{return!1}}class Qe{static get isLittleEndian(){return ge(this,"isLittleEndian",Te())}static get isEvalSupported(){return ge(this,"isEvalSupported",$e())}static get isOffscreenCanvasSupported(){return ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ge(this,"platform",{isWin:!1,isMac:!1}):ge(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=Qe;const Ce=[...Array(256).keys()].map(ot=>ot.toString(16).padStart(2,"0"));class Ie{static makeHexColor(Ke,We,bt){return`#${Ce[Ke]}${Ce[We]}${Ce[bt]}`}static scaleMinMax(Ke,We){let bt;Ke[0]?(Ke[0]<0&&(bt=We[0],We[0]=We[1],We[1]=bt),We[0]*=Ke[0],We[1]*=Ke[0],Ke[3]<0&&(bt=We[2],We[2]=We[3],We[3]=bt),We[2]*=Ke[3],We[3]*=Ke[3]):(bt=We[0],We[0]=We[2],We[2]=bt,bt=We[1],We[1]=We[3],We[3]=bt,Ke[1]<0&&(bt=We[2],We[2]=We[3],We[3]=bt),We[2]*=Ke[1],We[3]*=Ke[1],Ke[2]<0&&(bt=We[0],We[0]=We[1],We[1]=bt),We[0]*=Ke[2],We[1]*=Ke[2]),We[0]+=Ke[4],We[1]+=Ke[4],We[2]+=Ke[5],We[3]+=Ke[5]}static transform(Ke,We){return[Ke[0]*We[0]+Ke[2]*We[1],Ke[1]*We[0]+Ke[3]*We[1],Ke[0]*We[2]+Ke[2]*We[3],Ke[1]*We[2]+Ke[3]*We[3],Ke[0]*We[4]+Ke[2]*We[5]+Ke[4],Ke[1]*We[4]+Ke[3]*We[5]+Ke[5]]}static applyTransform(Ke,We){const bt=Ke[0]*We[0]+Ke[1]*We[2]+We[4],Lt=Ke[0]*We[1]+Ke[1]*We[3]+We[5];return[bt,Lt]}static applyInverseTransform(Ke,We){const bt=We[0]*We[3]-We[1]*We[2],Lt=(Ke[0]*We[3]-Ke[1]*We[2]+We[2]*We[5]-We[4]*We[3])/bt,Ut=(-Ke[0]*We[1]+Ke[1]*We[0]+We[4]*We[1]-We[5]*We[0])/bt;return[Lt,Ut]}static getAxialAlignedBoundingBox(Ke,We){const bt=Ie.applyTransform(Ke,We),Lt=Ie.applyTransform(Ke.slice(2,4),We),Ut=Ie.applyTransform([Ke[0],Ke[3]],We),Wt=Ie.applyTransform([Ke[2],Ke[1]],We);return[Math.min(bt[0],Lt[0],Ut[0],Wt[0]),Math.min(bt[1],Lt[1],Ut[1],Wt[1]),Math.max(bt[0],Lt[0],Ut[0],Wt[0]),Math.max(bt[1],Lt[1],Ut[1],Wt[1])]}static inverseTransform(Ke){const We=Ke[0]*Ke[3]-Ke[1]*Ke[2];return[Ke[3]/We,-Ke[1]/We,-Ke[2]/We,Ke[0]/We,(Ke[2]*Ke[5]-Ke[4]*Ke[3])/We,(Ke[4]*Ke[1]-Ke[5]*Ke[0])/We]}static singularValueDecompose2dScale(Ke){const We=[Ke[0],Ke[2],Ke[1],Ke[3]],bt=Ke[0]*We[0]+Ke[1]*We[2],Lt=Ke[0]*We[1]+Ke[1]*We[3],Ut=Ke[2]*We[0]+Ke[3]*We[2],Wt=Ke[2]*We[1]+Ke[3]*We[3],kn=(bt+Wt)/2,zt=Math.sqrt((bt+Wt)**2-4*(bt*Wt-Ut*Lt))/2,on=kn+zt||1,yn=kn-zt||1;return[Math.sqrt(on),Math.sqrt(yn)]}static normalizeRect(Ke){const We=Ke.slice(0);return Ke[0]>Ke[2]&&(We[0]=Ke[2],We[2]=Ke[0]),Ke[1]>Ke[3]&&(We[1]=Ke[3],We[3]=Ke[1]),We}static intersect(Ke,We){const bt=Math.max(Math.min(Ke[0],Ke[2]),Math.min(We[0],We[2])),Lt=Math.min(Math.max(Ke[0],Ke[2]),Math.max(We[0],We[2]));if(bt>Lt)return null;const Ut=Math.max(Math.min(Ke[1],Ke[3]),Math.min(We[1],We[3])),Wt=Math.min(Math.max(Ke[1],Ke[3]),Math.max(We[1],We[3]));return Ut>Wt?null:[bt,Ut,Lt,Wt]}static bezierBoundingBox(Ke,We,bt,Lt,Ut,Wt,kn,zt){const on=[],yn=[[],[]];let Dn,Fn,Kn,gn,Hn,Yn,nr,rr;for(let ir=0;ir<2;++ir){if(ir===0?(Fn=6*Ke-12*bt+6*Ut,Dn=-3*Ke+9*bt-9*Ut+3*kn,Kn=3*bt-3*Ke):(Fn=6*We-12*Lt+6*Wt,Dn=-3*We+9*Lt-9*Wt+3*zt,Kn=3*Lt-3*We),Math.abs(Dn)<1e-12){if(Math.abs(Fn)<1e-12)continue;gn=-Kn/Fn,0<gn&&gn<1&&on.push(gn);continue}nr=Fn*Fn-4*Kn*Dn,rr=Math.sqrt(nr),!(nr<0)&&(Hn=(-Fn+rr)/(2*Dn),0<Hn&&Hn<1&&on.push(Hn),Yn=(-Fn-rr)/(2*Dn),0<Yn&&Yn<1&&on.push(Yn))}let Un=on.length,An;const Wn=Un;for(;Un--;)gn=on[Un],An=1-gn,yn[0][Un]=An*An*An*Ke+3*An*An*gn*bt+3*An*gn*gn*Ut+gn*gn*gn*kn,yn[1][Un]=An*An*An*We+3*An*An*gn*Lt+3*An*gn*gn*Wt+gn*gn*gn*zt;return yn[0][Wn]=Ke,yn[1][Wn]=We,yn[0][Wn+1]=kn,yn[1][Wn+1]=zt,yn[0].length=yn[1].length=Wn+2,[Math.min(...yn[0]),Math.min(...yn[1]),Math.max(...yn[0]),Math.max(...yn[1])]}}$.Util=Ie;const Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nt(ot){if(ot[0]>="ï"){let We;if(ot[0]==="þ"&&ot[1]==="ÿ"?We="utf-16be":ot[0]==="ÿ"&&ot[1]==="þ"?We="utf-16le":ot[0]==="ï"&&ot[1]==="»"&&ot[2]==="¿"&&(We="utf-8"),We)try{const bt=new TextDecoder(We,{fatal:!0}),Lt=_e(ot);return bt.decode(Lt)}catch(bt){et(`stringToPDFString: "${bt}".`)}}const Ke=[];for(let We=0,bt=ot.length;We<bt;We++){const Lt=Re[ot.charCodeAt(We)];Ke.push(Lt?String.fromCharCode(Lt):ot.charAt(We))}return Ke.join("")}function at(ot){return decodeURIComponent(escape(ot))}function gt(ot){return unescape(encodeURIComponent(ot))}function vt(ot){return typeof ot=="object"&&ot!==null&&ot.byteLength!==void 0}function wt(ot,Ke){if(ot.length!==Ke.length)return!1;for(let We=0,bt=ot.length;We<bt;We++)if(ot[We]!==Ke[We])return!1;return!0}function Ht(ot=new Date){return[ot.getUTCFullYear().toString(),(ot.getUTCMonth()+1).toString().padStart(2,"0"),ot.getUTCDate().toString().padStart(2,"0"),ot.getUTCHours().toString().padStart(2,"0"),ot.getUTCMinutes().toString().padStart(2,"0"),ot.getUTCSeconds().toString().padStart(2,"0")].join("")}function Zt(){const ot=Object.create(null);let Ke=!1;return Object.defineProperty(ot,"settled",{get(){return Ke}}),ot.promise=new Promise(function(We,bt){ot.resolve=function(Lt){Ke=!0,We(Lt)},ot.reject=function(Lt){Ke=!0,bt(Lt)}}),ot}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,B,R,O,re,he,me,se,ne,Ir,oe,ee,Or,G,U;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Q,NodeCMapReaderFactory:W,NodeStandardFontDataFactory:X}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Q,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=W,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=X}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:Q}=__w_pdfjs_require__(21);createPDFNetworkStream=W=>new Q(W)}else{const{PDFNetworkStream:Q}=__w_pdfjs_require__(24),{PDFFetchStream:W}=__w_pdfjs_require__(25);createPDFNetworkStream=X=>(0,_display_utils.isValidFetchUrl)(X.url)?new W(X):new Q(X)}function getDocument(Q){if(typeof Q=="string"||Q instanceof URL)Q={url:Q};else if((0,_util.isArrayBuffer)(Q))Q={data:Q};else if(Q instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),Q={range:Q};else if(typeof Q!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Q.url&&!Q.data&&!Q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const W=new PDFDocumentLoadingTask,X=Q.url?getUrlProp(Q.url):null,H=Q.data?getDataProp(Q.data):null,K=Q.httpHeaders||null,ue=Q.withCredentials===!0,q=Q.password??null,pe=Q.range instanceof PDFDataRangeTransport?Q.range:null,ye=Number.isInteger(Q.rangeChunkSize)&&Q.rangeChunkSize>0?Q.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Me=Q.worker instanceof PDFWorker?Q.worker:null;const ze=Q.verbosity,lt=typeof Q.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Q.docBaseUrl)?Q.docBaseUrl:null,Xe=typeof Q.cMapUrl=="string"?Q.cMapUrl:null,Je=Q.cMapPacked!==!1,Ve=Q.CMapReaderFactory||DefaultCMapReaderFactory,Le=typeof Q.standardFontDataUrl=="string"?Q.standardFontDataUrl:null,Ne=Q.StandardFontDataFactory||DefaultStandardFontDataFactory,et=Q.stopAtErrors!==!0,tt=Number.isInteger(Q.maxImageSize)&&Q.maxImageSize>-1?Q.maxImageSize:-1,we=Q.isEvalSupported!==!1,le=typeof Q.isOffscreenCanvasSupported=="boolean"?Q.isOffscreenCanvasSupported:!_is_node.isNodeJS,ie=typeof Q.disableFontFace=="boolean"?Q.disableFontFace:_is_node.isNodeJS,ge=Q.fontExtraProperties===!0,xe=Q.enableXfa===!0,Ae=Q.ownerDocument||globalThis.document,Se=Q.disableRange===!0,je=Q.disableStream===!0,Ze=Q.disableAutoFetch===!0,rt=Q.pdfBug===!0,Ue=pe?pe.length:Q.length??NaN,ae=typeof Q.useSystemFonts=="boolean"?Q.useSystemFonts:!_is_node.isNodeJS&&!ie,ce=typeof Q.useWorkerFetch=="boolean"?Q.useWorkerFetch:Ve===_display_utils.DOMCMapReaderFactory&&Ne===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(Xe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Le,document.baseURI),_e=null;(0,_util.setVerbosityLevel)(ze);const Ee=ce?null:{cMapReaderFactory:new Ve({baseUrl:Xe,isCompressed:Je}),standardFontDataFactory:new Ne({baseUrl:Le})};if(!Me){const $e={verbosity:ze,port:_worker_options.GlobalWorkerOptions.workerPort};Me=$e.port?PDFWorker.fromPort($e):new PDFWorker($e),W._worker=Me}const de=W.docId,ke={docId:de,apiVersion:"3.4.120",data:H,password:q,disableAutoFetch:Ze,rangeChunkSize:ye,length:Ue,docBaseUrl:lt,enableXfa:xe,evaluatorOptions:{maxImageSize:tt,disableFontFace:ie,ignoreErrors:et,isEvalSupported:we,isOffscreenCanvasSupported:le,fontExtraProperties:ge,useSystemFonts:ae,cMapUrl:ce?Xe:null,standardFontDataUrl:ce?Le:null}},Te={ignoreErrors:et,isEvalSupported:we,disableFontFace:ie,fontExtraProperties:ge,enableXfa:xe,ownerDocument:Ae,disableAutoFetch:Ze,pdfBug:rt,styleElement:_e};return Me.promise.then(function(){if(W.destroyed)throw new Error("Loading aborted");const $e=_fetchDocument(Me,ke),Qe=new Promise(function(Ce){let Ie;pe?Ie=new _transport_stream.PDFDataTransportStream({length:Ue,initialData:pe.initialData,progressiveDone:pe.progressiveDone,contentDispositionFilename:pe.contentDispositionFilename,disableRange:Se,disableStream:je},pe):H||(Ie=createPDFNetworkStream({url:X,length:Ue,httpHeaders:K,withCredentials:ue,rangeChunkSize:ye,disableRange:Se,disableStream:je})),Ce(Ie)});return Promise.all([$e,Qe]).then(function([Ce,Ie]){if(W.destroyed)throw new Error("Loading aborted");const Re=new _message_handler.MessageHandler(de,Ce,Me.port),nt=new WorkerTransport(Re,W,Ie,Te,Ee);W._transport=nt,Re.send("Ready",null)})}).catch(W._capability.reject),W}async function _fetchDocument(Q,W){if(Q.destroyed)throw new Error("Worker was destroyed");const X=await Q.messageHandler.sendWithPromise("GetDocRequest",W,W.data?[W.data.buffer]:null);if(Q.destroyed)throw new Error("Worker was destroyed");return X}function getUrlProp(Q){if(Q instanceof URL)return Q.href;try{return new URL(Q,window.location).href}catch{if(_is_node.isNodeJS&&typeof Q=="string")return Q}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Q){if(_is_node.isNodeJS&&typeof Buffer<"u"&&Q instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(Q);if(Q instanceof Uint8Array&&Q.byteLength===Q.buffer.byteLength)return Q;if(typeof Q=="string")return(0,_util.stringToBytes)(Q);if(typeof Q=="object"&&!isNaN(Q==null?void 0:Q.length)||(0,_util.isArrayBuffer)(Q))return new Uint8Array(Q);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const V=class V{constructor(){pt(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Fr(V,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return be(this,$)}set onUnsupportedFeature(W){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),_t(this,$,W)}get promise(){return this._capability.promise}async destroy(){var W;this.destroyed=!0,await((W=this._transport)==null?void 0:W.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$=new WeakMap,pt(V,A,0);let PDFDocumentLoadingTask=V;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(W,X,H=!1,K=null){this.length=W,this.initialData=X,this.progressiveDone=H,this.contentDispositionFilename=K,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(W){this._rangeListeners.push(W)}addProgressListener(W){this._progressListeners.push(W)}addProgressiveReadListener(W){this._progressiveReadListeners.push(W)}addProgressiveDoneListener(W){this._progressiveDoneListeners.push(W)}onDataRange(W,X){for(const H of this._rangeListeners)H(W,X)}onDataProgress(W,X){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(W,X)})}onDataProgressiveRead(W){this._readyCapability.promise.then(()=>{for(const X of this._progressiveReadListeners)X(W)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const W of this._progressiveDoneListeners)W()})}transportReady(){this._readyCapability.resolve()}requestDataRange(W,X){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(W,X){this._pdfInfo=W,this._transport=X}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(W){return this._transport.getPage(W)}getPageIndex(W){return this._transport.getPageIndex(W)}getDestinations(){return this._transport.getDestinations()}getDestination(W){return this._transport.getDestination(W)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(W=!1){return this._transport.startCleanup(W||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(W,X,H,K,ue=!1){this._pageIndex=W,this._pageInfo=X,this._ownerDocument=K,this._transport=H,this._stats=ue?new _display_utils.StatTimer:null,this._pdfBug=ue,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:W,rotation:X=this.rotate,offsetX:H=0,offsetY:K=0,dontFlip:ue=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:W,rotation:X,offsetX:H,offsetY:K,dontFlip:ue})}getAnnotations({intent:W="display"}={}){const X=this._transport.getRenderingIntent(W);return this._transport.getAnnotations(this._pageIndex,X.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var W;return((W=this._transport._htmlForXfa)==null?void 0:W.children[this._pageIndex])||null}render({canvasContext:W,viewport:X,intent:H="display",annotationMode:K=_util.AnnotationMode.ENABLE,transform:ue=null,canvasFactory:q=null,background:pe=null,optionalContentConfigPromise:ye=null,annotationCanvasMap:Me=null,pageColors:ze=null,printAnnotationStorage:lt=null}){var we,le;(we=this._stats)==null||we.time("Overall");const Xe=this._transport.getRenderingIntent(H,K,lt);this.pendingCleanup=!1,ye||(ye=this._transport.getOptionalContentConfig());let Je=this._intentStates.get(Xe.cacheKey);Je||(Je=Object.create(null),this._intentStates.set(Xe.cacheKey,Je)),Je.streamReaderCancelTimeout&&(clearTimeout(Je.streamReaderCancelTimeout),Je.streamReaderCancelTimeout=null);const Ve=q||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Le=!!(Xe.renderingIntent&_util.RenderingIntentFlag.PRINT);Je.displayReadyCapability||(Je.displayReadyCapability=(0,_util.createPromiseCapability)(),Je.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(le=this._stats)==null||le.time("Page Request"),this._pumpOperatorList(Xe));const Ne=ie=>{var ge,xe;Je.renderTasks.delete(et),(this.cleanupAfterRender||Le)&&(this.pendingCleanup=!0),this._tryCleanup(),ie?(et.capability.reject(ie),this._abortOperatorList({intentState:Je,reason:ie instanceof Error?ie:new Error(ie)})):et.capability.resolve(),(ge=this._stats)==null||ge.timeEnd("Rendering"),(xe=this._stats)==null||xe.timeEnd("Overall")},et=new InternalRenderTask({callback:Ne,params:{canvasContext:W,viewport:X,transform:ue,background:pe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Me,operatorList:Je.operatorList,pageIndex:this._pageIndex,canvasFactory:Ve,useRequestAnimationFrame:!Le,pdfBug:this._pdfBug,pageColors:ze});(Je.renderTasks||(Je.renderTasks=new Set)).add(et);const tt=et.task;return Promise.all([Je.displayReadyCapability.promise,ye]).then(([ie,ge])=>{var xe;if(this.pendingCleanup){Ne();return}(xe=this._stats)==null||xe.time("Rendering"),et.initializeGraphics({transparency:ie,optionalContentConfig:ge}),et.operatorListChanged()}).catch(Ne),tt}getOperatorList({intent:W="display",annotationMode:X=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var ye;function K(){q.operatorList.lastChunk&&(q.opListReadCapability.resolve(q.operatorList),q.renderTasks.delete(pe))}const ue=this._transport.getRenderingIntent(W,X,H,!0);let q=this._intentStates.get(ue.cacheKey);q||(q=Object.create(null),this._intentStates.set(ue.cacheKey,q));let pe;return q.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=K,q.opListReadCapability=(0,_util.createPromiseCapability)(),(q.renderTasks||(q.renderTasks=new Set)).add(pe),q.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ye=this._stats)==null||ye.time("Page Request"),this._pumpOperatorList(ue)),q.opListReadCapability.promise}streamTextContent({disableCombineTextItems:W=!1,includeMarkedContent:X=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:W!==!0,includeMarkedContent:X===!0},{highWaterMark:100,size(K){return K.items.length}})}getTextContent(W={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const X=this.streamTextContent(W);return new Promise(function(H,K){function ue(){q.read().then(function({value:ye,done:Me}){if(Me){H(pe);return}Object.assign(pe.styles,ye.styles),pe.items.push(...ye.items),ue()},K)}const q=X.getReader(),pe={items:[],styles:Object.create(null)};ue()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const W=[];for(const X of this._intentStates.values())if(this._abortOperatorList({intentState:X,reason:new Error("Page was destroyed."),force:!0}),!X.opListReadCapability)for(const H of X.renderTasks)W.push(H.completed),H.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(W)}cleanup(W=!1){return this.pendingCleanup=!0,this._tryCleanup(W)}_tryCleanup(W=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:X,operatorList:H}of this._intentStates.values())if(X.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(W,X){var K,ue;const H=this._intentStates.get(X);H&&((K=this._stats)==null||K.timeEnd("Page Request"),(ue=H.displayReadyCapability)==null||ue.resolve(W))}_renderPageChunk(W,X){for(let H=0,K=W.length;H<K;H++)X.operatorList.fnArray.push(W.fnArray[H]),X.operatorList.argsArray.push(W.argsArray[H]);X.operatorList.lastChunk=W.lastChunk,X.operatorList.separateAnnots=W.separateAnnots;for(const H of X.renderTasks)H.operatorListChanged();W.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:W,cacheKey:X,annotationStorageMap:H}){const ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:W,cacheKey:X,annotationStorage:H}).getReader(),q=this._intentStates.get(X);q.streamReader=ue;const pe=()=>{ue.read().then(({value:ye,done:Me})=>{if(Me){q.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ye,q),pe())},ye=>{if(q.streamReader=null,!this._transport.destroyed){if(q.operatorList){q.operatorList.lastChunk=!0;for(const Me of q.renderTasks)Me.operatorListChanged();this._tryCleanup()}if(q.displayReadyCapability)q.displayReadyCapability.reject(ye);else if(q.opListReadCapability)q.opListReadCapability.reject(ye);else throw ye}})};pe()}_abortOperatorList({intentState:W,reason:X,force:H=!1}){if(W.streamReader){if(W.streamReaderCancelTimeout&&(clearTimeout(W.streamReaderCancelTimeout),W.streamReaderCancelTimeout=null),!H){if(W.renderTasks.size>0)return;if(X instanceof _display_utils.RenderingCancelledException){let K=RENDERING_CANCELLED_TIMEOUT;X.extraDelay>0&&X.extraDelay<1e3&&(K+=X.extraDelay),W.streamReaderCancelTimeout=setTimeout(()=>{W.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:W,reason:X,force:!0})},K);return}}if(W.streamReader.cancel(new _util.AbortException(X.message)).catch(()=>{}),W.streamReader=null,!this._transport.destroyed){for(const[K,ue]of this._intentStates)if(ue===W){this._intentStates.delete(K);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){pt(this,B,new Set);pt(this,R,Promise.resolve())}postMessage(W,X){const H={data:structuredClone(W,X)};be(this,R).then(()=>{for(const K of be(this,B))K.call(this,H)})}addEventListener(W,X){be(this,B).add(X)}removeEventListener(W,X){be(this,B).delete(X)}terminate(){be(this,B).clear()}}B=new WeakMap,R=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Q=(O=document==null?void 0:document.currentScript)==null?void 0:O.src;Q&&(PDFWorkerUtil.fallbackWorkerSrc=Q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Q,W){let X;try{if(X=new URL(Q),!X.origin||X.origin==="null")return!1}catch{return!1}const H=new URL(W,X);return X.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(Q){const W=`importScripts("${Q}");`;return URL.createObjectURL(new Blob([W]))}}const _PDFWorker=class _PDFWorker{constructor({name:Q=null,port:W=null,verbosity:X=(0,_util.getVerbosityLevel)()}={}){if(W&&be(_PDFWorker,re).has(W))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Q,this.destroyed=!1,this.verbosity=X,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,W){be(_PDFWorker,re).set(W,this),this._initializeFromPort(W);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Q){this._port=Q,this._messageHandler=new _message_handler.MessageHandler("main","worker",Q),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Q}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Q)||(Q=PDFWorkerUtil.createCDNWrapper(new URL(Q,window.location).href));const W=new Worker(Q),X=new _message_handler.MessageHandler("main","worker",W),H=()=>{W.removeEventListener("error",K),X.destroy(),W.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},K=()=>{this._webWorker||H()};W.addEventListener("error",K),X.on("test",q=>{if(W.removeEventListener("error",K),this.destroyed){H();return}q?(this._messageHandler=X,this._port=W,this._webWorker=W,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),X.destroy(),W.terminate())}),X.on("ready",q=>{if(W.removeEventListener("error",K),this.destroyed){H();return}try{ue()}catch{this._setupFakeWorker()}});const ue=()=>{const q=new Uint8Array;X.send("test",q,[q.buffer])};ue();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Q=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const W=new LoopbackPort;this._port=W;const X=`fake${PDFWorkerUtil.fakeWorkerId++}`,H=new _message_handler.MessageHandler(X+"_worker",X,W);Q.setup(H,W);const K=new _message_handler.MessageHandler(X,X+"_worker",W);this._messageHandler=K,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})}).catch(Q=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Q.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),be(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Q){if(!(Q!=null&&Q.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return be(this,re).has(Q.port)?be(this,re).get(Q.port):new _PDFWorker(Q)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Q;try{return((Q=globalThis.pdfjsWorker)==null?void 0:Q.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,pt(_PDFWorker,re,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(W,X,H,K,ue){pt(this,ne);pt(this,he,new Map);pt(this,me,new Map);pt(this,se,new Map);this.messageHandler=W,this.loadingTask=X,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:K.ownerDocument,styleElement:K.styleElement}),this._params=K,this.cMapReaderFactory=ue==null?void 0:ue.cMapReaderFactory,this.standardFontDataFactory=ue==null?void 0:ue.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(W,X=_util.AnnotationMode.ENABLE,H=null,K=!1){let ue=_util.RenderingIntentFlag.DISPLAY,q=null;switch(W){case"any":ue=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ue=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${W}`)}switch(X){case _util.AnnotationMode.DISABLE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ue+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ue+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,q=(ue&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${X}`)}return K&&(ue+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ue,cacheKey:`${ue}_${_annotation_storage.AnnotationStorage.getHash(q)}`,annotationStorageMap:q}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const W=[];for(const H of be(this,me).values())W.push(H._destroy());be(this,me).clear(),be(this,se).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const X=this.messageHandler.sendWithPromise("Terminate",null);return W.push(X),Promise.all(W).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),be(this,he).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:W,loadingTask:X}=this;W.on("GetReader",(H,K)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ue=>{this._lastProgress={loaded:ue.loaded,total:ue.total}},K.onPull=()=>{this._fullReader.read().then(function({value:ue,done:q}){if(q){K.close();return}(0,_util.assert)(ue instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(ue),1,[ue])}).catch(ue=>{K.error(ue)})},K.onCancel=ue=>{this._fullReader.cancel(ue),K.ready.catch(q=>{if(!this.destroyed)throw q})}}),W.on("ReaderHeadersReady",H=>{const K=(0,_util.createPromiseCapability)(),ue=this._fullReader;return ue.headersReady.then(()=>{var q;(!ue.isStreamingSupported||!ue.isRangeSupported)&&(this._lastProgress&&((q=X.onProgress)==null||q.call(X,this._lastProgress)),ue.onProgress=pe=>{var ye;(ye=X.onProgress)==null||ye.call(X,{loaded:pe.loaded,total:pe.total})}),K.resolve({isStreamingSupported:ue.isStreamingSupported,isRangeSupported:ue.isRangeSupported,contentLength:ue.contentLength})},K.reject),K.promise}),W.on("GetRangeReader",(H,K)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ue=this._networkStream.getRangeReader(H.begin,H.end);if(!ue){K.close();return}K.onPull=()=>{ue.read().then(function({value:q,done:pe}){if(pe){K.close();return}(0,_util.assert)(q instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),K.enqueue(new Uint8Array(q),1,[q])}).catch(q=>{K.error(q)})},K.onCancel=q=>{ue.cancel(q),K.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),W.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,X._capability.resolve(new PDFDocumentProxy(H,this))}),W.on("DocException",function(H){let K;switch(H.name){case"PasswordException":K=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":K=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":K=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":K=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":K=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}X._capability.reject(K)}),W.on("PasswordRequest",H=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),X.onPassword){const K=ue=>{ue instanceof Error?this._passwordCapability.reject(ue):this._passwordCapability.resolve({password:ue})};try{X.onPassword(K,H.code)}catch(ue){this._passwordCapability.reject(ue)}}else this._passwordCapability.reject(new _util.PasswordException(H.message,H.code));return this._passwordCapability.promise}),W.on("DataLoaded",H=>{var K;(K=X.onProgress)==null||K.call(X,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),W.on("StartRenderPage",H=>{if(this.destroyed)return;be(this,me).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),W.on("commonobj",([H,K,ue])=>{var q;if(!this.destroyed&&!this.commonObjs.has(H))switch(K){case"Font":const pe=this._params;if("error"in ue){const ze=ue.error;(0,_util.warn)(`Error during font loading: ${ze}`),this.commonObjs.resolve(H,ze);break}let ye=null;pe.pdfBug&&((q=globalThis.FontInspector)!=null&&q.enabled)&&(ye={registerFont(ze,lt){globalThis.FontInspector.fontAdded(ze,lt)}});const Me=new _font_loader.FontFaceObject(ue,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ye});this.fontLoader.bind(Me).catch(ze=>W.sendWithPromise("FontFallback",{id:H})).finally(()=>{!pe.fontExtraProperties&&Me.data&&(Me.data=null),this.commonObjs.resolve(H,Me)});break;case"FontPath":case"Image":this.commonObjs.resolve(H,ue);break;default:throw new Error(`Got unknown common object type ${K}`)}}),W.on("obj",([H,K,ue,q])=>{var ye;if(this.destroyed)return;const pe=be(this,me).get(K);if(!pe.objs.has(H))switch(ue){case"Image":pe.objs.resolve(H,q);const Me=8e6;if(q){let ze;if(q.bitmap){const{width:lt,height:Xe}=q;ze=lt*Xe*4}else ze=((ye=q.data)==null?void 0:ye.length)||0;ze>Me&&(pe.cleanupAfterRender=!0)}break;case"Pattern":pe.objs.resolve(H,q);break;default:throw new Error(`Got unknown object type ${ue}`)}}),W.on("DocProgress",H=>{var K;this.destroyed||(K=X.onProgress)==null||K.call(X,{loaded:H.loaded,total:H.total})}),W.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),W.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),W.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:W}){var X,H;this.destroyed||(H=(X=this.loadingTask).onUnsupportedFeature)==null||H.call(X,W)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var W;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((W=this._fullReader)==null?void 0:W.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(W){if(!Number.isInteger(W)||W<=0||W>this._numPages)return Promise.reject(new Error("Invalid page request."));const X=W-1,H=be(this,se).get(X);if(H)return H;const K=this.messageHandler.sendWithPromise("GetPage",{pageIndex:X}).then(ue=>{if(this.destroyed)throw new Error("Transport destroyed");const q=new PDFPageProxy(X,ue,this,this._params.ownerDocument,this._params.pdfBug);return be(this,me).set(X,q),q});return be(this,se).set(X,K),K}getPageIndex(W){return typeof W!="object"||W===null||!Number.isInteger(W.num)||W.num<0||!Number.isInteger(W.gen)||W.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:W.num,gen:W.gen})}getAnnotations(W,X){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:W,intent:X})}getFieldObjects(){return ut(this,ne,Ir).call(this,"GetFieldObjects")}hasJSActions(){return ut(this,ne,Ir).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(W){return typeof W!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:W})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(W){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:W})}getStructTree(W){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:W})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(W=>new _optional_content_config.OptionalContentConfig(W))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const W="GetMetadata",X=be(this,he).get(W);if(X)return X;const H=this.messageHandler.sendWithPromise(W,null).then(K=>{var ue,q;return{info:K[0],metadata:K[1]?new _metadata.Metadata(K[1]):null,contentDispositionFilename:((ue=this._fullReader)==null?void 0:ue.filename)??null,contentLength:((q=this._fullReader)==null?void 0:q.contentLength)??null}});return be(this,he).set(W,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(W=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const X of be(this,me).values())if(!X.cleanup())throw new Error(`startCleanup: Page ${X.pageNumber} is currently rendering.`);this.commonObjs.clear(),W||this.fontLoader.clear(),be(this,he).clear()}}get loadingParams(){const{disableAutoFetch:W,enableXfa:X}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:W,enableXfa:X})}}he=new WeakMap,me=new WeakMap,se=new WeakMap,ne=new WeakSet,Ir=function(W,X=null){const H=be(this,he).get(W);if(H)return H;const K=this.messageHandler.sendWithPromise(W,X);return be(this,he).set(W,K),K};class PDFObjects{constructor(){pt(this,ee);pt(this,oe,Object.create(null))}get(W,X=null){if(X){const K=ut(this,ee,Or).call(this,W);return K.capability.promise.then(()=>X(K.data)),null}const H=be(this,oe)[W];if(!(H!=null&&H.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${W}.`);return H.data}has(W){const X=be(this,oe)[W];return(X==null?void 0:X.capability.settled)||!1}resolve(W,X=null){const H=ut(this,ee,Or).call(this,W);H.data=X,H.capability.resolve()}clear(){var W;for(const X in be(this,oe)){const{data:H}=be(this,oe)[X];(W=H==null?void 0:H.bitmap)==null||W.close()}_t(this,oe,Object.create(null))}}oe=new WeakMap,ee=new WeakSet,Or=function(W){const X=be(this,oe)[W];return X||(be(this,oe)[W]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(W){pt(this,G,null);_t(this,G,W),this.onContinue=null}get promise(){return be(this,G).capability.promise}cancel(W=0){be(this,G).cancel(null,W)}get separateAnnots(){const{separateAnnots:W}=be(this,G).operatorList;if(!W)return!1;const{annotationCanvasMap:X}=be(this,G);return W.form||W.canvas&&(X==null?void 0:X.size)>0}}G=new WeakMap,exports.RenderTask=RenderTask;const Y=class Y{constructor({callback:W,params:X,objs:H,commonObjs:K,annotationCanvasMap:ue,operatorList:q,pageIndex:pe,canvasFactory:ye,useRequestAnimationFrame:Me=!1,pdfBug:ze=!1,pageColors:lt=null}){this.callback=W,this.params=X,this.objs=H,this.commonObjs=K,this.annotationCanvasMap=ue,this.operatorListIdx=null,this.operatorList=q,this._pageIndex=pe,this.canvasFactory=ye,this._pdfBug=ze,this.pageColors=lt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Me===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=X.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:W=!1,optionalContentConfig:X}){var pe,ye;if(this.cancelled)return;if(this._canvas){if(be(Y,U).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");be(Y,U).add(this._canvas)}this._pdfBug&&((pe=globalThis.StepperManager)!=null&&pe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:K,transform:ue,background:q}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:X},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ue,viewport:K,transparency:W,background:q}),this.operatorListIdx=0,this.graphicsReady=!0,(ye=this.graphicsReadyCallback)==null||ye.call(this)}cancel(W=null,X=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),this._canvas&&be(Y,U).delete(this._canvas),this.callback(W||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",X))}operatorListChanged(){var W;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(W=this.stepper)==null||W.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&be(Y,U).delete(this._canvas),this.callback())))}};U=new WeakMap,pt(Y,U,new WeakSet);let InternalRenderTask=Y;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(A,$,V)=>{var me,se,ne,bi,oe;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var B=V(1),R=V(4),O=V(8);class re{constructor(){pt(this,ne);pt(this,me,!1);pt(this,se,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(te,G){const U=be(this,se).get(te);return U===void 0?G:Object.assign(G,U)}getRawValue(te){return be(this,se).get(te)}remove(te){if(be(this,se).delete(te),be(this,se).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of be(this,se).values())if(G instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(te,G){const U=be(this,se).get(te);let Y=!1;if(U!==void 0)for(const[Q,W]of Object.entries(G))U[Q]!==W&&(Y=!0,U[Q]=W);else Y=!0,be(this,se).set(te,G);Y&&ut(this,ne,bi).call(this),G instanceof R.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(te){return be(this,se).has(te)}getAll(){return be(this,se).size>0?(0,B.objectFromMap)(be(this,se)):null}setAll(te){for(const[G,U]of Object.entries(te))this.setValue(G,U)}get size(){return be(this,se).size}resetModified(){be(this,me)&&(_t(this,me,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new he(this)}get serializable(){if(be(this,se).size===0)return null;const te=new Map;for(const[G,U]of be(this,se)){const Y=U instanceof R.AnnotationEditor?U.serialize():U;Y&&te.set(G,Y)}return te}static getHash(te){if(!te)return"";const G=new O.MurmurHash3_64;for(const[U,Y]of te)G.update(`${U}:${JSON.stringify(Y)}`);return G.hexdigest()}}me=new WeakMap,se=new WeakMap,ne=new WeakSet,bi=function(){be(this,me)||(_t(this,me,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=re;class he extends re{constructor(G){super();pt(this,oe,null);_t(this,oe,structuredClone(G.serializable))}get print(){(0,B.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return be(this,oe)}}oe=new WeakMap,$.PrintAnnotationStorage=he},(A,$,V)=>{var re,he,me,se,ne,ve;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var B=V(5),R=V(1);const oe=class oe{constructor(te){pt(this,re,this.focusin.bind(this));pt(this,he,this.focusout.bind(this));pt(this,me,!1);pt(this,se,!1);pt(this,ne,!1);dn(this,"_uiManager",null);pt(this,ve,oe._zIndex++);this.constructor===oe&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=te.parent,this.id=te.id,this.width=this.height=null,this.pageIndex=te.parent.pageIndex,this.name=te.name,this.div=null,this._uiManager=te.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:Y,pageX:Q,pageY:W}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,Y],this.pageTranslation=[Q,W];const[X,H]=this.parentDimensions;this.x=te.x/X,this.y=te.y/H,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(te){this._uiManager.addCommands(te)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=be(this,ve)}setParent(te){te!==null&&(this.pageIndex=te.pageIndex,this.pageDimensions=te.pageDimensions),this.parent=te}focusin(te){be(this,me)?_t(this,me,!1):this.parent.setSelected(this)}focusout(te){var U;if(!this.isAttachedToDOM)return;const G=te.relatedTarget;G!=null&&G.closest(`#${this.id}`)||(te.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(te){const G=this.parent.div.getBoundingClientRect();this.startX=te.clientX-G.x,this.startY=te.clientY-G.y,te.dataTransfer.setData("text/plain",this.id),te.dataTransfer.effectAllowed="move"}setAt(te,G,U,Y){const[Q,W]=this.parentDimensions;[U,Y]=this.screenToPageTranslation(U,Y),this.x=(te+U)/Q,this.y=(G+Y)/W,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(te,G){const[U,Y]=this.parentDimensions;[te,G]=this.screenToPageTranslation(te,G),this.x+=te/U,this.y+=G/Y,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(te,G){switch(this.parentRotation){case 90:return[G,-te];case 180:return[-te,-G];case 270:return[-G,te];default:return[te,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:te}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*te,U*te]}setDims(te,G){const[U,Y]=this.parentDimensions;this.div.style.width=`${100*te/U}%`,this.div.style.height=`${100*G/Y}%`}fixDims(){const{style:te}=this.div,{height:G,width:U}=te,Y=U.endsWith("%"),Q=G.endsWith("%");if(Y&&Q)return;const[W,X]=this.parentDimensions;Y||(te.width=`${100*parseFloat(U)/W}%`),Q||(te.height=`${100*parseFloat(G)/X}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",be(this,re)),this.div.addEventListener("focusout",be(this,he));const[te,G]=this.getInitialTranslation();return this.translate(te,G),(0,B.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(te){const{isMac:G}=R.FeatureTest.platform;if(te.button!==0||te.ctrlKey&&G){te.preventDefault();return}te.ctrlKey&&!G||te.shiftKey||te.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),_t(this,me,!0)}getRect(te,G){const U=this.parentScale,[Y,Q]=this.pageDimensions,[W,X]=this.pageTranslation,H=te/U,K=G/U,ue=this.x*Y,q=this.y*Q,pe=this.width*Y,ye=this.height*Q;switch(this.rotation){case 0:return[ue+H+W,Q-q-K-ye+X,ue+H+pe+W,Q-q-K+X];case 90:return[ue+K+W,Q-q+H+X,ue+K+ye+W,Q-q+H+pe+X];case 180:return[ue-H-pe+W,Q-q+K+X,ue-H+W,Q-q+K+ye+X];case 270:return[ue-K-ye+W,Q-q-H-pe+X,ue-K+W,Q-q-H+X];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(te,G){const[U,Y,Q,W]=te,X=Q-U,H=W-Y;switch(this.rotation){case 0:return[U,G-W,X,H];case 90:return[U,G-Y,H,X];case 180:return[Q,G-Y,X,H];case 270:return[Q,G-W,H,X];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_t(this,ne,!0)}disableEditMode(){_t(this,ne,!1)}isInEditMode(){return be(this,ne)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var te;(te=this.div)==null||te.addEventListener("focusin",be(this,re))}serialize(){(0,R.unreachable)("An editor must be serializable")}static deserialize(te,G,U){const Y=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});Y.rotation=te.rotation;const[Q,W]=Y.pageDimensions,[X,H,K,ue]=Y.getRectInCurrentCoords(te.rect,W);return Y.x=X/Q,Y.y=H/W,Y.width=K/Q,Y.height=ue/W,Y}remove(){this.div.removeEventListener("focusin",be(this,re)),this.div.removeEventListener("focusout",be(this,he)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var te;(te=this.div)==null||te.classList.add("selectedEditor")}unselect(){var te;(te=this.div)==null||te.classList.remove("selectedEditor")}updateParams(te,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return be(this,se)}set isEditing(te){_t(this,se,te),te?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};re=new WeakMap,he=new WeakMap,me=new WeakMap,se=new WeakMap,ne=new WeakMap,ve=new WeakMap,dn(oe,"_colorManager",new B.ColorManager),dn(oe,"_zIndex",1);let O=oe;$.AnnotationEditor=O},(A,$,V)=>{var oe,ee,te,G,U,Y,_i,X,H,K,ue,q,pe,ye,Me,ze,lt,Xe,Je,Ve,Le,Ne,et,tt,we,le,ie,ge,xe,Ae,Se,Ei,Lr,yi,Si,Tn,sr,Ci,wi,Dr,cr,Nr;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=O,$.opacityToHex=re;var B=V(1),R=V(6);function O(Qe,Ce,Ie){for(const Re of Ie)Ce.addEventListener(Re,Qe[Re].bind(Qe))}function re(Qe){return Math.round(Math.min(255,Math.max(1,255*Qe))).toString(16).padStart(2,"0")}class he{constructor(){pt(this,oe,0)}getId(){return`${B.AnnotationEditorPrefix}${Fr(this,oe)._++}`}}oe=new WeakMap;class me{constructor(Ce=128){pt(this,ee,[]);pt(this,te,!1);pt(this,G);pt(this,U,-1);_t(this,G,Ce)}add({cmd:Ce,undo:Ie,mustExec:Re,type:nt=NaN,overwriteIfSameType:at=!1,keepUndo:gt=!1}){if(Re&&Ce(),be(this,te))return;const vt={cmd:Ce,undo:Ie,type:nt};if(be(this,U)===-1){be(this,ee).length>0&&(be(this,ee).length=0),_t(this,U,0),be(this,ee).push(vt);return}if(at&&be(this,ee)[be(this,U)].type===nt){gt&&(vt.undo=be(this,ee)[be(this,U)].undo),be(this,ee)[be(this,U)]=vt;return}const wt=be(this,U)+1;wt===be(this,G)?be(this,ee).splice(0,1):(_t(this,U,wt),wt<be(this,ee).length&&be(this,ee).splice(wt)),be(this,ee).push(vt)}undo(){be(this,U)!==-1&&(_t(this,te,!0),be(this,ee)[be(this,U)].undo(),_t(this,te,!1),_t(this,U,be(this,U)-1))}redo(){be(this,U)<be(this,ee).length-1&&(_t(this,U,be(this,U)+1),_t(this,te,!0),be(this,ee)[be(this,U)].cmd(),_t(this,te,!1))}hasSomethingToUndo(){return be(this,U)!==-1}hasSomethingToRedo(){return be(this,U)<be(this,ee).length-1}destroy(){_t(this,ee,null)}}ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=me;class se{constructor(Ce){pt(this,Y);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ie}=B.FeatureTest.platform;for(const[Re,nt]of Ce)for(const at of Re){const gt=at.startsWith("mac+");Ie&&gt?(this.callbacks.set(at.slice(4),nt),this.allKeys.add(at.split("+").at(-1))):!Ie&&!gt&&(this.callbacks.set(at,nt),this.allKeys.add(at.split("+").at(-1)))}}exec(Ce,Ie){if(!this.allKeys.has(Ie.key))return;const Re=this.callbacks.get(ut(this,Y,_i).call(this,Ie));Re&&(Re.bind(Ce)(),Ie.stopPropagation(),Ie.preventDefault())}}Y=new WeakSet,_i=function(Ce){Ce.altKey&&this.buffer.push("alt"),Ce.ctrlKey&&this.buffer.push("ctrl"),Ce.metaKey&&this.buffer.push("meta"),Ce.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ce.key);const Ie=this.buffer.join("+");return this.buffer.length=0,Ie},$.KeyboardManager=se;const W=class W{get _colors(){const Ce=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(Ce),(0,B.shadow)(this,"_colors",Ce)}convert(Ce){const Ie=(0,R.getRGB)(Ce);if(!window.matchMedia("(forced-colors: active)").matches)return Ie;for(const[Re,nt]of this._colors)if(nt.every((at,gt)=>at===Ie[gt]))return W._colorsMapping.get(Re);return Ie}getHexCode(Ce){const Ie=this._colors.get(Ce);return Ie?B.Util.makeHexColor(...Ie):Ce}};dn(W,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ne=W;$.ColorManager=ne;const $e=class $e{constructor(Ce,Ie,Re){pt(this,Se);pt(this,X,null);pt(this,H,new Map);pt(this,K,new Map);pt(this,ue,null);pt(this,q,new me);pt(this,pe,0);pt(this,ye,null);pt(this,Me,new Set);pt(this,ze,null);pt(this,lt,new he);pt(this,Xe,!1);pt(this,Je,B.AnnotationEditorType.NONE);pt(this,Ve,new Set);pt(this,Le,this.copy.bind(this));pt(this,Ne,this.cut.bind(this));pt(this,et,this.paste.bind(this));pt(this,tt,this.keydown.bind(this));pt(this,we,this.onEditingAction.bind(this));pt(this,le,this.onPageChanging.bind(this));pt(this,ie,this.onScaleChanging.bind(this));pt(this,ge,this.onRotationChanging.bind(this));pt(this,xe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});pt(this,Ae,null);_t(this,Ae,Ce),_t(this,ze,Ie),be(this,ze)._on("editingaction",be(this,we)),be(this,ze)._on("pagechanging",be(this,le)),be(this,ze)._on("scalechanging",be(this,ie)),be(this,ze)._on("rotationchanging",be(this,ge)),_t(this,ue,Re),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ut(this,Se,Lr).call(this),be(this,ze)._off("editingaction",be(this,we)),be(this,ze)._off("pagechanging",be(this,le)),be(this,ze)._off("scalechanging",be(this,ie)),be(this,ze)._off("rotationchanging",be(this,ge));for(const Ce of be(this,K).values())Ce.destroy();be(this,K).clear(),be(this,H).clear(),be(this,Me).clear(),_t(this,X,null),be(this,Ve).clear(),be(this,q).destroy()}onPageChanging({pageNumber:Ce}){_t(this,pe,Ce-1)}focusMainContainer(){be(this,Ae).focus()}addShouldRescale(Ce){be(this,Me).add(Ce)}removeShouldRescale(Ce){be(this,Me).delete(Ce)}onScaleChanging({scale:Ce}){this.commitOrRemove(),this.viewParameters.realScale=Ce*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ie of be(this,Me))Ie.onScaleChanging()}onRotationChanging({pagesRotation:Ce}){this.commitOrRemove(),this.viewParameters.rotation=Ce}addToAnnotationStorage(Ce){!Ce.isEmpty()&&be(this,ue)&&!be(this,ue).has(Ce.id)&&be(this,ue).setValue(Ce.id,Ce)}copy(Ce){if(Ce.preventDefault(),be(this,X)&&be(this,X).commitOrRemove(),!this.hasSelection)return;const Ie=[];for(const Re of be(this,Ve))Re.isEmpty()||Ie.push(Re.serialize());Ie.length!==0&&Ce.clipboardData.setData("application/pdfjs",JSON.stringify(Ie))}cut(Ce){this.copy(Ce),this.delete()}paste(Ce){Ce.preventDefault();let Ie=Ce.clipboardData.getData("application/pdfjs");if(!Ie)return;try{Ie=JSON.parse(Ie)}catch(nt){(0,B.warn)(`paste: "${nt.message}".`);return}if(!Array.isArray(Ie))return;this.unselectAll();const Re=be(this,K).get(be(this,pe));try{const nt=[];for(const vt of Ie){const wt=Re.deserialize(vt);if(!wt)return;nt.push(wt)}const at=()=>{for(const vt of nt)ut(this,Se,Dr).call(this,vt);ut(this,Se,Nr).call(this,nt)},gt=()=>{for(const vt of nt)vt.remove()};this.addCommands({cmd:at,undo:gt,mustExec:!0})}catch(nt){(0,B.warn)(`paste: "${nt.message}".`)}}keydown(Ce){var Ie;(Ie=this.getActive())!=null&&Ie.shouldGetKeyboardEvents()||$e._keyboardManager.exec(this,Ce)}onEditingAction(Ce){["undo","redo","delete","selectAll"].includes(Ce.name)&&this[Ce.name]()}setEditingState(Ce){Ce?(ut(this,Se,Ei).call(this),ut(this,Se,yi).call(this),ut(this,Se,Tn).call(this,{isEditing:be(this,Je)!==B.AnnotationEditorType.NONE,isEmpty:ut(this,Se,cr).call(this),hasSomethingToUndo:be(this,q).hasSomethingToUndo(),hasSomethingToRedo:be(this,q).hasSomethingToRedo(),hasSelectedEditor:!1})):(ut(this,Se,Lr).call(this),ut(this,Se,Si).call(this),ut(this,Se,Tn).call(this,{isEditing:!1}))}registerEditorTypes(Ce){if(!be(this,ye)){_t(this,ye,Ce);for(const Ie of be(this,ye))ut(this,Se,sr).call(this,Ie.defaultPropertiesToUpdate)}}getId(){return be(this,lt).getId()}get currentLayer(){return be(this,K).get(be(this,pe))}get currentPageIndex(){return be(this,pe)}addLayer(Ce){be(this,K).set(Ce.pageIndex,Ce),be(this,Xe)?Ce.enable():Ce.disable()}removeLayer(Ce){be(this,K).delete(Ce.pageIndex)}updateMode(Ce){if(_t(this,Je,Ce),Ce===B.AnnotationEditorType.NONE)this.setEditingState(!1),ut(this,Se,wi).call(this);else{this.setEditingState(!0),ut(this,Se,Ci).call(this);for(const Ie of be(this,K).values())Ie.updateMode(Ce)}}updateToolbar(Ce){Ce!==be(this,Je)&&be(this,ze).dispatch("switchannotationeditormode",{source:this,mode:Ce})}updateParams(Ce,Ie){if(be(this,ye)){for(const Re of be(this,Ve))Re.updateParams(Ce,Ie);for(const Re of be(this,ye))Re.updateDefaultParams(Ce,Ie)}}getEditors(Ce){const Ie=[];for(const Re of be(this,H).values())Re.pageIndex===Ce&&Ie.push(Re);return Ie}getEditor(Ce){return be(this,H).get(Ce)}addEditor(Ce){be(this,H).set(Ce.id,Ce)}removeEditor(Ce){var Ie;be(this,H).delete(Ce.id),this.unselect(Ce),(Ie=be(this,ue))==null||Ie.remove(Ce.id)}setActiveEditor(Ce){be(this,X)!==Ce&&(_t(this,X,Ce),Ce&&ut(this,Se,sr).call(this,Ce.propertiesToUpdate))}toggleSelected(Ce){if(be(this,Ve).has(Ce)){be(this,Ve).delete(Ce),Ce.unselect(),ut(this,Se,Tn).call(this,{hasSelectedEditor:this.hasSelection});return}be(this,Ve).add(Ce),Ce.select(),ut(this,Se,sr).call(this,Ce.propertiesToUpdate),ut(this,Se,Tn).call(this,{hasSelectedEditor:!0})}setSelected(Ce){for(const Ie of be(this,Ve))Ie!==Ce&&Ie.unselect();be(this,Ve).clear(),be(this,Ve).add(Ce),Ce.select(),ut(this,Se,sr).call(this,Ce.propertiesToUpdate),ut(this,Se,Tn).call(this,{hasSelectedEditor:!0})}isSelected(Ce){return be(this,Ve).has(Ce)}unselect(Ce){Ce.unselect(),be(this,Ve).delete(Ce),ut(this,Se,Tn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return be(this,Ve).size!==0}undo(){be(this,q).undo(),ut(this,Se,Tn).call(this,{hasSomethingToUndo:be(this,q).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ut(this,Se,cr).call(this)})}redo(){be(this,q).redo(),ut(this,Se,Tn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:be(this,q).hasSomethingToRedo(),isEmpty:ut(this,Se,cr).call(this)})}addCommands(Ce){be(this,q).add(Ce),ut(this,Se,Tn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ut(this,Se,cr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ce=[...be(this,Ve)],Ie=()=>{for(const nt of Ce)nt.remove()},Re=()=>{for(const nt of Ce)ut(this,Se,Dr).call(this,nt)};this.addCommands({cmd:Ie,undo:Re,mustExec:!0})}commitOrRemove(){var Ce;(Ce=be(this,X))==null||Ce.commitOrRemove()}selectAll(){for(const Ce of be(this,Ve))Ce.commit();ut(this,Se,Nr).call(this,be(this,H).values())}unselectAll(){if(be(this,X)){be(this,X).commitOrRemove();return}if(be(this,Ve).size!==0){for(const Ce of be(this,Ve))Ce.unselect();be(this,Ve).clear(),ut(this,Se,Tn).call(this,{hasSelectedEditor:!1})}}isActive(Ce){return be(this,X)===Ce}getActive(){return be(this,X)}getMode(){return be(this,Je)}};X=new WeakMap,H=new WeakMap,K=new WeakMap,ue=new WeakMap,q=new WeakMap,pe=new WeakMap,ye=new WeakMap,Me=new WeakMap,ze=new WeakMap,lt=new WeakMap,Xe=new WeakMap,Je=new WeakMap,Ve=new WeakMap,Le=new WeakMap,Ne=new WeakMap,et=new WeakMap,tt=new WeakMap,we=new WeakMap,le=new WeakMap,ie=new WeakMap,ge=new WeakMap,xe=new WeakMap,Ae=new WeakMap,Se=new WeakSet,Ei=function(){be(this,Ae).addEventListener("keydown",be(this,tt))},Lr=function(){be(this,Ae).removeEventListener("keydown",be(this,tt))},yi=function(){document.addEventListener("copy",be(this,Le)),document.addEventListener("cut",be(this,Ne)),document.addEventListener("paste",be(this,et))},Si=function(){document.removeEventListener("copy",be(this,Le)),document.removeEventListener("cut",be(this,Ne)),document.removeEventListener("paste",be(this,et))},Tn=function(Ce){Object.entries(Ce).some(([Re,nt])=>be(this,xe)[Re]!==nt)&&be(this,ze).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(be(this,xe),Ce)})},sr=function(Ce){be(this,ze).dispatch("annotationeditorparamschanged",{source:this,details:Ce})},Ci=function(){if(!be(this,Xe)){_t(this,Xe,!0);for(const Ce of be(this,K).values())Ce.enable()}},wi=function(){if(this.unselectAll(),be(this,Xe)){_t(this,Xe,!1);for(const Ce of be(this,K).values())Ce.disable()}},Dr=function(Ce){const Ie=be(this,K).get(Ce.pageIndex);Ie?Ie.addOrRebuild(Ce):this.addEditor(Ce)},cr=function(){if(be(this,H).size===0)return!0;if(be(this,H).size===1)for(const Ce of be(this,H).values())return Ce.isEmpty();return!1},Nr=function(Ce){be(this,Ve).clear();for(const Ie of Ce)Ie.isEmpty()||(be(this,Ve).add(Ie),Ie.select());ut(this,Se,Tn).call(this,{hasSelectedEditor:!0})},dn($e,"_keyboardManager",new se([[["ctrl+a","mac+meta+a"],$e.prototype.selectAll],[["ctrl+z","mac+meta+z"],$e.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],$e.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],$e.prototype.delete],[["Escape","mac+Escape"],$e.prototype.unselectAll]]));let ve=$e;$.AnnotationEditorUIManager=ve},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=K,$.getColorValues=Me,$.getCurrentTransform=ze,$.getCurrentTransformInverse=lt,$.getFilenameFromUrl=Y,$.getPdfFilenameFromUrl=Q,$.getRGB=ye,$.getXfaPageViewport=pe,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=X,$.loadScript=H,$.setLayerDimensions=Xe;var B=V(7),R=V(1);const O="http://www.w3.org/2000/svg",re="pdfjs_internal_id_";$.AnnotationPrefix=re;const Je=class Je{};dn(Je,"CSS",96),dn(Je,"PDF",72),dn(Je,"PDF_TO_CSS_UNITS",Je.CSS/Je.PDF);let he=Je;$.PixelsPerInch=he;class me extends B.BaseCanvasFactory{constructor({ownerDocument:Le=globalThis.document}={}){super(),this._document=Le}_createCanvas(Le,Ne){const et=this._document.createElement("canvas");return et.width=Le,et.height=Ne,et}}$.DOMCanvasFactory=me;async function se(Ve,Le=!1){if(X(Ve,document.baseURI)){const Ne=await fetch(Ve);if(!Ne.ok)throw new Error(Ne.statusText);return Le?new Uint8Array(await Ne.arrayBuffer()):(0,R.stringToBytes)(await Ne.text())}return new Promise((Ne,et)=>{const tt=new XMLHttpRequest;tt.open("GET",Ve,!0),Le&&(tt.responseType="arraybuffer"),tt.onreadystatechange=()=>{if(tt.readyState===XMLHttpRequest.DONE){if(tt.status===200||tt.status===0){let we;if(Le&&tt.response?we=new Uint8Array(tt.response):!Le&&tt.responseText&&(we=(0,R.stringToBytes)(tt.responseText)),we){Ne(we);return}}et(new Error(tt.statusText))}},tt.send(null)})}class ne extends B.BaseCMapReaderFactory{_fetchData(Le,Ne){return se(Le,this.isCompressed).then(et=>({cMapData:et,compressionType:Ne}))}}$.DOMCMapReaderFactory=ne;class ve extends B.BaseStandardFontDataFactory{_fetchData(Le){return se(Le,!0)}}$.DOMStandardFontDataFactory=ve;class oe extends B.BaseSVGFactory{_createSVG(Le){return document.createElementNS(O,Le)}}$.DOMSVGFactory=oe;class ee{constructor({viewBox:Le,scale:Ne,rotation:et,offsetX:tt=0,offsetY:we=0,dontFlip:le=!1}){this.viewBox=Le,this.scale=Ne,this.rotation=et,this.offsetX=tt,this.offsetY=we;const ie=(Le[2]+Le[0])/2,ge=(Le[3]+Le[1])/2;let xe,Ae,Se,je;switch(et%=360,et<0&&(et+=360),et){case 180:xe=-1,Ae=0,Se=0,je=1;break;case 90:xe=0,Ae=1,Se=1,je=0;break;case 270:xe=0,Ae=-1,Se=-1,je=0;break;case 0:xe=1,Ae=0,Se=0,je=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}le&&(Se=-Se,je=-je);let Ze,rt,Ue,ae;xe===0?(Ze=Math.abs(ge-Le[1])*Ne+tt,rt=Math.abs(ie-Le[0])*Ne+we,Ue=(Le[3]-Le[1])*Ne,ae=(Le[2]-Le[0])*Ne):(Ze=Math.abs(ie-Le[0])*Ne+tt,rt=Math.abs(ge-Le[1])*Ne+we,Ue=(Le[2]-Le[0])*Ne,ae=(Le[3]-Le[1])*Ne),this.transform=[xe*Ne,Ae*Ne,Se*Ne,je*Ne,Ze-xe*Ne*ie-Se*Ne*ge,rt-Ae*Ne*ie-je*Ne*ge],this.width=Ue,this.height=ae}get rawDims(){const{viewBox:Le}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:Le[2]-Le[0],pageHeight:Le[3]-Le[1],pageX:Le[0],pageY:Le[1]})}clone({scale:Le=this.scale,rotation:Ne=this.rotation,offsetX:et=this.offsetX,offsetY:tt=this.offsetY,dontFlip:we=!1}={}){return new ee({viewBox:this.viewBox.slice(),scale:Le,rotation:Ne,offsetX:et,offsetY:tt,dontFlip:we})}convertToViewportPoint(Le,Ne){return R.Util.applyTransform([Le,Ne],this.transform)}convertToViewportRectangle(Le){const Ne=R.Util.applyTransform([Le[0],Le[1]],this.transform),et=R.Util.applyTransform([Le[2],Le[3]],this.transform);return[Ne[0],Ne[1],et[0],et[1]]}convertToPdfPoint(Le,Ne){return R.Util.applyInverseTransform([Le,Ne],this.transform)}}$.PageViewport=ee;class te extends R.BaseException{constructor(Le,Ne,et=0){super(Le,"RenderingCancelledException"),this.type=Ne,this.extraDelay=et}}$.RenderingCancelledException=te;function G(Ve){const Le=Ve.length;let Ne=0;for(;Ne<Le&&Ve[Ne].trim()==="";)Ne++;return Ve.substring(Ne,Ne+5).toLowerCase()==="data:"}function U(Ve){return typeof Ve=="string"&&/\.pdf$/i.test(Ve)}function Y(Ve,Le=!1){return Le||([Ve]=Ve.split(/[#?]/,1)),Ve.substring(Ve.lastIndexOf("/")+1)}function Q(Ve,Le="document.pdf"){if(typeof Ve!="string")return Le;if(G(Ve))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Le;const Ne=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tt=Ne.exec(Ve);let we=et.exec(tt[1])||et.exec(tt[2])||et.exec(tt[3]);if(we&&(we=we[0],we.includes("%")))try{we=et.exec(decodeURIComponent(we))[0]}catch{}return we||Le}class W{constructor(){dn(this,"started",Object.create(null));dn(this,"times",[])}time(Le){Le in this.started&&(0,R.warn)(`Timer is already running for ${Le}`),this.started[Le]=Date.now()}timeEnd(Le){Le in this.started||(0,R.warn)(`Timer has not been started for ${Le}`),this.times.push({name:Le,start:this.started[Le],end:Date.now()}),delete this.started[Le]}toString(){const Le=[];let Ne=0;for(const{name:et}of this.times)Ne=Math.max(et.length,Ne);for(const{name:et,start:tt,end:we}of this.times)Le.push(`${et.padEnd(Ne)} ${we-tt}ms
`);return Le.join("")}}$.StatTimer=W;function X(Ve,Le){try{const{protocol:Ne}=Le?new URL(Ve,Le):new URL(Ve);return Ne==="http:"||Ne==="https:"}catch{return!1}}function H(Ve,Le=!1){return new Promise((Ne,et)=>{const tt=document.createElement("script");tt.src=Ve,tt.onload=function(we){Le&&tt.remove(),Ne(we)},tt.onerror=function(){et(new Error(`Cannot load script at: ${tt.src}`))},(document.head||document.documentElement).append(tt)})}function K(Ve){console.log("Deprecated API usage: "+Ve)}let ue;class q{static toDateObject(Le){if(!Le||typeof Le!="string")return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ne=ue.exec(Le);if(!Ne)return null;const et=parseInt(Ne[1],10);let tt=parseInt(Ne[2],10);tt=tt>=1&&tt<=12?tt-1:0;let we=parseInt(Ne[3],10);we=we>=1&&we<=31?we:1;let le=parseInt(Ne[4],10);le=le>=0&&le<=23?le:0;let ie=parseInt(Ne[5],10);ie=ie>=0&&ie<=59?ie:0;let ge=parseInt(Ne[6],10);ge=ge>=0&&ge<=59?ge:0;const xe=Ne[7]||"Z";let Ae=parseInt(Ne[8],10);Ae=Ae>=0&&Ae<=23?Ae:0;let Se=parseInt(Ne[9],10)||0;return Se=Se>=0&&Se<=59?Se:0,xe==="-"?(le+=Ae,ie+=Se):xe==="+"&&(le-=Ae,ie-=Se),new Date(Date.UTC(et,tt,we,le,ie,ge))}}$.PDFDateString=q;function pe(Ve,{scale:Le=1,rotation:Ne=0}){const{width:et,height:tt}=Ve.attributes.style,we=[0,0,parseInt(et),parseInt(tt)];return new ee({viewBox:we,scale:Le,rotation:Ne})}function ye(Ve){if(Ve.startsWith("#")){const Le=parseInt(Ve.slice(1),16);return[(Le&16711680)>>16,(Le&65280)>>8,Le&255]}return Ve.startsWith("rgb(")?Ve.slice(4,-1).split(",").map(Le=>parseInt(Le)):Ve.startsWith("rgba(")?Ve.slice(5,-1).split(",").map(Le=>parseInt(Le)).slice(0,3):((0,R.warn)(`Not a valid color format: "${Ve}"`),[0,0,0])}function Me(Ve){const Le=document.createElement("span");Le.style.visibility="hidden",document.body.append(Le);for(const Ne of Ve.keys()){Le.style.color=Ne;const et=window.getComputedStyle(Le).color;Ve.set(Ne,ye(et))}Le.remove()}function ze(Ve){const{a:Le,b:Ne,c:et,d:tt,e:we,f:le}=Ve.getTransform();return[Le,Ne,et,tt,we,le]}function lt(Ve){const{a:Le,b:Ne,c:et,d:tt,e:we,f:le}=Ve.getTransform().invertSelf();return[Le,Ne,et,tt,we,le]}function Xe(Ve,Le,Ne=!1,et=!0){if(Le instanceof ee){const{pageWidth:tt,pageHeight:we}=Le.rawDims,{style:le}=Ve,ie=`calc(var(--scale-factor) * ${tt}px)`,ge=`calc(var(--scale-factor) * ${we}px)`;!Ne||Le.rotation%180===0?(le.width=ie,le.height=ge):(le.width=ge,le.height=ie)}et&&Ve.setAttribute("data-main-rotation",Le.rotation)}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var B=V(1);class R{constructor(){this.constructor===R&&(0,B.unreachable)("Cannot initialize BaseCanvasFactory.")}create(se,ne){if(se<=0||ne<=0)throw new Error("Invalid canvas size");const ve=this._createCanvas(se,ne);return{canvas:ve,context:ve.getContext("2d")}}reset(se,ne,ve){if(!se.canvas)throw new Error("Canvas is not specified");if(ne<=0||ve<=0)throw new Error("Invalid canvas size");se.canvas.width=ne,se.canvas.height=ve}destroy(se){if(!se.canvas)throw new Error("Canvas is not specified");se.canvas.width=0,se.canvas.height=0,se.canvas=null,se.context=null}_createCanvas(se,ne){(0,B.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=R;class O{constructor({baseUrl:se=null,isCompressed:ne=!0}){this.constructor===O&&(0,B.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=se,this.isCompressed=ne}async fetch({name:se}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!se)throw new Error("CMap name must be specified.");const ne=this.baseUrl+se+(this.isCompressed?".bcmap":""),ve=this.isCompressed?B.CMapCompressionType.BINARY:B.CMapCompressionType.NONE;return this._fetchData(ne,ve).catch(oe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ne}`)})}_fetchData(se,ne){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=O;class re{constructor({baseUrl:se=null}){this.constructor===re&&(0,B.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=se}async fetch({filename:se}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!se)throw new Error("Font filename must be specified.");const ne=`${this.baseUrl}${se}`;return this._fetchData(ne).catch(ve=>{throw new Error(`Unable to load font data at: ${ne}`)})}_fetchData(se){(0,B.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=re;class he{constructor(){this.constructor===he&&(0,B.unreachable)("Cannot initialize BaseSVGFactory.")}create(se,ne,ve=!1){if(se<=0||ne<=0)throw new Error("Invalid SVG dimensions");const oe=this._createSVG("svg:svg");return oe.setAttribute("version","1.1"),ve||(oe.setAttribute("width",`${se}px`),oe.setAttribute("height",`${ne}px`)),oe.setAttribute("preserveAspectRatio","none"),oe.setAttribute("viewBox",`0 0 ${se} ${ne}`),oe}createElement(se){if(typeof se!="string")throw new Error("Invalid SVG element type");return this._createSVG(se)}_createSVG(se){(0,B.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=he},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var B=V(1);const R=3285377520,O=4294901760,re=65535;class he{constructor(se){this.h1=se?se&4294967295:R,this.h2=se?se&4294967295:R}update(se){let ne,ve;if(typeof se=="string"){ne=new Uint8Array(se.length*2),ve=0;for(let ue=0,q=se.length;ue<q;ue++){const pe=se.charCodeAt(ue);pe<=255?ne[ve++]=pe:(ne[ve++]=pe>>>8,ne[ve++]=pe&255)}}else if((0,B.isArrayBuffer)(se))ne=se.slice(),ve=ne.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const oe=ve>>2,ee=ve-oe*4,te=new Uint32Array(ne.buffer,0,oe);let G=0,U=0,Y=this.h1,Q=this.h2;const W=3432918353,X=461845907,H=W&re,K=X&re;for(let ue=0;ue<oe;ue++)ue&1?(G=te[ue],G=G*W&O|G*H&re,G=G<<15|G>>>17,G=G*X&O|G*K&re,Y^=G,Y=Y<<13|Y>>>19,Y=Y*5+3864292196):(U=te[ue],U=U*W&O|U*H&re,U=U<<15|U>>>17,U=U*X&O|U*K&re,Q^=U,Q=Q<<13|Q>>>19,Q=Q*5+3864292196);switch(G=0,ee){case 3:G^=ne[oe*4+2]<<16;case 2:G^=ne[oe*4+1]<<8;case 1:G^=ne[oe*4],G=G*W&O|G*H&re,G=G<<15|G>>>17,G=G*X&O|G*K&re,oe&1?Y^=G:Q^=G}this.h1=Y,this.h2=Q}hexdigest(){let se=this.h1,ne=this.h2;return se^=ne>>>1,se=se*3981806797&O|se*36045&re,ne=ne*4283543511&O|((ne<<16|se>>>16)*2950163797&O)>>>16,se^=ne>>>1,se=se*444984403&O|se*60499&re,ne=ne*3301882366&O|((ne<<16|se>>>16)*3120437893&O)>>>16,se^=ne>>>1,(se>>>0).toString(16).padStart(8,"0")+(ne>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=he},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var B=V(1),R=V(10);class O{constructor({onUnsupportedFeature:me,ownerDocument:se=globalThis.document,styleElement:ne=null}){this._onUnsupportedFeature=me,this._document=se,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(me){this.nativeFontFaces.push(me),this._document.fonts.add(me)}insertRule(me){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const se=this.styleElement.sheet;se.insertRule(me,se.cssRules.length)}clear(){for(const me of this.nativeFontFaces)this._document.fonts.delete(me);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(me){if(me.attached||me.missingFile)return;if(me.attached=!0,this.isFontLoadingAPISupported){const ne=me.createNativeFontFace();if(ne){this.addNativeFontFace(ne);try{await ne.loaded}catch(ve){throw this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,B.warn)(`Failed to load font '${ne.family}': '${ve}'.`),me.disableFontFace=!0,ve}}return}const se=me.createFontFaceRule();if(se){if(this.insertRule(se),this.isSyncFontLoadingSupported)return;await new Promise(ne=>{const ve=this._queueLoadingCallback(ne);this._prepareFontLoadEvent(me,ve)})}}get isFontLoadingAPISupported(){var se;const me=!!((se=this._document)!=null&&se.fonts);return(0,B.shadow)(this,"isFontLoadingAPISupported",me)}get isSyncFontLoadingSupported(){let me=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(me=!0),(0,B.shadow)(this,"isSyncFontLoadingSupported",me)}_queueLoadingCallback(me){function se(){for((0,B.assert)(!ve.done,"completeRequest() cannot be called twice."),ve.done=!0;ne.length>0&&ne[0].done;){const oe=ne.shift();setTimeout(oe.callback,0)}}const{loadingRequests:ne}=this,ve={done:!1,complete:se,callback:me};return ne.push(ve),ve}get _loadTestFont(){const me=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,B.shadow)(this,"_loadTestFont",me)}_prepareFontLoadEvent(me,se){function ne(Me,ze){return Me.charCodeAt(ze)<<24|Me.charCodeAt(ze+1)<<16|Me.charCodeAt(ze+2)<<8|Me.charCodeAt(ze+3)&255}function ve(Me,ze,lt,Xe){const Je=Me.substring(0,ze),Ve=Me.substring(ze+lt);return Je+Xe+Ve}let oe,ee;const te=this._document.createElement("canvas");te.width=1,te.height=1;const G=te.getContext("2d");let U=0;function Y(Me,ze){if(++U>30){(0,B.warn)("Load test font never loaded."),ze();return}if(G.font="30px "+Me,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){ze();return}setTimeout(Y.bind(null,Me,ze))}const Q=`lt${Date.now()}${this.loadTestFontId++}`;let W=this._loadTestFont;W=ve(W,976,Q.length,Q);const H=16,K=1482184792;let ue=ne(W,H);for(oe=0,ee=Q.length-3;oe<ee;oe+=4)ue=ue-K+ne(Q,oe)|0;oe<Q.length&&(ue=ue-K+ne(Q+"XXX",oe)|0),W=ve(W,H,4,(0,B.string32)(ue));const q=`url(data:font/opentype;base64,${btoa(W)});`,pe=`@font-face {font-family:"${Q}";src:${q}}`;this.insertRule(pe);const ye=this._document.createElement("div");ye.style.visibility="hidden",ye.style.width=ye.style.height="10px",ye.style.position="absolute",ye.style.top=ye.style.left="0px";for(const Me of[me.loadedName,Q]){const ze=this._document.createElement("span");ze.textContent="Hi",ze.style.fontFamily=Me,ye.append(ze)}this._document.body.append(ye),Y(Q,()=>{ye.remove(),se.complete()})}}$.FontLoader=O;class re{constructor(me,{isEvalSupported:se=!0,disableFontFace:ne=!1,ignoreErrors:ve=!1,onUnsupportedFeature:oe,fontRegistry:ee=null}){this.compiledGlyphs=Object.create(null);for(const te in me)this[te]=me[te];this.isEvalSupported=se!==!1,this.disableFontFace=ne===!0,this.ignoreErrors=ve===!0,this._onUnsupportedFeature=oe,this.fontRegistry=ee}createNativeFontFace(){var se;if(!this.data||this.disableFontFace)return null;let me;if(!this.cssFontInfo)me=new FontFace(this.loadedName,this.data,{});else{const ne={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ne.style=`oblique ${this.cssFontInfo.italicAngle}deg`),me=new FontFace(this.cssFontInfo.fontFamily,this.data,ne)}return(se=this.fontRegistry)==null||se.registerFont(this),me}createFontFaceRule(){var ve;if(!this.data||this.disableFontFace)return null;const me=(0,B.bytesToString)(this.data),se=`url(data:${this.mimetype};base64,${btoa(me)});`;let ne;if(!this.cssFontInfo)ne=`@font-face {font-family:"${this.loadedName}";src:${se}}`;else{let oe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(oe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ne=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${oe}src:${se}}`}return(ve=this.fontRegistry)==null||ve.registerFont(this,se),ne}getPathGenerator(me,se){if(this.compiledGlyphs[se]!==void 0)return this.compiledGlyphs[se];let ne;try{ne=me.get(this.loadedName+"_path_"+se)}catch(ve){if(!this.ignoreErrors)throw ve;return this._onUnsupportedFeature({featureId:B.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,B.warn)(`getPathGenerator - ignoring character: "${ve}".`),this.compiledGlyphs[se]=function(oe,ee){}}if(this.isEvalSupported&&B.FeatureTest.isEvalSupported){const ve=[];for(const oe of ne){const ee=oe.args!==void 0?oe.args.join(","):"";ve.push("c.",oe.cmd,"(",ee,`);
`)}return this.compiledGlyphs[se]=new Function("c","size",ve.join(""))}return this.compiledGlyphs[se]=function(ve,oe){for(const ee of ne)ee.cmd==="scale"&&(ee.args=[oe,-oe]),ve[ee.cmd].apply(ve,ee.args)}}}$.FontFaceObject=re},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const V=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=V},(A,$,V)=>{var Ne,jr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var B=V(1),R=V(6),O=V(12),re=V(13);const he=16,me=100,se=4096,ne=15,ve=10,oe=1e3,ee=16;function te(we,le){if(we._removeMirroring)throw new Error("Context is already forwarding operations.");we.__originalSave=we.save,we.__originalRestore=we.restore,we.__originalRotate=we.rotate,we.__originalScale=we.scale,we.__originalTranslate=we.translate,we.__originalTransform=we.transform,we.__originalSetTransform=we.setTransform,we.__originalResetTransform=we.resetTransform,we.__originalClip=we.clip,we.__originalMoveTo=we.moveTo,we.__originalLineTo=we.lineTo,we.__originalBezierCurveTo=we.bezierCurveTo,we.__originalRect=we.rect,we.__originalClosePath=we.closePath,we.__originalBeginPath=we.beginPath,we._removeMirroring=()=>{we.save=we.__originalSave,we.restore=we.__originalRestore,we.rotate=we.__originalRotate,we.scale=we.__originalScale,we.translate=we.__originalTranslate,we.transform=we.__originalTransform,we.setTransform=we.__originalSetTransform,we.resetTransform=we.__originalResetTransform,we.clip=we.__originalClip,we.moveTo=we.__originalMoveTo,we.lineTo=we.__originalLineTo,we.bezierCurveTo=we.__originalBezierCurveTo,we.rect=we.__originalRect,we.closePath=we.__originalClosePath,we.beginPath=we.__originalBeginPath,delete we._removeMirroring},we.save=function(){le.save(),this.__originalSave()},we.restore=function(){le.restore(),this.__originalRestore()},we.translate=function(ge,xe){le.translate(ge,xe),this.__originalTranslate(ge,xe)},we.scale=function(ge,xe){le.scale(ge,xe),this.__originalScale(ge,xe)},we.transform=function(ge,xe,Ae,Se,je,Ze){le.transform(ge,xe,Ae,Se,je,Ze),this.__originalTransform(ge,xe,Ae,Se,je,Ze)},we.setTransform=function(ge,xe,Ae,Se,je,Ze){le.setTransform(ge,xe,Ae,Se,je,Ze),this.__originalSetTransform(ge,xe,Ae,Se,je,Ze)},we.resetTransform=function(){le.resetTransform(),this.__originalResetTransform()},we.rotate=function(ge){le.rotate(ge),this.__originalRotate(ge)},we.clip=function(ge){le.clip(ge),this.__originalClip(ge)},we.moveTo=function(ie,ge){le.moveTo(ie,ge),this.__originalMoveTo(ie,ge)},we.lineTo=function(ie,ge){le.lineTo(ie,ge),this.__originalLineTo(ie,ge)},we.bezierCurveTo=function(ie,ge,xe,Ae,Se,je){le.bezierCurveTo(ie,ge,xe,Ae,Se,je),this.__originalBezierCurveTo(ie,ge,xe,Ae,Se,je)},we.rect=function(ie,ge,xe,Ae){le.rect(ie,ge,xe,Ae),this.__originalRect(ie,ge,xe,Ae)},we.closePath=function(){le.closePath(),this.__originalClosePath()},we.beginPath=function(){le.beginPath(),this.__originalBeginPath()}}class G{constructor(le){this.canvasFactory=le,this.cache=Object.create(null)}getCanvas(le,ie,ge){let xe;return this.cache[le]!==void 0?(xe=this.cache[le],this.canvasFactory.reset(xe,ie,ge)):(xe=this.canvasFactory.create(ie,ge),this.cache[le]=xe),xe}delete(le){delete this.cache[le]}clear(){for(const le in this.cache){const ie=this.cache[le];this.canvasFactory.destroy(ie),delete this.cache[le]}}}function U(we,le,ie,ge,xe,Ae,Se,je,Ze,rt){const[Ue,ae,ce,_e,Ee,de]=(0,R.getCurrentTransform)(we);if(ae===0&&ce===0){const $e=Se*Ue+Ee,Qe=Math.round($e),Ce=je*_e+de,Ie=Math.round(Ce),Re=(Se+Ze)*Ue+Ee,nt=Math.abs(Math.round(Re)-Qe)||1,at=(je+rt)*_e+de,gt=Math.abs(Math.round(at)-Ie)||1;return we.setTransform(Math.sign(Ue),0,0,Math.sign(_e),Qe,Ie),we.drawImage(le,ie,ge,xe,Ae,0,0,nt,gt),we.setTransform(Ue,ae,ce,_e,Ee,de),[nt,gt]}if(Ue===0&&_e===0){const $e=je*ce+Ee,Qe=Math.round($e),Ce=Se*ae+de,Ie=Math.round(Ce),Re=(je+rt)*ce+Ee,nt=Math.abs(Math.round(Re)-Qe)||1,at=(Se+Ze)*ae+de,gt=Math.abs(Math.round(at)-Ie)||1;return we.setTransform(0,Math.sign(ae),Math.sign(ce),0,Qe,Ie),we.drawImage(le,ie,ge,xe,Ae,0,0,gt,nt),we.setTransform(Ue,ae,ce,_e,Ee,de),[gt,nt]}we.drawImage(le,ie,ge,xe,Ae,Se,je,Ze,rt);const ke=Math.hypot(Ue,ae),Te=Math.hypot(ce,_e);return[ke*Ze,Te*rt]}function Y(we){const{width:le,height:ie}=we;if(le>oe||ie>oe)return null;const ge=1e3,xe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ae=le+1;let Se=new Uint8Array(Ae*(ie+1)),je,Ze,rt;const Ue=le+7&-8;let ae=new Uint8Array(Ue*ie),ce=0;for(const Te of we.data){let $e=128;for(;$e>0;)ae[ce++]=Te&$e?0:255,$e>>=1}let _e=0;for(ce=0,ae[ce]!==0&&(Se[0]=1,++_e),Ze=1;Ze<le;Ze++)ae[ce]!==ae[ce+1]&&(Se[Ze]=ae[ce]?2:1,++_e),ce++;for(ae[ce]!==0&&(Se[Ze]=2,++_e),je=1;je<ie;je++){ce=je*Ue,rt=je*Ae,ae[ce-Ue]!==ae[ce]&&(Se[rt]=ae[ce]?1:8,++_e);let Te=(ae[ce]?4:0)+(ae[ce-Ue]?8:0);for(Ze=1;Ze<le;Ze++)Te=(Te>>2)+(ae[ce+1]?4:0)+(ae[ce-Ue+1]?8:0),xe[Te]&&(Se[rt+Ze]=xe[Te],++_e),ce++;if(ae[ce-Ue]!==ae[ce]&&(Se[rt+Ze]=ae[ce]?2:4,++_e),_e>ge)return null}for(ce=Ue*(ie-1),rt=je*Ae,ae[ce]!==0&&(Se[rt]=8,++_e),Ze=1;Ze<le;Ze++)ae[ce]!==ae[ce+1]&&(Se[rt+Ze]=ae[ce]?4:8,++_e),ce++;if(ae[ce]!==0&&(Se[rt+Ze]=4,++_e),_e>ge)return null;const Ee=new Int32Array([0,Ae,-1,0,-Ae,0,0,0,1]),de=new Path2D;for(je=0;_e&&je<=ie;je++){let Te=je*Ae;const $e=Te+le;for(;Te<$e&&!Se[Te];)Te++;if(Te===$e)continue;de.moveTo(Te%Ae,je);const Qe=Te;let Ce=Se[Te];do{const Ie=Ee[Ce];do Te+=Ie;while(!Se[Te]);const Re=Se[Te];Re!==5&&Re!==10?(Ce=Re,Se[Te]=0):(Ce=Re&51*Ce>>4,Se[Te]&=Ce>>2|Ce<<2),de.lineTo(Te%Ae,Te/Ae|0),Se[Te]||--_e}while(Qe!==Te);--je}return ae=null,Se=null,function(Te){Te.save(),Te.scale(1/le,-1/ie),Te.translate(0,-ie),Te.fill(de),Te.beginPath(),Te.restore()}}class Q{constructor(le,ie){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=B.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,le,ie])}clone(){const le=Object.create(this);return le.clipBox=this.clipBox.slice(),le}setCurrentPoint(le,ie){this.x=le,this.y=ie}updatePathMinMax(le,ie,ge){[ie,ge]=B.Util.applyTransform([ie,ge],le),this.minX=Math.min(this.minX,ie),this.minY=Math.min(this.minY,ge),this.maxX=Math.max(this.maxX,ie),this.maxY=Math.max(this.maxY,ge)}updateRectMinMax(le,ie){const ge=B.Util.applyTransform(ie,le),xe=B.Util.applyTransform(ie.slice(2),le);this.minX=Math.min(this.minX,ge[0],xe[0]),this.minY=Math.min(this.minY,ge[1],xe[1]),this.maxX=Math.max(this.maxX,ge[0],xe[0]),this.maxY=Math.max(this.maxY,ge[1],xe[1])}updateScalingPathMinMax(le,ie){B.Util.scaleMinMax(le,ie),this.minX=Math.min(this.minX,ie[0]),this.maxX=Math.max(this.maxX,ie[1]),this.minY=Math.min(this.minY,ie[2]),this.maxY=Math.max(this.maxY,ie[3])}updateCurvePathMinMax(le,ie,ge,xe,Ae,Se,je,Ze,rt,Ue){const ae=B.Util.bezierBoundingBox(ie,ge,xe,Ae,Se,je,Ze,rt);if(Ue){Ue[0]=Math.min(Ue[0],ae[0],ae[2]),Ue[1]=Math.max(Ue[1],ae[0],ae[2]),Ue[2]=Math.min(Ue[2],ae[1],ae[3]),Ue[3]=Math.max(Ue[3],ae[1],ae[3]);return}this.updateRectMinMax(le,ae)}getPathBoundingBox(le=O.PathType.FILL,ie=null){const ge=[this.minX,this.minY,this.maxX,this.maxY];if(le===O.PathType.STROKE){ie||(0,B.unreachable)("Stroke bounding box must include transform.");const xe=B.Util.singularValueDecompose2dScale(ie),Ae=xe[0]*this.lineWidth/2,Se=xe[1]*this.lineWidth/2;ge[0]-=Ae,ge[1]-=Se,ge[2]+=Ae,ge[3]+=Se}return ge}updateClipFromPath(){const le=B.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(le||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(le){this.clipBox=le,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(le=O.PathType.FILL,ie=null){return B.Util.intersect(this.clipBox,this.getPathBoundingBox(le,ie))}}function W(we,le,ie=null){if(typeof ImageData<"u"&&le instanceof ImageData){we.putImageData(le,0,0);return}const ge=le.height,xe=le.width,Ae=ge%ee,Se=(ge-Ae)/ee,je=Ae===0?Se:Se+1,Ze=we.createImageData(xe,ee);let rt=0,Ue;const ae=le.data,ce=Ze.data;let _e,Ee,de,ke,Te,$e,Qe,Ce;if(ie)switch(ie.length){case 1:Te=ie[0],$e=ie[0],Qe=ie[0],Ce=ie[0];break;case 4:Te=ie[0],$e=ie[1],Qe=ie[2],Ce=ie[3];break}if(le.kind===B.ImageKind.GRAYSCALE_1BPP){const Ie=ae.byteLength,Re=new Uint32Array(ce.buffer,0,ce.byteLength>>2),nt=Re.length,at=xe+7>>3;let gt=4294967295,vt=B.FeatureTest.isLittleEndian?4278190080:255;for(Ce&&Ce[0]===255&&Ce[255]===0&&([gt,vt]=[vt,gt]),_e=0;_e<je;_e++){for(de=_e<Se?ee:Ae,Ue=0,Ee=0;Ee<de;Ee++){const wt=Ie-rt;let Ht=0;const Zt=wt>at?xe:wt*8-7,ot=Zt&-8;let Ke=0,We=0;for(;Ht<ot;Ht+=8)We=ae[rt++],Re[Ue++]=We&128?gt:vt,Re[Ue++]=We&64?gt:vt,Re[Ue++]=We&32?gt:vt,Re[Ue++]=We&16?gt:vt,Re[Ue++]=We&8?gt:vt,Re[Ue++]=We&4?gt:vt,Re[Ue++]=We&2?gt:vt,Re[Ue++]=We&1?gt:vt;for(;Ht<Zt;Ht++)Ke===0&&(We=ae[rt++],Ke=128),Re[Ue++]=We&Ke?gt:vt,Ke>>=1}for(;Ue<nt;)Re[Ue++]=0;we.putImageData(Ze,0,_e*ee)}}else if(le.kind===B.ImageKind.RGBA_32BPP){const Ie=!!(Te||$e||Qe);for(Ee=0,ke=xe*ee*4,_e=0;_e<Se;_e++){if(ce.set(ae.subarray(rt,rt+ke)),rt+=ke,Ie)for(let Re=0;Re<ke;Re+=4)Te&&(ce[Re+0]=Te[ce[Re+0]]),$e&&(ce[Re+1]=$e[ce[Re+1]]),Qe&&(ce[Re+2]=Qe[ce[Re+2]]);we.putImageData(Ze,0,Ee),Ee+=ee}if(_e<je){if(ke=xe*Ae*4,ce.set(ae.subarray(rt,rt+ke)),Ie)for(let Re=0;Re<ke;Re+=4)Te&&(ce[Re+0]=Te[ce[Re+0]]),$e&&(ce[Re+1]=$e[ce[Re+1]]),Qe&&(ce[Re+2]=Qe[ce[Re+2]]);we.putImageData(Ze,0,Ee)}}else if(le.kind===B.ImageKind.RGB_24BPP){const Ie=!!(Te||$e||Qe);for(de=ee,ke=xe*de,_e=0;_e<je;_e++){for(_e>=Se&&(de=Ae,ke=xe*de),Ue=0,Ee=ke;Ee--;)ce[Ue++]=ae[rt++],ce[Ue++]=ae[rt++],ce[Ue++]=ae[rt++],ce[Ue++]=255;if(Ie)for(let Re=0;Re<Ue;Re+=4)Te&&(ce[Re+0]=Te[ce[Re+0]]),$e&&(ce[Re+1]=$e[ce[Re+1]]),Qe&&(ce[Re+2]=Qe[ce[Re+2]]);we.putImageData(Ze,0,_e*ee)}}else throw new Error(`bad image kind: ${le.kind}`)}function X(we,le){if(le.bitmap){we.drawImage(le.bitmap,0,0);return}const ie=le.height,ge=le.width,xe=ie%ee,Ae=(ie-xe)/ee,Se=xe===0?Ae:Ae+1,je=we.createImageData(ge,ee);let Ze=0;const rt=le.data,Ue=je.data;for(let ae=0;ae<Se;ae++){const ce=ae<Ae?ee:xe;({srcPos:Ze}=(0,re.applyMaskImageData)({src:rt,srcPos:Ze,dest:Ue,width:ge,height:ce})),we.putImageData(je,0,ae*ee)}}function H(we,le){const ie=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const ge of ie)we[ge]!==void 0&&(le[ge]=we[ge]);we.setLineDash!==void 0&&(le.setLineDash(we.getLineDash()),le.lineDashOffset=we.lineDashOffset)}function K(we,le){we.strokeStyle=we.fillStyle=le||"#000000",we.fillRule="nonzero",we.globalAlpha=1,we.lineWidth=1,we.lineCap="butt",we.lineJoin="miter",we.miterLimit=10,we.globalCompositeOperation="source-over",we.font="10px sans-serif",we.setLineDash!==void 0&&(we.setLineDash([]),we.lineDashOffset=0)}function ue(we,le,ie,ge){const xe=we.length;for(let Ae=3;Ae<xe;Ae+=4){const Se=we[Ae];if(Se===0)we[Ae-3]=le,we[Ae-2]=ie,we[Ae-1]=ge;else if(Se<255){const je=255-Se;we[Ae-3]=we[Ae-3]*Se+le*je>>8,we[Ae-2]=we[Ae-2]*Se+ie*je>>8,we[Ae-1]=we[Ae-1]*Se+ge*je>>8}}}function q(we,le,ie){const ge=we.length,xe=1/255;for(let Ae=3;Ae<ge;Ae+=4){const Se=ie?ie[we[Ae]]:we[Ae];le[Ae]=le[Ae]*Se*xe|0}}function pe(we,le,ie){const ge=we.length;for(let xe=3;xe<ge;xe+=4){const Ae=we[xe-3]*77+we[xe-2]*152+we[xe-1]*28;le[xe]=ie?le[xe]*ie[Ae>>8]>>8:le[xe]*Ae>>16}}function ye(we,le,ie,ge,xe,Ae,Se,je,Ze,rt,Ue){const ae=!!Ae,ce=ae?Ae[0]:0,_e=ae?Ae[1]:0,Ee=ae?Ae[2]:0;let de;xe==="Luminosity"?de=pe:de=q;const Te=Math.min(ge,Math.ceil(1048576/ie));for(let $e=0;$e<ge;$e+=Te){const Qe=Math.min(Te,ge-$e),Ce=we.getImageData(je-rt,$e+(Ze-Ue),ie,Qe),Ie=le.getImageData(je,$e+Ze,ie,Qe);ae&&ue(Ce.data,ce,_e,Ee),de(Ce.data,Ie.data,Se),le.putImageData(Ie,je,$e+Ze)}}function Me(we,le,ie,ge){const xe=ge[0],Ae=ge[1],Se=ge[2]-xe,je=ge[3]-Ae;Se===0||je===0||(ye(le.context,ie,Se,je,le.subtype,le.backdrop,le.transferMap,xe,Ae,le.offsetX,le.offsetY),we.save(),we.globalAlpha=1,we.globalCompositeOperation="source-over",we.setTransform(1,0,0,1,0,0),we.drawImage(ie.canvas,0,0),we.restore())}function ze(we,le){const ie=B.Util.singularValueDecompose2dScale(we);ie[0]=Math.fround(ie[0]),ie[1]=Math.fround(ie[1]);const ge=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return le!==void 0?le:ie[0]<=ge||ie[1]<=ge}const lt=["butt","round","square"],Xe=["miter","round","bevel"],Je={},Ve={},tt=class tt{constructor(le,ie,ge,xe,{optionalContentConfig:Ae,markedContentStack:Se=null},je,Ze){pt(this,Ne);this.ctx=le,this.current=new Q(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ie,this.objs=ge,this.canvasFactory=xe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Se||[],this.optionalContentConfig=Ae,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=je,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ze==null?void 0:Ze.background)||null,this.foregroundColor=(Ze==null?void 0:Ze.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(le,ie=null){return typeof le=="string"?le.startsWith("g_")?this.commonObjs.get(le):this.objs.get(le):ie}beginDrawing({transform:le,viewport:ie,transparency:ge=!1,background:xe=null}){const Ae=this.ctx.canvas.width,Se=this.ctx.canvas.height,je=xe||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ze=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const rt=this.backgroundColor=this.ctx.fillStyle;let Ue=!0,ae=je;if(this.ctx.fillStyle=je,ae=this.ctx.fillStyle,Ue=typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae),Ze==="#000000"&&rt==="#ffffff"||Ze===rt||!Ue)this.foregroundColor=this.backgroundColor=null;else{const[ce,_e,Ee]=(0,R.getRGB)(ae),de=Te=>(Te/=255,Te<=.03928?Te/12.92:((Te+.055)/1.055)**2.4),ke=Math.round(.2126*de(ce)+.7152*de(_e)+.0722*de(Ee));this.selectColor=(Te,$e,Qe)=>{const Ce=.2126*de(Te)+.7152*de($e)+.0722*de(Qe);return Math.round(Ce)===ke?rt:Ze}}}if(this.ctx.fillStyle=this.backgroundColor||je,this.ctx.fillRect(0,0,Ae,Se),this.ctx.restore(),ge){const Ze=this.cachedCanvases.getCanvas("transparent",Ae,Se);this.compositeCtx=this.ctx,this.transparentCanvas=Ze.canvas,this.ctx=Ze.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),K(this.ctx,this.foregroundColor),le&&(this.ctx.transform(...le),this.outputScaleX=le[0],this.outputScaleY=le[0]),this.ctx.transform(...ie.transform),this.viewportScale=ie.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(le,ie,ge,xe){const Ae=le.argsArray,Se=le.fnArray;let je=ie||0;const Ze=Ae.length;if(Ze===je)return je;const rt=Ze-je>ve&&typeof ge=="function",Ue=rt?Date.now()+ne:0;let ae=0;const ce=this.commonObjs,_e=this.objs;let Ee;for(;;){if(xe!==void 0&&je===xe.nextBreakPoint)return xe.breakIt(je,ge),je;if(Ee=Se[je],Ee!==B.OPS.dependency)this[Ee].apply(this,Ae[je]);else for(const de of Ae[je]){const ke=de.startsWith("g_")?ce:_e;if(!ke.has(de))return ke.get(de,ge),je}if(je++,je===Ze)return je;if(rt&&++ae>ve){if(Date.now()>Ue)return ge(),je;ae=0}}}endDrawing(){ut(this,Ne,jr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const le of this._cachedBitmapsMap.values()){for(const ie of le.values())typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement&&(ie.width=ie.height=0);le.clear()}this._cachedBitmapsMap.clear()}_scaleImage(le,ie){const ge=le.width,xe=le.height;let Ae=Math.max(Math.hypot(ie[0],ie[1]),1),Se=Math.max(Math.hypot(ie[2],ie[3]),1),je=ge,Ze=xe,rt="prescale1",Ue,ae;for(;Ae>2&&je>1||Se>2&&Ze>1;){let ce=je,_e=Ze;Ae>2&&je>1&&(ce=Math.ceil(je/2),Ae/=je/ce),Se>2&&Ze>1&&(_e=Math.ceil(Ze/2),Se/=Ze/_e),Ue=this.cachedCanvases.getCanvas(rt,ce,_e),ae=Ue.context,ae.clearRect(0,0,ce,_e),ae.drawImage(le,0,0,je,Ze,0,0,ce,_e),le=Ue.canvas,je=ce,Ze=_e,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:le,paintWidth:je,paintHeight:Ze}}_createMaskCanvas(le){const ie=this.ctx,{width:ge,height:xe}=le,Ae=this.current.fillColor,Se=this.current.patternFill,je=(0,R.getCurrentTransform)(ie);let Ze,rt,Ue,ae;if((le.bitmap||le.data)&&le.count>1){const nt=le.bitmap||le.data.buffer;rt=JSON.stringify(Se?je:[je.slice(0,4),Ae]),Ze=this._cachedBitmapsMap.get(nt),Ze||(Ze=new Map,this._cachedBitmapsMap.set(nt,Ze));const at=Ze.get(rt);if(at&&!Se){const gt=Math.round(Math.min(je[0],je[2])+je[4]),vt=Math.round(Math.min(je[1],je[3])+je[5]);return{canvas:at,offsetX:gt,offsetY:vt}}Ue=at}Ue||(ae=this.cachedCanvases.getCanvas("maskCanvas",ge,xe),X(ae.context,le));let ce=B.Util.transform(je,[1/ge,0,0,-1/xe,0,0]);ce=B.Util.transform(ce,[1,0,0,1,0,-xe]);const _e=B.Util.applyTransform([0,0],ce),Ee=B.Util.applyTransform([ge,xe],ce),de=B.Util.normalizeRect([_e[0],_e[1],Ee[0],Ee[1]]),ke=Math.round(de[2]-de[0])||1,Te=Math.round(de[3]-de[1])||1,$e=this.cachedCanvases.getCanvas("fillCanvas",ke,Te),Qe=$e.context,Ce=Math.min(_e[0],Ee[0]),Ie=Math.min(_e[1],Ee[1]);Qe.translate(-Ce,-Ie),Qe.transform(...ce),Ue||(Ue=this._scaleImage(ae.canvas,(0,R.getCurrentTransformInverse)(Qe)),Ue=Ue.img,Ze&&Se&&Ze.set(rt,Ue)),Qe.imageSmoothingEnabled=ze((0,R.getCurrentTransform)(Qe),le.interpolate),U(Qe,Ue,0,0,Ue.width,Ue.height,0,0,ge,xe),Qe.globalCompositeOperation="source-in";const Re=B.Util.transform((0,R.getCurrentTransformInverse)(Qe),[1,0,0,1,-Ce,-Ie]);return Qe.fillStyle=Se?Ae.getPattern(ie,this,Re,O.PathType.FILL):Ae,Qe.fillRect(0,0,ge,xe),Ze&&!Se&&(this.cachedCanvases.delete("fillCanvas"),Ze.set(rt,$e.canvas)),{canvas:$e.canvas,offsetX:Math.round(Ce),offsetY:Math.round(Ie)}}setLineWidth(le){le!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=le,this.ctx.lineWidth=le}setLineCap(le){this.ctx.lineCap=lt[le]}setLineJoin(le){this.ctx.lineJoin=Xe[le]}setMiterLimit(le){this.ctx.miterLimit=le}setDash(le,ie){const ge=this.ctx;ge.setLineDash!==void 0&&(ge.setLineDash(le),ge.lineDashOffset=ie)}setRenderingIntent(le){}setFlatness(le){}setGState(le){for(const[ie,ge]of le)switch(ie){case"LW":this.setLineWidth(ge);break;case"LC":this.setLineCap(ge);break;case"LJ":this.setLineJoin(ge);break;case"ML":this.setMiterLimit(ge);break;case"D":this.setDash(ge[0],ge[1]);break;case"RI":this.setRenderingIntent(ge);break;case"FL":this.setFlatness(ge);break;case"Font":this.setFont(ge[0],ge[1]);break;case"CA":this.current.strokeAlpha=ge;break;case"ca":this.current.fillAlpha=ge,this.ctx.globalAlpha=ge;break;case"BM":this.ctx.globalCompositeOperation=ge;break;case"SMask":this.current.activeSMask=ge?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=ge}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const le=this.inSMaskMode;this.current.activeSMask&&!le?this.beginSMaskMode():!this.current.activeSMask&&le&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const le=this.ctx.canvas.width,ie=this.ctx.canvas.height,ge="smaskGroupAt"+this.groupLevel,xe=this.cachedCanvases.getCanvas(ge,le,ie);this.suspendedCtx=this.ctx,this.ctx=xe.context;const Ae=this.ctx;Ae.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),H(this.suspendedCtx,Ae),te(Ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),H(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(le){if(!this.current.activeSMask)return;le?(le[0]=Math.floor(le[0]),le[1]=Math.floor(le[1]),le[2]=Math.ceil(le[2]),le[3]=Math.ceil(le[3])):le=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ie=this.current.activeSMask,ge=this.suspendedCtx;Me(ge,ie,this.ctx,le),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(H(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const le=this.current;this.stateStack.push(le),this.current=le.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),H(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(le,ie,ge,xe,Ae,Se){this.ctx.transform(le,ie,ge,xe,Ae,Se),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(le,ie,ge){const xe=this.ctx,Ae=this.current;let Se=Ae.x,je=Ae.y,Ze,rt;const Ue=(0,R.getCurrentTransform)(xe),ae=Ue[0]===0&&Ue[3]===0||Ue[1]===0&&Ue[2]===0,ce=ae?ge.slice(0):null;for(let _e=0,Ee=0,de=le.length;_e<de;_e++)switch(le[_e]|0){case B.OPS.rectangle:Se=ie[Ee++],je=ie[Ee++];const ke=ie[Ee++],Te=ie[Ee++],$e=Se+ke,Qe=je+Te;xe.moveTo(Se,je),ke===0||Te===0?xe.lineTo($e,Qe):(xe.lineTo($e,je),xe.lineTo($e,Qe),xe.lineTo(Se,Qe)),ae||Ae.updateRectMinMax(Ue,[Se,je,$e,Qe]),xe.closePath();break;case B.OPS.moveTo:Se=ie[Ee++],je=ie[Ee++],xe.moveTo(Se,je),ae||Ae.updatePathMinMax(Ue,Se,je);break;case B.OPS.lineTo:Se=ie[Ee++],je=ie[Ee++],xe.lineTo(Se,je),ae||Ae.updatePathMinMax(Ue,Se,je);break;case B.OPS.curveTo:Ze=Se,rt=je,Se=ie[Ee+4],je=ie[Ee+5],xe.bezierCurveTo(ie[Ee],ie[Ee+1],ie[Ee+2],ie[Ee+3],Se,je),Ae.updateCurvePathMinMax(Ue,Ze,rt,ie[Ee],ie[Ee+1],ie[Ee+2],ie[Ee+3],Se,je,ce),Ee+=6;break;case B.OPS.curveTo2:Ze=Se,rt=je,xe.bezierCurveTo(Se,je,ie[Ee],ie[Ee+1],ie[Ee+2],ie[Ee+3]),Ae.updateCurvePathMinMax(Ue,Ze,rt,Se,je,ie[Ee],ie[Ee+1],ie[Ee+2],ie[Ee+3],ce),Se=ie[Ee+2],je=ie[Ee+3],Ee+=4;break;case B.OPS.curveTo3:Ze=Se,rt=je,Se=ie[Ee+2],je=ie[Ee+3],xe.bezierCurveTo(ie[Ee],ie[Ee+1],Se,je,Se,je),Ae.updateCurvePathMinMax(Ue,Ze,rt,ie[Ee],ie[Ee+1],Se,je,Se,je,ce),Ee+=4;break;case B.OPS.closePath:xe.closePath();break}ae&&Ae.updateScalingPathMinMax(Ue,ce),Ae.setCurrentPoint(Se,je)}closePath(){this.ctx.closePath()}stroke(le=!0){const ie=this.ctx,ge=this.current.strokeColor;ie.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ge=="object"&&(ge!=null&&ge.getPattern)?(ie.save(),ie.strokeStyle=ge.getPattern(ie,this,(0,R.getCurrentTransformInverse)(ie),O.PathType.STROKE),this.rescaleAndStroke(!1),ie.restore()):this.rescaleAndStroke(!0)),le&&this.consumePath(this.current.getClippedPathBoundingBox()),ie.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(le=!0){const ie=this.ctx,ge=this.current.fillColor,xe=this.current.patternFill;let Ae=!1;xe&&(ie.save(),ie.fillStyle=ge.getPattern(ie,this,(0,R.getCurrentTransformInverse)(ie),O.PathType.FILL),Ae=!0);const Se=this.current.getClippedPathBoundingBox();this.contentVisible&&Se!==null&&(this.pendingEOFill?(ie.fill("evenodd"),this.pendingEOFill=!1):ie.fill()),Ae&&ie.restore(),le&&this.consumePath(Se)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Je}eoClip(){this.pendingClip=Ve}beginText(){this.current.textMatrix=B.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const le=this.pendingTextPaths,ie=this.ctx;if(le===void 0){ie.beginPath();return}ie.save(),ie.beginPath();for(const ge of le)ie.setTransform(...ge.transform),ie.translate(ge.x,ge.y),ge.addToPath(ie,ge.fontSize);ie.restore(),ie.clip(),ie.beginPath(),delete this.pendingTextPaths}setCharSpacing(le){this.current.charSpacing=le}setWordSpacing(le){this.current.wordSpacing=le}setHScale(le){this.current.textHScale=le/100}setLeading(le){this.current.leading=-le}setFont(le,ie){const ge=this.commonObjs.get(le),xe=this.current;if(!ge)throw new Error(`Can't find font for ${le}`);if(xe.fontMatrix=ge.fontMatrix||B.FONT_IDENTITY_MATRIX,(xe.fontMatrix[0]===0||xe.fontMatrix[3]===0)&&(0,B.warn)("Invalid font matrix for font "+le),ie<0?(ie=-ie,xe.fontDirection=-1):xe.fontDirection=1,this.current.font=ge,this.current.fontSize=ie,ge.isType3Font)return;const Ae=ge.loadedName||"sans-serif";let Se="normal";ge.black?Se="900":ge.bold&&(Se="bold");const je=ge.italic?"italic":"normal",Ze=`"${Ae}", ${ge.fallbackName}`;let rt=ie;ie<he?rt=he:ie>me&&(rt=me),this.current.fontSizeScale=ie/rt,this.ctx.font=`${je} ${Se} ${rt}px ${Ze}`}setTextRenderingMode(le){this.current.textRenderingMode=le}setTextRise(le){this.current.textRise=le}moveText(le,ie){this.current.x=this.current.lineX+=le,this.current.y=this.current.lineY+=ie}setLeadingMoveText(le,ie){this.setLeading(-ie),this.moveText(le,ie)}setTextMatrix(le,ie,ge,xe,Ae,Se){this.current.textMatrix=[le,ie,ge,xe,Ae,Se],this.current.textMatrixScale=Math.hypot(le,ie),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(le,ie,ge,xe){const Ae=this.ctx,Se=this.current,je=Se.font,Ze=Se.textRenderingMode,rt=Se.fontSize/Se.fontSizeScale,Ue=Ze&B.TextRenderingMode.FILL_STROKE_MASK,ae=!!(Ze&B.TextRenderingMode.ADD_TO_PATH_FLAG),ce=Se.patternFill&&!je.missingFile;let _e;(je.disableFontFace||ae||ce)&&(_e=je.getPathGenerator(this.commonObjs,le)),je.disableFontFace||ce?(Ae.save(),Ae.translate(ie,ge),Ae.beginPath(),_e(Ae,rt),xe&&Ae.setTransform(...xe),(Ue===B.TextRenderingMode.FILL||Ue===B.TextRenderingMode.FILL_STROKE)&&Ae.fill(),(Ue===B.TextRenderingMode.STROKE||Ue===B.TextRenderingMode.FILL_STROKE)&&Ae.stroke(),Ae.restore()):((Ue===B.TextRenderingMode.FILL||Ue===B.TextRenderingMode.FILL_STROKE)&&Ae.fillText(le,ie,ge),(Ue===B.TextRenderingMode.STROKE||Ue===B.TextRenderingMode.FILL_STROKE)&&Ae.strokeText(le,ie,ge)),ae&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,R.getCurrentTransform)(Ae),x:ie,y:ge,fontSize:rt,addToPath:_e})}get isFontSubpixelAAEnabled(){const{context:le}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);le.scale(1.5,1),le.fillText("I",0,10);const ie=le.getImageData(0,0,10,10).data;let ge=!1;for(let xe=3;xe<ie.length;xe+=4)if(ie[xe]>0&&ie[xe]<255){ge=!0;break}return(0,B.shadow)(this,"isFontSubpixelAAEnabled",ge)}showText(le){const ie=this.current,ge=ie.font;if(ge.isType3Font)return this.showType3Text(le);const xe=ie.fontSize;if(xe===0)return;const Ae=this.ctx,Se=ie.fontSizeScale,je=ie.charSpacing,Ze=ie.wordSpacing,rt=ie.fontDirection,Ue=ie.textHScale*rt,ae=le.length,ce=ge.vertical,_e=ce?1:-1,Ee=ge.defaultVMetrics,de=xe*ie.fontMatrix[0],ke=ie.textRenderingMode===B.TextRenderingMode.FILL&&!ge.disableFontFace&&!ie.patternFill;Ae.save(),Ae.transform(...ie.textMatrix),Ae.translate(ie.x,ie.y+ie.textRise),rt>0?Ae.scale(Ue,-1):Ae.scale(Ue,1);let Te;if(ie.patternFill){Ae.save();const Re=ie.fillColor.getPattern(Ae,this,(0,R.getCurrentTransformInverse)(Ae),O.PathType.FILL);Te=(0,R.getCurrentTransform)(Ae),Ae.restore(),Ae.fillStyle=Re}let $e=ie.lineWidth;const Qe=ie.textMatrixScale;if(Qe===0||$e===0){const Re=ie.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;(Re===B.TextRenderingMode.STROKE||Re===B.TextRenderingMode.FILL_STROKE)&&($e=this.getSinglePixelWidth())}else $e/=Qe;if(Se!==1&&(Ae.scale(Se,Se),$e/=Se),Ae.lineWidth=$e,ge.isInvalidPDFjsFont){const Re=[];let nt=0;for(const at of le)Re.push(at.unicode),nt+=at.width;Ae.fillText(Re.join(""),0,0),ie.x+=nt*de*Ue,Ae.restore(),this.compose();return}let Ce=0,Ie;for(Ie=0;Ie<ae;++Ie){const Re=le[Ie];if(typeof Re=="number"){Ce+=_e*Re*xe/1e3;continue}let nt=!1;const at=(Re.isSpace?Ze:0)+je,gt=Re.fontChar,vt=Re.accent;let wt,Ht,Zt=Re.width;if(ce){const Ke=Re.vmetric||Ee,We=-(Re.vmetric?Ke[1]:Zt*.5)*de,bt=Ke[2]*de;Zt=Ke?-Ke[0]:Zt,wt=We/Se,Ht=(Ce+bt)/Se}else wt=Ce/Se,Ht=0;if(ge.remeasure&&Zt>0){const Ke=Ae.measureText(gt).width*1e3/xe*Se;if(Zt<Ke&&this.isFontSubpixelAAEnabled){const We=Zt/Ke;nt=!0,Ae.save(),Ae.scale(We,1),wt/=We}else Zt!==Ke&&(wt+=(Zt-Ke)/2e3*xe/Se)}if(this.contentVisible&&(Re.isInFont||ge.missingFile)){if(ke&&!vt)Ae.fillText(gt,wt,Ht);else if(this.paintChar(gt,wt,Ht,Te),vt){const Ke=wt+xe*vt.offset.x/Se,We=Ht-xe*vt.offset.y/Se;this.paintChar(vt.fontChar,Ke,We,Te)}}let ot;ce?ot=Zt*de-at*rt:ot=Zt*de+at*rt,Ce+=ot,nt&&Ae.restore()}ce?ie.y-=Ce:ie.x+=Ce*Ue,Ae.restore(),this.compose()}showType3Text(le){const ie=this.ctx,ge=this.current,xe=ge.font,Ae=ge.fontSize,Se=ge.fontDirection,je=xe.vertical?1:-1,Ze=ge.charSpacing,rt=ge.wordSpacing,Ue=ge.textHScale*Se,ae=ge.fontMatrix||B.FONT_IDENTITY_MATRIX,ce=le.length,_e=ge.textRenderingMode===B.TextRenderingMode.INVISIBLE;let Ee,de,ke,Te;if(!(_e||Ae===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ie.save(),ie.transform(...ge.textMatrix),ie.translate(ge.x,ge.y),ie.scale(Ue,Se),Ee=0;Ee<ce;++Ee){if(de=le[Ee],typeof de=="number"){Te=je*de*Ae/1e3,this.ctx.translate(Te,0),ge.x+=Te*Ue;continue}const $e=(de.isSpace?rt:0)+Ze,Qe=xe.charProcOperatorList[de.operatorListId];if(!Qe){(0,B.warn)(`Type3 character "${de.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=de,this.save(),ie.scale(Ae,Ae),ie.transform(...ae),this.executeOperatorList(Qe),this.restore()),ke=B.Util.applyTransform([de.width,0],ae)[0]*Ae+$e,ie.translate(ke,0),ge.x+=ke*Ue}ie.restore(),this.processingType3=null}}setCharWidth(le,ie){}setCharWidthAndBounds(le,ie,ge,xe,Ae,Se){this.ctx.rect(ge,xe,Ae-ge,Se-xe),this.ctx.clip(),this.endPath()}getColorN_Pattern(le){let ie;if(le[0]==="TilingPattern"){const ge=le[1],xe=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),Ae={createCanvasGraphics:Se=>new tt(Se,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ie=new O.TilingPattern(le,ge,this.ctx,Ae,xe)}else ie=this._getPattern(le[1],le[2]);return ie}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(le,ie,ge){var Ae;const xe=((Ae=this.selectColor)==null?void 0:Ae.call(this,le,ie,ge))||B.Util.makeHexColor(le,ie,ge);this.ctx.strokeStyle=xe,this.current.strokeColor=xe}setFillRGBColor(le,ie,ge){var Ae;const xe=((Ae=this.selectColor)==null?void 0:Ae.call(this,le,ie,ge))||B.Util.makeHexColor(le,ie,ge);this.ctx.fillStyle=xe,this.current.fillColor=xe,this.current.patternFill=!1}_getPattern(le,ie=null){let ge;return this.cachedPatterns.has(le)?ge=this.cachedPatterns.get(le):(ge=(0,O.getShadingPattern)(this.objs.get(le)),this.cachedPatterns.set(le,ge)),ie&&(ge.matrix=ie),ge}shadingFill(le){if(!this.contentVisible)return;const ie=this.ctx;this.save();const ge=this._getPattern(le);ie.fillStyle=ge.getPattern(ie,this,(0,R.getCurrentTransformInverse)(ie),O.PathType.SHADING);const xe=(0,R.getCurrentTransformInverse)(ie);if(xe){const Ae=ie.canvas,Se=Ae.width,je=Ae.height,Ze=B.Util.applyTransform([0,0],xe),rt=B.Util.applyTransform([0,je],xe),Ue=B.Util.applyTransform([Se,0],xe),ae=B.Util.applyTransform([Se,je],xe),ce=Math.min(Ze[0],rt[0],Ue[0],ae[0]),_e=Math.min(Ze[1],rt[1],Ue[1],ae[1]),Ee=Math.max(Ze[0],rt[0],Ue[0],ae[0]),de=Math.max(Ze[1],rt[1],Ue[1],ae[1]);this.ctx.fillRect(ce,_e,Ee-ce,de-_e)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,B.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,B.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(le,ie){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(le)&&le.length===6&&this.transform(...le),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),ie)){const ge=ie[2]-ie[0],xe=ie[3]-ie[1];this.ctx.rect(ie[0],ie[1],ge,xe),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),ie),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(le){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ie=this.ctx;le.isolated||(0,B.info)("TODO: Support non-isolated groups."),le.knockout&&(0,B.warn)("Knockout groups not supported.");const ge=(0,R.getCurrentTransform)(ie);if(le.matrix&&ie.transform(...le.matrix),!le.bbox)throw new Error("Bounding box is required.");let xe=B.Util.getAxialAlignedBoundingBox(le.bbox,(0,R.getCurrentTransform)(ie));const Ae=[0,0,ie.canvas.width,ie.canvas.height];xe=B.Util.intersect(xe,Ae)||[0,0,0,0];const Se=Math.floor(xe[0]),je=Math.floor(xe[1]);let Ze=Math.max(Math.ceil(xe[2])-Se,1),rt=Math.max(Math.ceil(xe[3])-je,1),Ue=1,ae=1;Ze>se&&(Ue=Ze/se,Ze=se),rt>se&&(ae=rt/se,rt=se),this.current.startNewPathAndClipBox([0,0,Ze,rt]);let ce="groupAt"+this.groupLevel;le.smask&&(ce+="_smask_"+this.smaskCounter++%2);const _e=this.cachedCanvases.getCanvas(ce,Ze,rt),Ee=_e.context;Ee.scale(1/Ue,1/ae),Ee.translate(-Se,-je),Ee.transform(...ge),le.smask?this.smaskStack.push({canvas:_e.canvas,context:Ee,offsetX:Se,offsetY:je,scaleX:Ue,scaleY:ae,subtype:le.smask.subtype,backdrop:le.smask.backdrop,transferMap:le.smask.transferMap||null,startTransformInverse:null}):(ie.setTransform(1,0,0,1,0,0),ie.translate(Se,je),ie.scale(Ue,ae),ie.save()),H(ie,Ee),this.ctx=Ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ie),this.groupLevel++}endGroup(le){if(!this.contentVisible)return;this.groupLevel--;const ie=this.ctx,ge=this.groupStack.pop();if(this.ctx=ge,this.ctx.imageSmoothingEnabled=!1,le.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const xe=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...xe);const Ae=B.Util.getAxialAlignedBoundingBox([0,0,ie.canvas.width,ie.canvas.height],xe);this.ctx.drawImage(ie.canvas,0,0),this.ctx.restore(),this.compose(Ae)}}beginAnnotation(le,ie,ge,xe,Ae){if(ut(this,Ne,jr).call(this),K(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ie)&&ie.length===4){const Se=ie[2]-ie[0],je=ie[3]-ie[1];if(Ae&&this.annotationCanvasMap){ge=ge.slice(),ge[4]-=ie[0],ge[5]-=ie[1],ie=ie.slice(),ie[0]=ie[1]=0,ie[2]=Se,ie[3]=je;const[Ze,rt]=B.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:Ue}=this,ae=Math.ceil(Se*this.outputScaleX*Ue),ce=Math.ceil(je*this.outputScaleY*Ue);this.annotationCanvas=this.canvasFactory.create(ae,ce);const{canvas:_e,context:Ee}=this.annotationCanvas;this.annotationCanvasMap.set(le,_e),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ee,this.ctx.setTransform(Ze,0,0,-rt,0,je*rt),K(this.ctx,this.foregroundColor)}else K(this.ctx,this.foregroundColor),this.ctx.rect(ie[0],ie[1],Se,je),this.ctx.clip(),this.endPath()}this.current=new Q(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ge),this.transform(...xe)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(le){if(!this.contentVisible)return;const ie=le.count;le=this.getObject(le.data,le),le.count=ie;const ge=this.ctx,xe=this.processingType3;if(xe&&(xe.compiled===void 0&&(xe.compiled=Y(le)),xe.compiled)){xe.compiled(ge);return}const Ae=this._createMaskCanvas(le),Se=Ae.canvas;ge.save(),ge.setTransform(1,0,0,1,0,0),ge.drawImage(Se,Ae.offsetX,Ae.offsetY),ge.restore(),this.compose()}paintImageMaskXObjectRepeat(le,ie,ge=0,xe=0,Ae,Se){if(!this.contentVisible)return;le=this.getObject(le.data,le);const je=this.ctx;je.save();const Ze=(0,R.getCurrentTransform)(je);je.transform(ie,ge,xe,Ae,0,0);const rt=this._createMaskCanvas(le);je.setTransform(1,0,0,1,rt.offsetX-Ze[4],rt.offsetY-Ze[5]);for(let Ue=0,ae=Se.length;Ue<ae;Ue+=2){const ce=B.Util.transform(Ze,[ie,ge,xe,Ae,Se[Ue],Se[Ue+1]]),[_e,Ee]=B.Util.applyTransform([0,0],ce);je.drawImage(rt.canvas,_e,Ee)}je.restore(),this.compose()}paintImageMaskXObjectGroup(le){if(!this.contentVisible)return;const ie=this.ctx,ge=this.current.fillColor,xe=this.current.patternFill;for(const Ae of le){const{data:Se,width:je,height:Ze,transform:rt}=Ae,Ue=this.cachedCanvases.getCanvas("maskCanvas",je,Ze),ae=Ue.context;ae.save();const ce=this.getObject(Se,Ae);X(ae,ce),ae.globalCompositeOperation="source-in",ae.fillStyle=xe?ge.getPattern(ae,this,(0,R.getCurrentTransformInverse)(ie),O.PathType.FILL):ge,ae.fillRect(0,0,je,Ze),ae.restore(),ie.save(),ie.transform(...rt),ie.scale(1,-1),U(ie,Ue.canvas,0,0,je,Ze,0,-1,1,1),ie.restore()}this.compose()}paintImageXObject(le){if(!this.contentVisible)return;const ie=this.getObject(le);if(!ie){(0,B.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ie)}paintImageXObjectRepeat(le,ie,ge,xe){if(!this.contentVisible)return;const Ae=this.getObject(le);if(!Ae){(0,B.warn)("Dependent image isn't ready yet");return}const Se=Ae.width,je=Ae.height,Ze=[];for(let rt=0,Ue=xe.length;rt<Ue;rt+=2)Ze.push({transform:[ie,0,0,ge,xe[rt],xe[rt+1]],x:0,y:0,w:Se,h:je});this.paintInlineImageXObjectGroup(Ae,Ze)}paintInlineImageXObject(le){if(!this.contentVisible)return;const ie=le.width,ge=le.height,xe=this.ctx;this.save(),xe.scale(1/ie,-1/ge);let Ae;if(typeof HTMLElement=="function"&&le instanceof HTMLElement||!le.data)Ae=le;else{const je=this.cachedCanvases.getCanvas("inlineImage",ie,ge),Ze=je.context;W(Ze,le,this.current.transferMaps),Ae=je.canvas}const Se=this._scaleImage(Ae,(0,R.getCurrentTransformInverse)(xe));xe.imageSmoothingEnabled=ze((0,R.getCurrentTransform)(xe),le.interpolate),U(xe,Se.img,0,0,Se.paintWidth,Se.paintHeight,0,-ge,ie,ge),this.compose(),this.restore()}paintInlineImageXObjectGroup(le,ie){if(!this.contentVisible)return;const ge=this.ctx,xe=le.width,Ae=le.height,Se=this.cachedCanvases.getCanvas("inlineImage",xe,Ae),je=Se.context;W(je,le,this.current.transferMaps);for(const Ze of ie)ge.save(),ge.transform(...Ze.transform),ge.scale(1,-1),U(ge,Se.canvas,Ze.x,Ze.y,Ze.w,Ze.h,0,-1,1,1),ge.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(le){}markPointProps(le,ie){}beginMarkedContent(le){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(le,ie){le==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ie)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(le){const ie=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(le);const ge=this.ctx;this.pendingClip&&(ie||(this.pendingClip===Ve?ge.clip("evenodd"):ge.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ge.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const le=(0,R.getCurrentTransform)(this.ctx);if(le[1]===0&&le[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(le[0]),Math.abs(le[3]));else{const ie=Math.abs(le[0]*le[3]-le[2]*le[1]),ge=Math.hypot(le[0],le[2]),xe=Math.hypot(le[1],le[3]);this._cachedGetSinglePixelWidth=Math.max(ge,xe)/ie}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:le}=this.current,ie=(0,R.getCurrentTransform)(this.ctx);let ge,xe;if(ie[1]===0&&ie[2]===0){const Ae=Math.abs(ie[0]),Se=Math.abs(ie[3]);if(le===0)ge=1/Ae,xe=1/Se;else{const je=Ae*le,Ze=Se*le;ge=je<1?1/je:1,xe=Ze<1?1/Ze:1}}else{const Ae=Math.abs(ie[0]*ie[3]-ie[2]*ie[1]),Se=Math.hypot(ie[0],ie[1]),je=Math.hypot(ie[2],ie[3]);if(le===0)ge=je/Ae,xe=Se/Ae;else{const Ze=le*Ae;ge=je>Ze?je/Ze:1,xe=Se>Ze?Se/Ze:1}}this._cachedScaleForStroking=[ge,xe]}return this._cachedScaleForStroking}rescaleAndStroke(le){const{ctx:ie}=this,{lineWidth:ge}=this.current,[xe,Ae]=this.getScaleForStroking();if(ie.lineWidth=ge||1,xe===1&&Ae===1){ie.stroke();return}let Se,je,Ze;le&&(Se=(0,R.getCurrentTransform)(ie),je=ie.getLineDash().slice(),Ze=ie.lineDashOffset),ie.scale(xe,Ae);const rt=Math.max(xe,Ae);ie.setLineDash(ie.getLineDash().map(Ue=>Ue/rt)),ie.lineDashOffset/=rt,ie.stroke(),le&&(ie.setTransform(...Se),ie.setLineDash(je),ie.lineDashOffset=Ze)}isContentVisible(){for(let le=this.markedContentStack.length-1;le>=0;le--)if(!this.markedContentStack[le].visible)return!1;return!0}};Ne=new WeakSet,jr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Le=tt;$.CanvasGraphics=Le;for(const we in B.OPS)Le.prototype[we]!==void 0&&(Le.prototype[B.OPS[we]]=Le.prototype[we])},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ee;var B=V(1),R=V(6);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=O;function re(U,Y){if(!Y)return;const Q=Y[2]-Y[0],W=Y[3]-Y[1],X=new Path2D;X.rect(Y[0],Y[1],Q,W),U.clip(X)}class he{constructor(){this.constructor===he&&(0,B.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,B.unreachable)("Abstract method `getPattern` called.")}}class me extends he{constructor(Y){super(),this._type=Y[1],this._bbox=Y[2],this._colorStops=Y[3],this._p0=Y[4],this._p1=Y[5],this._r0=Y[6],this._r1=Y[7],this.matrix=null}_createGradient(Y){let Q;this._type==="axial"?Q=Y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Q=Y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const W of this._colorStops)Q.addColorStop(W[0],W[1]);return Q}getPattern(Y,Q,W,X){let H;if(X===O.STROKE||X===O.FILL){const K=Q.current.getClippedPathBoundingBox(X,(0,R.getCurrentTransform)(Y))||[0,0,0,0],ue=Math.ceil(K[2]-K[0])||1,q=Math.ceil(K[3]-K[1])||1,pe=Q.cachedCanvases.getCanvas("pattern",ue,q,!0),ye=pe.context;ye.clearRect(0,0,ye.canvas.width,ye.canvas.height),ye.beginPath(),ye.rect(0,0,ye.canvas.width,ye.canvas.height),ye.translate(-K[0],-K[1]),W=B.Util.transform(W,[1,0,0,1,K[0],K[1]]),ye.transform(...Q.baseTransform),this.matrix&&ye.transform(...this.matrix),re(ye,this._bbox),ye.fillStyle=this._createGradient(ye),ye.fill(),H=Y.createPattern(pe.canvas,"no-repeat");const Me=new DOMMatrix(W);H.setTransform(Me)}else re(Y,this._bbox),H=this._createGradient(Y);return H}}function se(U,Y,Q,W,X,H,K,ue){const q=Y.coords,pe=Y.colors,ye=U.data,Me=U.width*4;let ze;q[Q+1]>q[W+1]&&(ze=Q,Q=W,W=ze,ze=H,H=K,K=ze),q[W+1]>q[X+1]&&(ze=W,W=X,X=ze,ze=K,K=ue,ue=ze),q[Q+1]>q[W+1]&&(ze=Q,Q=W,W=ze,ze=H,H=K,K=ze);const lt=(q[Q]+Y.offsetX)*Y.scaleX,Xe=(q[Q+1]+Y.offsetY)*Y.scaleY,Je=(q[W]+Y.offsetX)*Y.scaleX,Ve=(q[W+1]+Y.offsetY)*Y.scaleY,Le=(q[X]+Y.offsetX)*Y.scaleX,Ne=(q[X+1]+Y.offsetY)*Y.scaleY;if(Xe>=Ne)return;const et=pe[H],tt=pe[H+1],we=pe[H+2],le=pe[K],ie=pe[K+1],ge=pe[K+2],xe=pe[ue],Ae=pe[ue+1],Se=pe[ue+2],je=Math.round(Xe),Ze=Math.round(Ne);let rt,Ue,ae,ce,_e,Ee,de,ke;for(let Te=je;Te<=Ze;Te++){if(Te<Ve){let Re;Te<Xe?Re=0:Re=(Xe-Te)/(Xe-Ve),rt=lt-(lt-Je)*Re,Ue=et-(et-le)*Re,ae=tt-(tt-ie)*Re,ce=we-(we-ge)*Re}else{let Re;Te>Ne?Re=1:Ve===Ne?Re=0:Re=(Ve-Te)/(Ve-Ne),rt=Je-(Je-Le)*Re,Ue=le-(le-xe)*Re,ae=ie-(ie-Ae)*Re,ce=ge-(ge-Se)*Re}let $e;Te<Xe?$e=0:Te>Ne?$e=1:$e=(Xe-Te)/(Xe-Ne),_e=lt-(lt-Le)*$e,Ee=et-(et-xe)*$e,de=tt-(tt-Ae)*$e,ke=we-(we-Se)*$e;const Qe=Math.round(Math.min(rt,_e)),Ce=Math.round(Math.max(rt,_e));let Ie=Me*Te+Qe*4;for(let Re=Qe;Re<=Ce;Re++)$e=(rt-Re)/(rt-_e),$e<0?$e=0:$e>1&&($e=1),ye[Ie++]=Ue-(Ue-Ee)*$e|0,ye[Ie++]=ae-(ae-de)*$e|0,ye[Ie++]=ce-(ce-ke)*$e|0,ye[Ie++]=255}}function ne(U,Y,Q){const W=Y.coords,X=Y.colors;let H,K;switch(Y.type){case"lattice":const ue=Y.verticesPerRow,q=Math.floor(W.length/ue)-1,pe=ue-1;for(H=0;H<q;H++){let ye=H*ue;for(let Me=0;Me<pe;Me++,ye++)se(U,Q,W[ye],W[ye+1],W[ye+ue],X[ye],X[ye+1],X[ye+ue]),se(U,Q,W[ye+ue+1],W[ye+1],W[ye+ue],X[ye+ue+1],X[ye+1],X[ye+ue])}break;case"triangles":for(H=0,K=W.length;H<K;H+=3)se(U,Q,W[H],W[H+1],W[H+2],X[H],X[H+1],X[H+2]);break;default:throw new Error("illegal figure")}}class ve extends he{constructor(Y){super(),this._coords=Y[2],this._colors=Y[3],this._figures=Y[4],this._bounds=Y[5],this._bbox=Y[7],this._background=Y[8],this.matrix=null}_createMeshCanvas(Y,Q,W){const ue=Math.floor(this._bounds[0]),q=Math.floor(this._bounds[1]),pe=Math.ceil(this._bounds[2])-ue,ye=Math.ceil(this._bounds[3])-q,Me=Math.min(Math.ceil(Math.abs(pe*Y[0]*1.1)),3e3),ze=Math.min(Math.ceil(Math.abs(ye*Y[1]*1.1)),3e3),lt=pe/Me,Xe=ye/ze,Je={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-q,scaleX:1/lt,scaleY:1/Xe},Ve=Me+2*2,Le=ze+2*2,Ne=W.getCanvas("mesh",Ve,Le,!1),et=Ne.context,tt=et.createImageData(Me,ze);if(Q){const le=tt.data;for(let ie=0,ge=le.length;ie<ge;ie+=4)le[ie]=Q[0],le[ie+1]=Q[1],le[ie+2]=Q[2],le[ie+3]=255}for(const le of this._figures)ne(tt,le,Je);return et.putImageData(tt,2,2),{canvas:Ne.canvas,offsetX:ue-2*lt,offsetY:q-2*Xe,scaleX:lt,scaleY:Xe}}getPattern(Y,Q,W,X){re(Y,this._bbox);let H;if(X===O.SHADING)H=B.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(Y));else if(H=B.Util.singularValueDecompose2dScale(Q.baseTransform),this.matrix){const ue=B.Util.singularValueDecompose2dScale(this.matrix);H=[H[0]*ue[0],H[1]*ue[1]]}const K=this._createMeshCanvas(H,X===O.SHADING?null:this._background,Q.cachedCanvases);return X!==O.SHADING&&(Y.setTransform(...Q.baseTransform),this.matrix&&Y.transform(...this.matrix)),Y.translate(K.offsetX,K.offsetY),Y.scale(K.scaleX,K.scaleY),Y.createPattern(K.canvas,"no-repeat")}}class oe extends he{getPattern(){return"hotpink"}}function ee(U){switch(U[0]){case"RadialAxial":return new me(U);case"Mesh":return new ve(U);case"Dummy":return new oe}throw new Error(`Unknown IR type: ${U[0]}`)}const te={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,B.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Y,Q,W,X,H){this.operatorList=Y[2],this.matrix=Y[3]||[1,0,0,1,0,0],this.bbox=Y[4],this.xstep=Y[5],this.ystep=Y[6],this.paintType=Y[7],this.tilingType=Y[8],this.color=Q,this.ctx=W,this.canvasGraphicsFactory=X,this.baseTransform=H}createPatternCanvas(Y){const Q=this.operatorList,W=this.bbox,X=this.xstep,H=this.ystep,K=this.paintType,ue=this.tilingType,q=this.color,pe=this.canvasGraphicsFactory;(0,B.info)("TilingType: "+ue);const ye=W[0],Me=W[1],ze=W[2],lt=W[3],Xe=B.Util.singularValueDecompose2dScale(this.matrix),Je=B.Util.singularValueDecompose2dScale(this.baseTransform),Ve=[Xe[0]*Je[0],Xe[1]*Je[1]],Le=this.getSizeAndScale(X,this.ctx.canvas.width,Ve[0]),Ne=this.getSizeAndScale(H,this.ctx.canvas.height,Ve[1]),et=Y.cachedCanvases.getCanvas("pattern",Le.size,Ne.size,!0),tt=et.context,we=pe.createCanvasGraphics(tt);we.groupLevel=Y.groupLevel,this.setFillAndStrokeStyleToContext(we,K,q);let le=ye,ie=Me,ge=ze,xe=lt;return ye<0&&(le=0,ge+=Math.abs(ye)),Me<0&&(ie=0,xe+=Math.abs(Me)),tt.translate(-(Le.scale*le),-(Ne.scale*ie)),we.transform(Le.scale,0,0,Ne.scale,0,0),tt.save(),this.clipBbox(we,le,ie,ge,xe),we.baseTransform=(0,R.getCurrentTransform)(we.ctx),we.executeOperatorList(Q),we.endDrawing(),{canvas:et.canvas,scaleX:Le.scale,scaleY:Ne.scale,offsetX:le,offsetY:ie}}getSizeAndScale(Y,Q,W){Y=Math.abs(Y);const X=Math.max(G.MAX_PATTERN_SIZE,Q);let H=Math.ceil(Y*W);return H>=X?H=X:W=H/Y,{scale:W,size:H}}clipBbox(Y,Q,W,X,H){const K=X-Q,ue=H-W;Y.ctx.rect(Q,W,K,ue),Y.current.updateRectMinMax((0,R.getCurrentTransform)(Y.ctx),[Q,W,X,H]),Y.clip(),Y.endPath()}setFillAndStrokeStyleToContext(Y,Q,W){const X=Y.ctx,H=Y.current;switch(Q){case te.COLORED:const K=this.ctx;X.fillStyle=K.fillStyle,X.strokeStyle=K.strokeStyle,H.fillColor=K.fillStyle,H.strokeColor=K.strokeStyle;break;case te.UNCOLORED:const ue=B.Util.makeHexColor(W[0],W[1],W[2]);X.fillStyle=ue,X.strokeStyle=ue,H.fillColor=ue,H.strokeColor=ue;break;default:throw new B.FormatError(`Unsupported paint type: ${Q}`)}}getPattern(Y,Q,W,X){let H=W;X!==O.SHADING&&(H=B.Util.transform(H,Q.baseTransform),this.matrix&&(H=B.Util.transform(H,this.matrix)));const K=this.createPatternCanvas(Q);let ue=new DOMMatrix(H);ue=ue.translate(K.offsetX,K.offsetY),ue=ue.scale(1/K.scaleX,1/K.scaleY);const q=Y.createPattern(K.canvas,"repeat");return q.setTransform(ue),q}}$.TilingPattern=G},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=R;var B=V(1);function R({src:O,srcPos:re=0,dest:he,destPos:me=0,width:se,height:ne,inverseDecode:ve=!1}){const oe=B.FeatureTest.isLittleEndian?4278190080:255,[ee,te]=ve?[0,oe]:[oe,0],G=se>>3,U=se&7,Y=O.length;he=new Uint32Array(he.buffer);for(let Q=0;Q<ne;Q++){for(const X=re+G;re<X;re++){const H=re<Y?O[re]:255;he[me++]=H&128?te:ee,he[me++]=H&64?te:ee,he[me++]=H&32?te:ee,he[me++]=H&16?te:ee,he[me++]=H&8?te:ee,he[me++]=H&4?te:ee,he[me++]=H&2?te:ee,he[me++]=H&1?te:ee}if(U===0)continue;const W=re<Y?O[re++]:255;for(let X=0;X<U;X++)he[me++]=W&1<<7-X?te:ee}return{srcPos:re,destPos:me}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const V=Object.create(null);$.GlobalWorkerOptions=V,V.workerPort=null,V.workerSrc=""},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var B=V(1);const R={UNKNOWN:0,DATA:1,ERROR:2},O={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function re(me){switch(me instanceof Error||typeof me=="object"&&me!==null||(0,B.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),me.name){case"AbortException":return new B.AbortException(me.message);case"MissingPDFException":return new B.MissingPDFException(me.message);case"PasswordException":return new B.PasswordException(me.message,me.code);case"UnexpectedResponseException":return new B.UnexpectedResponseException(me.message,me.status);case"UnknownErrorException":return new B.UnknownErrorException(me.message,me.details);default:return new B.UnknownErrorException(me.message,me.toString())}}class he{constructor(se,ne,ve){this.sourceName=se,this.targetName=ne,this.comObj=ve,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=oe=>{const ee=oe.data;if(ee.targetName!==this.sourceName)return;if(ee.stream){this._processStreamMessage(ee);return}if(ee.callback){const G=ee.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error(`Cannot resolve callback ${G}`);if(delete this.callbackCapabilities[G],ee.callback===R.DATA)U.resolve(ee.data);else if(ee.callback===R.ERROR)U.reject(re(ee.reason));else throw new Error("Unexpected callback case");return}const te=this.actionHandler[ee.action];if(!te)throw new Error(`Unknown action from worker: ${ee.action}`);if(ee.callbackId){const G=this.sourceName,U=ee.sourceName;new Promise(function(Y){Y(te(ee.data))}).then(function(Y){ve.postMessage({sourceName:G,targetName:U,callback:R.DATA,callbackId:ee.callbackId,data:Y})},function(Y){ve.postMessage({sourceName:G,targetName:U,callback:R.ERROR,callbackId:ee.callbackId,reason:re(Y)})});return}if(ee.streamId){this._createStreamSink(ee);return}te(ee.data)},ve.addEventListener("message",this._onComObjOnMessage)}on(se,ne){const ve=this.actionHandler;if(ve[se])throw new Error(`There is already an actionName called "${se}"`);ve[se]=ne}send(se,ne,ve){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:se,data:ne},ve)}sendWithPromise(se,ne,ve){const oe=this.callbackId++,ee=(0,B.createPromiseCapability)();this.callbackCapabilities[oe]=ee;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:se,callbackId:oe,data:ne},ve)}catch(te){ee.reject(te)}return ee.promise}sendWithStream(se,ne,ve,oe){const ee=this.streamId++,te=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:Y=>{const Q=(0,B.createPromiseCapability)();return this.streamControllers[ee]={controller:Y,startCall:Q,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:te,targetName:G,action:se,streamId:ee,data:ne,desiredSize:Y.desiredSize},oe),Q.promise},pull:Y=>{const Q=(0,B.createPromiseCapability)();return this.streamControllers[ee].pullCall=Q,U.postMessage({sourceName:te,targetName:G,stream:O.PULL,streamId:ee,desiredSize:Y.desiredSize}),Q.promise},cancel:Y=>{(0,B.assert)(Y instanceof Error,"cancel must have a valid reason");const Q=(0,B.createPromiseCapability)();return this.streamControllers[ee].cancelCall=Q,this.streamControllers[ee].isClosed=!0,U.postMessage({sourceName:te,targetName:G,stream:O.CANCEL,streamId:ee,reason:re(Y)}),Q.promise}},ve)}_createStreamSink(se){const ne=se.streamId,ve=this.sourceName,oe=se.sourceName,ee=this.comObj,te=this,G=this.actionHandler[se.action],U={enqueue(Y,Q=1,W){if(this.isCancelled)return;const X=this.desiredSize;this.desiredSize-=Q,X>0&&this.desiredSize<=0&&(this.sinkCapability=(0,B.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ee.postMessage({sourceName:ve,targetName:oe,stream:O.ENQUEUE,streamId:ne,chunk:Y},W)},close(){this.isCancelled||(this.isCancelled=!0,ee.postMessage({sourceName:ve,targetName:oe,stream:O.CLOSE,streamId:ne}),delete te.streamSinks[ne])},error(Y){(0,B.assert)(Y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ee.postMessage({sourceName:ve,targetName:oe,stream:O.ERROR,streamId:ne,reason:re(Y)}))},sinkCapability:(0,B.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:se.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[ne]=U,new Promise(function(Y){Y(G(se.data,U))}).then(function(){ee.postMessage({sourceName:ve,targetName:oe,stream:O.START_COMPLETE,streamId:ne,success:!0})},function(Y){ee.postMessage({sourceName:ve,targetName:oe,stream:O.START_COMPLETE,streamId:ne,reason:re(Y)})})}_processStreamMessage(se){const ne=se.streamId,ve=this.sourceName,oe=se.sourceName,ee=this.comObj,te=this.streamControllers[ne],G=this.streamSinks[ne];switch(se.stream){case O.START_COMPLETE:se.success?te.startCall.resolve():te.startCall.reject(re(se.reason));break;case O.PULL_COMPLETE:se.success?te.pullCall.resolve():te.pullCall.reject(re(se.reason));break;case O.PULL:if(!G){ee.postMessage({sourceName:ve,targetName:oe,stream:O.PULL_COMPLETE,streamId:ne,success:!0});break}G.desiredSize<=0&&se.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=se.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){ee.postMessage({sourceName:ve,targetName:oe,stream:O.PULL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:ve,targetName:oe,stream:O.PULL_COMPLETE,streamId:ne,reason:re(U)})});break;case O.ENQUEUE:if((0,B.assert)(te,"enqueue should have stream controller"),te.isClosed)break;te.controller.enqueue(se.chunk);break;case O.CLOSE:if((0,B.assert)(te,"close should have stream controller"),te.isClosed)break;te.isClosed=!0,te.controller.close(),this._deleteStreamController(te,ne);break;case O.ERROR:(0,B.assert)(te,"error should have stream controller"),te.controller.error(re(se.reason)),this._deleteStreamController(te,ne);break;case O.CANCEL_COMPLETE:se.success?te.cancelCall.resolve():te.cancelCall.reject(re(se.reason)),this._deleteStreamController(te,ne);break;case O.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(re(se.reason)))}).then(function(){ee.postMessage({sourceName:ve,targetName:oe,stream:O.CANCEL_COMPLETE,streamId:ne,success:!0})},function(U){ee.postMessage({sourceName:ve,targetName:oe,stream:O.CANCEL_COMPLETE,streamId:ne,reason:re(U)})}),G.sinkCapability.reject(re(se.reason)),G.isCancelled=!0,delete this.streamSinks[ne];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(se,ne){await Promise.allSettled([se.startCall&&se.startCall.promise,se.pullCall&&se.pullCall.promise,se.cancelCall&&se.cancelCall.promise]),delete this.streamControllers[ne]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=he},(A,$,V)=>{var O,re;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var B=V(1);class R{constructor({parsedData:me,rawData:se}){pt(this,O);pt(this,re);_t(this,O,me),_t(this,re,se)}getRaw(){return be(this,re)}get(me){return be(this,O).get(me)??null}getAll(){return(0,B.objectFromMap)(be(this,O))}has(me){return be(this,O).has(me)}}O=new WeakMap,re=new WeakMap,$.Metadata=R},(A,$,V)=>{var me,se,ne,ve,oe,ee,Br;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var B=V(1),R=V(8);const O=Symbol("INTERNAL");class re{constructor(U,Y){pt(this,me,!0);this.name=U,this.intent=Y}get visible(){return be(this,me)}_setVisible(U,Y){U!==O&&(0,B.unreachable)("Internal method `_setVisible` called."),_t(this,me,Y)}}me=new WeakMap;class he{constructor(U){pt(this,ee);pt(this,se,null);pt(this,ne,new Map);pt(this,ve,null);pt(this,oe,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,_t(this,oe,U.order);for(const Y of U.groups)be(this,ne).set(Y.id,new re(Y.name,Y.intent));if(U.baseState==="OFF")for(const Y of be(this,ne).values())Y._setVisible(O,!1);for(const Y of U.on)be(this,ne).get(Y)._setVisible(O,!0);for(const Y of U.off)be(this,ne).get(Y)._setVisible(O,!1);_t(this,ve,this.getHash())}}isVisible(U){if(be(this,ne).size===0)return!0;if(!U)return(0,B.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return be(this,ne).has(U.id)?be(this,ne).get(U.id).visible:((0,B.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return ut(this,ee,Br).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const Y of U.ids){if(!be(this,ne).has(Y))return(0,B.warn)(`Optional content group not found: ${Y}`),!0;if(be(this,ne).get(Y).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const Y of U.ids){if(!be(this,ne).has(Y))return(0,B.warn)(`Optional content group not found: ${Y}`),!0;if(!be(this,ne).get(Y).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const Y of U.ids){if(!be(this,ne).has(Y))return(0,B.warn)(`Optional content group not found: ${Y}`),!0;if(!be(this,ne).get(Y).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const Y of U.ids){if(!be(this,ne).has(Y))return(0,B.warn)(`Optional content group not found: ${Y}`),!0;if(be(this,ne).get(Y).visible)return!1}return!0}return(0,B.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,B.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,Y=!0){if(!be(this,ne).has(U)){(0,B.warn)(`Optional content group not found: ${U}`);return}be(this,ne).get(U)._setVisible(O,!!Y),_t(this,se,null)}get hasInitialVisibility(){return this.getHash()===be(this,ve)}getOrder(){return be(this,ne).size?be(this,oe)?be(this,oe).slice():[...be(this,ne).keys()]:null}getGroups(){return be(this,ne).size>0?(0,B.objectFromMap)(be(this,ne)):null}getGroup(U){return be(this,ne).get(U)||null}getHash(){if(be(this,se)!==null)return be(this,se);const U=new R.MurmurHash3_64;for(const[Y,Q]of be(this,ne))U.update(`${Y}:${Q.visible}`);return _t(this,se,U.hexdigest())}}se=new WeakMap,ne=new WeakMap,ve=new WeakMap,oe=new WeakMap,ee=new WeakSet,Br=function(U){const Y=U.length;if(Y<2)return!0;const Q=U[0];for(let W=1;W<Y;W++){const X=U[W];let H;if(Array.isArray(X))H=ut(this,ee,Br).call(this,X);else if(be(this,ne).has(X))H=be(this,ne).get(X).visible;else return(0,B.warn)(`Optional content group not found: ${X}`),!0;switch(Q){case"And":if(!H)return!1;break;case"Or":if(H)return!0;break;case"Not":return!H;default:return!0}}return Q==="And"},$.OptionalContentConfig=he},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var B=V(1),R=V(6);class O{constructor({length:se,initialData:ne,progressiveDone:ve=!1,contentDispositionFilename:oe=null,disableRange:ee=!1,disableStream:te=!1},G){if((0,B.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ve,this._contentDispositionFilename=oe,(ne==null?void 0:ne.length)>0){const U=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!te,this._isRangeSupported=!ee,this._contentLength=se,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,Y)=>{this._onReceiveData({begin:U,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((U,Y)=>{this._onProgress({loaded:U,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:se,chunk:ne}){const ve=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;if(se===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ve):this._queuedChunks.push(ve);else{const oe=this._rangeReaders.some(function(ee){return ee._begin!==se?!1:(ee._enqueue(ve),!0)});(0,B.assert)(oe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var se;return((se=this._fullRequestReader)==null?void 0:se._loaded)??0}_onProgress(se){var ne,ve,oe,ee;se.total===void 0?(ve=(ne=this._rangeReaders[0])==null?void 0:ne.onProgress)==null||ve.call(ne,{loaded:se.loaded}):(ee=(oe=this._fullRequestReader)==null?void 0:oe.onProgress)==null||ee.call(oe,{loaded:se.loaded,total:se.total})}_onProgressiveDone(){var se;(se=this._fullRequestReader)==null||se.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(se){const ne=this._rangeReaders.indexOf(se);ne>=0&&this._rangeReaders.splice(ne,1)}getFullReader(){(0,B.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const se=this._queuedChunks;return this._queuedChunks=null,new re(this,se,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(se,ne){if(ne<=this._progressiveDataLength)return null;const ve=new he(this,se,ne);return this._pdfDataRangeTransport.requestDataRange(se,ne),this._rangeReaders.push(ve),ve}cancelAllRequests(se){var ne;(ne=this._fullRequestReader)==null||ne.cancel(se);for(const ve of this._rangeReaders.slice(0))ve.cancel(se);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=O;class re{constructor(se,ne,ve=!1,oe=null){this._stream=se,this._done=ve||!1,this._filename=(0,R.isPdfFile)(oe)?oe:null,this._queuedChunks=ne||[],this._loaded=0;for(const ee of this._queuedChunks)this._loaded+=ee.byteLength;this._requests=[],this._headersReady=Promise.resolve(),se._fullRequestReader=this,this.onProgress=null}_enqueue(se){this._done||(this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunks.push(se),this._loaded+=se.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const se=(0,B.createPromiseCapability)();return this._requests.push(se),se.promise}cancel(se){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class he{constructor(se,ne,ve){this._stream=se,this._begin=ne,this._end=ve,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(se){if(!this._done){if(this._requests.length===0)this._queuedChunk=se;else{this._requests.shift().resolve({value:se,done:!1});for(const ve of this._requests)ve.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ne=this._queuedChunk;return this._queuedChunk=null,{value:ne,done:!1}}if(this._done)return{value:void 0,done:!0};const se=(0,B.createPromiseCapability)();return this._requests.push(se),se.promise}cancel(se){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class V{static textContent(R){const O=[],re={items:O,styles:Object.create(null)};function he(me){var ve;if(!me)return;let se=null;const ne=me.name;if(ne==="#text")se=me.value;else if(V.shouldBuildText(ne))(ve=me==null?void 0:me.attributes)!=null&&ve.textContent?se=me.attributes.textContent:me.value&&(se=me.value);else return;if(se!==null&&O.push({str:se}),!!me.children)for(const oe of me.children)he(oe)}return he(R),re}static shouldBuildText(R){return!(R==="textarea"||R==="input"||R==="option"||R==="select")}}$.XfaText=V},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var B=V(7);const R=function(me){return new Promise((se,ne)=>{require$$5.readFile(me,(oe,ee)=>{if(oe||!ee){ne(new Error(oe));return}se(new Uint8Array(ee))})})};class O extends B.BaseCanvasFactory{_createCanvas(se,ne){return require$$5.createCanvas(se,ne)}}$.NodeCanvasFactory=O;class re extends B.BaseCMapReaderFactory{_fetchData(se,ne){return R(se).then(ve=>({cMapData:ve,compressionType:ne}))}}$.NodeCMapReaderFactory=re;class he extends B.BaseStandardFontDataFactory{_fetchData(se){return R(se)}}$.NodeStandardFontDataFactory=he},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var B=V(1),R=V(22);const O=require$$5,re=require$$5,he=require$$5,me=require$$5,se=/^file:\/\/\/[a-zA-Z]:\//;function ne(W){const X=me.parse(W);return X.protocol==="file:"||X.host?X:/^[a-z]:[/\\]/i.test(W)?me.parse(`file:///${W}`):(X.host||(X.protocol="file:"),X)}class ve{constructor(X){this.source=X,this.url=ne(X.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&X.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var X;return((X=this._fullRequestReader)==null?void 0:X._loaded)??0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Y(this):new G(this),this._fullRequestReader}getRangeReader(X,H){if(H<=this._progressiveDataLength)return null;const K=this.isFsUrl?new Q(this,X,H):new U(this,X,H);return this._rangeRequestReaders.push(K),K}cancelAllRequests(X){var H;(H=this._fullRequestReader)==null||H.cancel(X);for(const K of this._rangeRequestReaders.slice(0))K.cancel(X)}}$.PDFNodeStream=ve;class oe{constructor(X){this._url=X.url,this._done=!1,this._storedError=null,this.onProgress=null;const H=X.source;this._contentLength=H.length,this._loaded=0,this._filename=null,this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)(),this._headersCapability=(0,B.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var K;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const X=this._readableStream.read();return X===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=X.length,(K=this.onProgress)==null||K.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(X).buffer,done:!1})}cancel(X){if(!this._readableStream){this._error(X);return}this._readableStream.destroy(X)}_error(X){this._storedError=X,this._readCapability.resolve()}_setReadableStream(X){this._readableStream=X,X.on("readable",()=>{this._readCapability.resolve()}),X.on("end",()=>{X.destroy(),this._done=!0,this._readCapability.resolve()}),X.on("error",H=>{this._error(H)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new B.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ee{constructor(X){this._url=X.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,B.createPromiseCapability)();const H=X.source;this._isStreamingSupported=!H.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var K;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const X=this._readableStream.read();return X===null?(this._readCapability=(0,B.createPromiseCapability)(),this.read()):(this._loaded+=X.length,(K=this.onProgress)==null||K.call(this,{loaded:this._loaded}),{value:new Uint8Array(X).buffer,done:!1})}cancel(X){if(!this._readableStream){this._error(X);return}this._readableStream.destroy(X)}_error(X){this._storedError=X,this._readCapability.resolve()}_setReadableStream(X){this._readableStream=X,X.on("readable",()=>{this._readCapability.resolve()}),X.on("end",()=>{X.destroy(),this._done=!0,this._readCapability.resolve()}),X.on("error",H=>{this._error(H)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function te(W,X){return{protocol:W.protocol,auth:W.auth,host:W.hostname,port:W.port,path:W.path,method:"GET",headers:X}}class G extends oe{constructor(X){super(X);const H=K=>{if(K.statusCode===404){const ye=new B.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ye,this._headersCapability.reject(ye);return}this._headersCapability.resolve(),this._setReadableStream(K);const ue=ye=>this._readableStream.headers[ye.toLowerCase()],{allowRangeRequests:q,suggestedLength:pe}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:X.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=pe||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(ue)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,X.httpHeaders),H):this._request=he.request(te(this._url,X.httpHeaders),H),this._request.on("error",K=>{this._storedError=K,this._headersCapability.reject(K)}),this._request.end()}}class U extends ee{constructor(X,H,K){super(X),this._httpHeaders={};for(const q in X.httpHeaders){const pe=X.httpHeaders[q];pe!==void 0&&(this._httpHeaders[q]=pe)}this._httpHeaders.Range=`bytes=${H}-${K-1}`;const ue=q=>{if(q.statusCode===404){const pe=new B.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=pe;return}this._setReadableStream(q)};this._request=null,this._url.protocol==="http:"?this._request=re.request(te(this._url,this._httpHeaders),ue):this._request=he.request(te(this._url,this._httpHeaders),ue),this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class Y extends oe{constructor(X){super(X);let H=decodeURIComponent(this._url.path);se.test(this._url.href)&&(H=H.replace(/^\//,"")),O.lstat(H,(K,ue)=>{if(K){K.code==="ENOENT"&&(K=new B.MissingPDFException(`Missing PDF "${H}".`)),this._storedError=K,this._headersCapability.reject(K);return}this._contentLength=ue.size,this._setReadableStream(O.createReadStream(H)),this._headersCapability.resolve()})}}class Q extends ee{constructor(X,H,K){super(X);let ue=decodeURIComponent(this._url.path);se.test(this._url.href)&&(ue=ue.replace(/^\//,"")),this._setReadableStream(O.createReadStream(ue,{start:H,end:K-1}))}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=me,$.extractFilenameFromHeader=he,$.validateRangeRequestCapabilities=re,$.validateResponseStatus=se;var B=V(1),R=V(23),O=V(6);function re({getResponseHeader:ne,isHttp:ve,rangeChunkSize:oe,disableRange:ee}){const te={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(ne("Content-Length"),10);return!Number.isInteger(G)||(te.suggestedLength=G,G<=2*oe)||ee||!ve||ne("Accept-Ranges")!=="bytes"||(ne("Content-Encoding")||"identity")!=="identity"||(te.allowRangeRequests=!0),te}function he(ne){const ve=ne("Content-Disposition");if(ve){let oe=(0,R.getFilenameFromContentDispositionHeader)(ve);if(oe.includes("%"))try{oe=decodeURIComponent(oe)}catch{}if((0,O.isPdfFile)(oe))return oe}return null}function me(ne,ve){return ne===404||ne===0&&ve.startsWith("file:")?new B.MissingPDFException('Missing PDF "'+ve+'".'):new B.UnexpectedResponseException(`Unexpected server response (${ne}) while retrieving PDF "${ve}".`,ne)}function se(ne){return ne===200||ne===206}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=R;var B=V(1);function R(O){let re=!0,he=me("filename\\*","i").exec(O);if(he){he=he[1];let G=oe(he);return G=unescape(G),G=ee(G),G=te(G),ne(G)}if(he=ve(O),he){const G=te(he);return ne(G)}if(he=me("filename","i").exec(O),he){he=he[1];let G=oe(he);return G=te(G),ne(G)}function me(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function se(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const Y=new TextDecoder(G,{fatal:!0}),Q=(0,B.stringToBytes)(U);U=Y.decode(Q),re=!1}catch{}}return U}function ne(G){return re&&/[\x80-\xff]/.test(G)&&(G=se("utf-8",G),re&&(G=se("iso-8859-1",G))),G}function ve(G){const U=[];let Y;const Q=me("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Y=Q.exec(G))!==null;){let[,X,H,K]=Y;if(X=parseInt(X,10),X in U){if(X===0)break;continue}U[X]=[H,K]}const W=[];for(let X=0;X<U.length&&X in U;++X){let[H,K]=U[X];K=oe(K),H&&(K=unescape(K),X===0&&(K=ee(K))),W.push(K)}return W.join("")}function oe(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let Y=0;Y<U.length;++Y){const Q=U[Y].indexOf('"');Q!==-1&&(U[Y]=U[Y].slice(0,Q),U.length=Y+1),U[Y]=U[Y].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function ee(G){const U=G.indexOf("'");if(U===-1)return G;const Y=G.slice(0,U),W=G.slice(U+1).replace(/^[^']*'/,"");return se(Y,W)}function te(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,Y,Q,W){if(Q==="q"||Q==="Q")return W=W.replace(/_/g," "),W=W.replace(/=([0-9a-fA-F]{2})/g,function(X,H){return String.fromCharCode(parseInt(H,16))}),se(Y,W);try{W=atob(W)}catch{}return se(Y,W)})}return""}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var B=V(1),R=V(22);const O=200,re=206;function he(oe){const ee=oe.response;return typeof ee!="string"?ee:(0,B.stringToBytes)(ee).buffer}class me{constructor(ee,te={}){this.url=ee,this.isHttp=/^https?:/i.test(ee),this.httpHeaders=this.isHttp&&te.httpHeaders||Object.create(null),this.withCredentials=te.withCredentials||!1,this.getXhr=te.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ee,te,G){const U={begin:ee,end:te};for(const Y in G)U[Y]=G[Y];return this.request(U)}requestFull(ee){return this.request(ee)}request(ee){const te=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:te};te.open("GET",this.url),te.withCredentials=this.withCredentials;for(const Y in this.httpHeaders){const Q=this.httpHeaders[Y];Q!==void 0&&te.setRequestHeader(Y,Q)}return this.isHttp&&"begin"in ee&&"end"in ee?(te.setRequestHeader("Range",`bytes=${ee.begin}-${ee.end-1}`),U.expectedStatus=re):U.expectedStatus=O,te.responseType="arraybuffer",ee.onError&&(te.onerror=function(Y){ee.onError(te.status)}),te.onreadystatechange=this.onStateChange.bind(this,G),te.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=ee.onHeadersReceived,U.onDone=ee.onDone,U.onError=ee.onError,U.onProgress=ee.onProgress,te.send(null),G}onProgress(ee,te){var U;const G=this.pendingRequests[ee];G&&((U=G.onProgress)==null||U.call(G,te))}onStateChange(ee,te){var X,H,K;const G=this.pendingRequests[ee];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(ee in this.pendingRequests))return;if(delete this.pendingRequests[ee],U.status===0&&this.isHttp){(X=G.onError)==null||X.call(G,U.status);return}const Y=U.status||O;if(!(Y===O&&G.expectedStatus===re)&&Y!==G.expectedStatus){(H=G.onError)==null||H.call(G,U.status);return}const W=he(U);if(Y===re){const ue=U.getResponseHeader("Content-Range"),q=/bytes (\d+)-(\d+)\/(\d+)/.exec(ue);G.onDone({begin:parseInt(q[1],10),chunk:W})}else W?G.onDone({begin:0,chunk:W}):(K=G.onError)==null||K.call(G,U.status)}getRequestXhr(ee){return this.pendingRequests[ee].xhr}isPendingRequest(ee){return ee in this.pendingRequests}abortRequest(ee){const te=this.pendingRequests[ee].xhr;delete this.pendingRequests[ee],te.abort()}}class se{constructor(ee){this._source=ee,this._manager=new me(ee.url,{httpHeaders:ee.httpHeaders,withCredentials:ee.withCredentials}),this._rangeChunkSize=ee.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ee){const te=this._rangeRequestReaders.indexOf(ee);te>=0&&this._rangeRequestReaders.splice(te,1)}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ne(this._manager,this._source),this._fullRequestReader}getRangeReader(ee,te){const G=new ve(this._manager,ee,te);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(ee){var te;(te=this._fullRequestReader)==null||te.cancel(ee);for(const G of this._rangeRequestReaders.slice(0))G.cancel(ee)}}$.PDFNetworkStream=se;class ne{constructor(ee,te){this._manager=ee;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._fullRequestId=ee.requestFull(G),this._headersReceivedCapability=(0,B.createPromiseCapability)(),this._disableRange=te.disableRange||!1,this._contentLength=te.length,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ee=this._fullRequestId,te=this._manager.getRequestXhr(ee),G=Q=>te.getResponseHeader(Q),{allowRangeRequests:U,suggestedLength:Y}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=Y||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(ee),this._headersReceivedCapability.resolve()}_onDone(ee){if(ee&&(this._requests.length>0?this._requests.shift().resolve({value:ee.chunk,done:!1}):this._cachedChunks.push(ee.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ee){this._storedError=(0,R.createResponseStatusError)(ee,this._url),this._headersReceivedCapability.reject(this._storedError);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ee){var te;(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded,total:ee.lengthComputable?ee.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0,this._headersReceivedCapability.reject(ee);for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ve{constructor(ee,te,G){this._manager=ee;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ee.url,this._requestId=ee.requestRange(te,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ee;(ee=this.onClosed)==null||ee.call(this,this)}_onDone(ee){const te=ee.chunk;this._requests.length>0?this._requests.shift().resolve({value:te,done:!1}):this._queuedChunk=te,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ee){this._storedError=(0,R.createResponseStatusError)(ee,this._url);for(const te of this._requests)te.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ee){var te;this.isStreamingSupported||(te=this.onProgress)==null||te.call(this,{loaded:ee.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const te=this._queuedChunk;return this._queuedChunk=null,{value:te,done:!1}}if(this._done)return{value:void 0,done:!0};const ee=(0,B.createPromiseCapability)();return this._requests.push(ee),ee.promise}cancel(ee){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var B=V(1),R=V(22);function O(ve,oe,ee){return{method:"GET",headers:ve,signal:ee.signal,mode:"cors",credentials:oe?"include":"same-origin",redirect:"follow"}}function re(ve){const oe=new Headers;for(const ee in ve){const te=ve[ee];te!==void 0&&oe.append(ee,te)}return oe}function he(ve){return ve instanceof Uint8Array?ve.buffer:ve instanceof ArrayBuffer?ve:((0,B.warn)(`getArrayBuffer - unexpected data format: ${ve}`),new Uint8Array(ve).buffer)}class me{constructor(oe){this.source=oe,this.isHttp=/^https?:/i.test(oe.url),this.httpHeaders=this.isHttp&&oe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var oe;return((oe=this._fullRequestReader)==null?void 0:oe._loaded)??0}getFullReader(){return(0,B.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new se(this),this._fullRequestReader}getRangeReader(oe,ee){if(ee<=this._progressiveDataLength)return null;const te=new ne(this,oe,ee);return this._rangeRequestReaders.push(te),te}cancelAllRequests(oe){var ee;(ee=this._fullRequestReader)==null||ee.cancel(oe);for(const te of this._rangeRequestReaders.slice(0))te.cancel(oe)}}$.PDFFetchStream=me;class se{constructor(oe){this._stream=oe,this._reader=null,this._loaded=0,this._filename=null;const ee=oe.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,B.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=re(this._stream.httpHeaders);const te=ee.url;fetch(te,O(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,R.validateResponseStatus)(G.status))throw(0,R.createResponseStatusError)(G.status,te);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=W=>G.headers.get(W),{allowRangeRequests:Y,suggestedLength:Q}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Y,this._contentLength=Q||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new B.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._headersCapability.promise;const{value:oe,done:ee}=await this._reader.read();return ee?{value:oe,done:ee}:(this._loaded+=oe.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded,total:this._contentLength}),{value:he(oe),done:!1})}cancel(oe){var ee;(ee=this._reader)==null||ee.cancel(oe),this._abortController.abort()}}class ne{constructor(oe,ee,te){this._stream=oe,this._reader=null,this._loaded=0;const G=oe.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,B.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${te-1}`);const U=G.url;fetch(U,O(this._headers,this._withCredentials,this._abortController)).then(Y=>{if(!(0,R.validateResponseStatus)(Y.status))throw(0,R.createResponseStatusError)(Y.status,U);this._readCapability.resolve(),this._reader=Y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var te;await this._readCapability.promise;const{value:oe,done:ee}=await this._reader.read();return ee?{value:oe,done:ee}:(this._loaded+=oe.byteLength,(te=this.onProgress)==null||te.call(this,{loaded:this._loaded}),{value:he(oe),done:!1})}cancel(oe){var ee;(ee=this._reader)==null||ee.cancel(oe),this._abortController.abort()}}},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var B=V(1),R=V(6);const O=1e5,re=30,he=.8,me=new Map;function se(Y,Q){let W;if(Q&&B.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(Y,Y).getContext("2d",{alpha:!1});else{const X=document.createElement("canvas");X.width=X.height=Y,W=X.getContext("2d",{alpha:!1})}return W}function ne(Y,Q){const W=me.get(Y);if(W)return W;const X=se(re,Q);X.font=`${re}px ${Y}`;const H=X.measureText("");let K=H.fontBoundingBoxAscent,ue=Math.abs(H.fontBoundingBoxDescent);if(K){const pe=K/(K+ue);return me.set(Y,pe),X.canvas.width=X.canvas.height=0,pe}X.strokeStyle="red",X.clearRect(0,0,re,re),X.strokeText("g",0,0);let q=X.getImageData(0,0,re,re).data;ue=0;for(let pe=q.length-1-3;pe>=0;pe-=4)if(q[pe]>0){ue=Math.ceil(pe/4/re);break}X.clearRect(0,0,re,re),X.strokeText("A",0,re),q=X.getImageData(0,0,re,re).data,K=0;for(let pe=0,ye=q.length;pe<ye;pe+=4)if(q[pe]>0){K=re-Math.floor(pe/4/re);break}if(X.canvas.width=X.canvas.height=0,K){const pe=K/(K+ue);return me.set(Y,pe),pe}return me.set(Y,he),he}function ve(Y,Q,W){const X=document.createElement("span"),H={angle:0,canvasWidth:0,hasText:Q.str!=="",hasEOL:Q.hasEOL,fontSize:0};Y._textDivs.push(X);const K=B.Util.transform(Y._transform,Q.transform);let ue=Math.atan2(K[1],K[0]);const q=W[Q.fontName];q.vertical&&(ue+=Math.PI/2);const pe=Math.hypot(K[2],K[3]),ye=pe*ne(q.fontFamily,Y._isOffscreenCanvasSupported);let Me,ze;ue===0?(Me=K[4],ze=K[5]-ye):(Me=K[4]+ye*Math.sin(ue),ze=K[5]-ye*Math.cos(ue));const lt="calc(var(--scale-factor)*",Xe=X.style;Y._container===Y._rootContainer?(Xe.left=`${(100*Me/Y._pageWidth).toFixed(2)}%`,Xe.top=`${(100*ze/Y._pageHeight).toFixed(2)}%`):(Xe.left=`${lt}${Me.toFixed(2)}px)`,Xe.top=`${lt}${ze.toFixed(2)}px)`),Xe.fontSize=`${lt}${pe.toFixed(2)}px)`,Xe.fontFamily=q.fontFamily,H.fontSize=pe,X.setAttribute("role","presentation"),X.textContent=Q.str,X.dir=Q.dir,Y._fontInspectorEnabled&&(X.dataset.fontName=Q.fontName),ue!==0&&(H.angle=ue*(180/Math.PI));let Je=!1;if(Q.str.length>1)Je=!0;else if(Q.str!==" "&&Q.transform[0]!==Q.transform[3]){const Ve=Math.abs(Q.transform[0]),Le=Math.abs(Q.transform[3]);Ve!==Le&&Math.max(Ve,Le)/Math.min(Ve,Le)>1.5&&(Je=!0)}Je&&(H.canvasWidth=q.vertical?Q.height:Q.width),Y._textDivProperties.set(X,H),Y._isReadableStream&&Y._layoutText(X)}function oe(Y){const{div:Q,scale:W,properties:X,ctx:H,prevFontSize:K,prevFontFamily:ue}=Y,{style:q}=Q;let pe="";if(X.canvasWidth!==0&&X.hasText){const{fontFamily:ye}=q,{canvasWidth:Me,fontSize:ze}=X;(K!==ze||ue!==ye)&&(H.font=`${ze*W}px ${ye}`,Y.prevFontSize=ze,Y.prevFontFamily=ye);const{width:lt}=H.measureText(Q.textContent);lt>0&&(pe=`scaleX(${Me*W/lt})`)}X.angle!==0&&(pe=`rotate(${X.angle}deg) ${pe}`),pe.length>0&&(q.transform=pe)}function ee(Y){if(Y._canceled)return;const Q=Y._textDivs,W=Y._capability;if(Q.length>O){W.resolve();return}if(!Y._isReadableStream)for(const H of Q)Y._layoutText(H);W.resolve()}class te{constructor({textContentSource:Q,container:W,viewport:X,textDivs:H,textDivProperties:K,textContentItemsStr:ue,isOffscreenCanvasSupported:q}){var lt;this._textContentSource=Q,this._isReadableStream=Q instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=H||[],this._textContentItemsStr=ue||[],this._isOffscreenCanvasSupported=q,this._fontInspectorEnabled=!!((lt=globalThis.FontInspector)!=null&&lt.enabled),this._reader=null,this._textDivProperties=K||new WeakMap,this._canceled=!1,this._capability=(0,B.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:X.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:se(0,q)};const{pageWidth:pe,pageHeight:ye,pageX:Me,pageY:ze}=X.rawDims;this._transform=[1,0,0,-1,-Me,ze+ye],this._pageWidth=pe,this._pageHeight=ye,(0,R.setLayerDimensions)(W,X),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new B.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new B.AbortException("TextLayer task cancelled."))}_processItems(Q,W){for(const X of Q){if(X.str===void 0){if(X.type==="beginMarkedContentProps"||X.type==="beginMarkedContent"){const H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),X.id!==null&&this._container.setAttribute("id",`${X.id}`),H.append(this._container)}else X.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(X.str),ve(this,X,W)}}_layoutText(Q){const W=this._layoutTextParams.properties=this._textDivProperties.get(Q);if(this._layoutTextParams.div=Q,oe(this._layoutTextParams),W.hasText&&this._container.append(Q),W.hasEOL){const X=document.createElement("br");X.setAttribute("role","presentation"),this._container.append(X)}}_render(){const Q=(0,B.createPromiseCapability)();let W=Object.create(null);if(this._isReadableStream){const X=()=>{this._reader.read().then(({value:H,done:K})=>{if(K){Q.resolve();return}Object.assign(W,H.styles),this._processItems(H.items,W),X()},Q.reject)};this._reader=this._textContentSource.getReader(),X()}else if(this._textContentSource){const{items:X,styles:H}=this._textContentSource;this._processItems(X,H),Q.resolve()}else throw new Error('No "textContentSource" parameter specified.');Q.promise.then(()=>{W=null,ee(this)},this._capability.reject)}}$.TextLayerRenderTask=te;function G(Y){!Y.textContentSource&&(Y.textContent||Y.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Y.textContentSource=Y.textContent||Y.textContentStream);const Q=new te(Y);return Q._render(),Q}function U({container:Y,viewport:Q,textDivs:W,textDivProperties:X,isOffscreenCanvasSupported:H,mustRotate:K=!0,mustRescale:ue=!0}){if(K&&(0,R.setLayerDimensions)(Y,{rotation:Q.rotation}),ue){const q=se(0,H),ye={prevFontSize:null,prevFontFamily:null,div:null,scale:Q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:q};for(const Me of W)ye.properties=X.get(Me),ye.div=Me,oe(ye)}}},(A,$,V)=>{var se,ne,ve,oe,ee,te,G,U,Y,zr,xi,Vr,Hr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var B=V(1),R=V(5),O=V(28),re=V(29),he=V(6);const K=class K{constructor(q){pt(this,Y);pt(this,se);pt(this,ne,!1);pt(this,ve,this.pointerup.bind(this));pt(this,oe,this.pointerdown.bind(this));pt(this,ee,new Map);pt(this,te,!1);pt(this,G,!1);pt(this,U);K._initialized||(K._initialized=!0,O.FreeTextEditor.initialize(q.l10n),re.InkEditor.initialize(q.l10n)),q.uiManager.registerEditorTypes([O.FreeTextEditor,re.InkEditor]),_t(this,U,q.uiManager),this.pageIndex=q.pageIndex,this.div=q.div,_t(this,se,q.accessibilityManager),be(this,U).addLayer(this)}get isEmpty(){return be(this,ee).size===0}updateToolbar(q){be(this,U).updateToolbar(q)}updateMode(q=be(this,U).getMode()){ut(this,Y,Hr).call(this),q===B.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),be(this,U).unselectAll(),q!==B.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",q===B.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",q===B.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(q){if(!q&&be(this,U).getMode()!==B.AnnotationEditorType.INK)return;if(!q){for(const ye of be(this,ee).values())if(ye.isEmpty()){ye.setInBackground();return}}ut(this,Y,Vr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(q){be(this,U).setEditingState(q)}addCommands(q){be(this,U).addCommands(q)}enable(){this.div.style.pointerEvents="auto";for(const q of be(this,ee).values())q.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const q of be(this,ee).values())q.disableEditing();ut(this,Y,Hr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(q){be(this,U).getActive()!==q&&be(this,U).setActiveEditor(q)}enableClick(){this.div.addEventListener("pointerdown",be(this,oe)),this.div.addEventListener("pointerup",be(this,ve))}disableClick(){this.div.removeEventListener("pointerdown",be(this,oe)),this.div.removeEventListener("pointerup",be(this,ve))}attach(q){be(this,ee).set(q.id,q)}detach(q){var pe;be(this,ee).delete(q.id),(pe=be(this,se))==null||pe.removePointerInTextLayer(q.contentDiv)}remove(q){be(this,U).removeEditor(q),this.detach(q),q.div.style.display="none",setTimeout(()=>{q.div.style.display="",q.div.remove(),q.isAttachedToDOM=!1,document.activeElement===document.body&&be(this,U).focusMainContainer()},0),be(this,G)||this.addInkEditorIfNeeded(!1)}add(q){if(ut(this,Y,zr).call(this,q),be(this,U).addEditor(q),this.attach(q),!q.isAttachedToDOM){const pe=q.render();this.div.append(pe),q.isAttachedToDOM=!0}this.moveEditorInDOM(q),q.onceAdded(),be(this,U).addToAnnotationStorage(q)}moveEditorInDOM(q){var pe;(pe=be(this,se))==null||pe.moveElementInDOM(this.div,q.div,q.contentDiv,!0)}addOrRebuild(q){q.needsToBeRebuilt()?q.rebuild():this.add(q)}addANewEditor(q){const pe=()=>{this.addOrRebuild(q)},ye=()=>{q.remove()};this.addCommands({cmd:pe,undo:ye,mustExec:!0})}addUndoableEditor(q){const pe=()=>{this.addOrRebuild(q)},ye=()=>{q.remove()};this.addCommands({cmd:pe,undo:ye,mustExec:!1})}getNextId(){return be(this,U).getId()}deserialize(q){switch(q.annotationType){case B.AnnotationEditorType.FREETEXT:return O.FreeTextEditor.deserialize(q,this,be(this,U));case B.AnnotationEditorType.INK:return re.InkEditor.deserialize(q,this,be(this,U))}return null}setSelected(q){be(this,U).setSelected(q)}toggleSelected(q){be(this,U).toggleSelected(q)}isSelected(q){return be(this,U).isSelected(q)}unselect(q){be(this,U).unselect(q)}pointerup(q){const{isMac:pe}=B.FeatureTest.platform;if(!(q.button!==0||q.ctrlKey&&pe)&&q.target===this.div&&be(this,te)){if(_t(this,te,!1),!be(this,ne)){_t(this,ne,!0);return}ut(this,Y,Vr).call(this,q)}}pointerdown(q){const{isMac:pe}=B.FeatureTest.platform;if(q.button!==0||q.ctrlKey&&pe||q.target!==this.div)return;_t(this,te,!0);const ye=be(this,U).getActive();_t(this,ne,!ye||ye.isEmpty())}drop(q){const pe=q.dataTransfer.getData("text/plain"),ye=be(this,U).getEditor(pe);if(!ye)return;q.preventDefault(),q.dataTransfer.dropEffect="move",ut(this,Y,zr).call(this,ye);const Me=this.div.getBoundingClientRect(),ze=q.clientX-Me.x,lt=q.clientY-Me.y;ye.translate(ze-ye.startX,lt-ye.startY),this.moveEditorInDOM(ye),ye.div.focus()}dragover(q){q.preventDefault()}destroy(){var q,pe;((q=be(this,U).getActive())==null?void 0:q.parent)===this&&be(this,U).setActiveEditor(null);for(const ye of be(this,ee).values())(pe=be(this,se))==null||pe.removePointerInTextLayer(ye.contentDiv),ye.setParent(null),ye.isAttachedToDOM=!1,ye.div.remove();this.div=null,be(this,ee).clear(),be(this,U).removeLayer(this)}render({viewport:q}){this.viewport=q,(0,he.setLayerDimensions)(this.div,q),(0,R.bindEvents)(this,this.div,["dragover","drop"]);for(const pe of be(this,U).getEditors(this.pageIndex))this.add(pe);this.updateMode()}update({viewport:q}){be(this,U).commitOrRemove(),this.viewport=q,(0,he.setLayerDimensions)(this.div,{rotation:q.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:q,pageHeight:pe}=this.viewport.rawDims;return[q,pe]}};se=new WeakMap,ne=new WeakMap,ve=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,Y=new WeakSet,zr=function(q){var pe;q.parent!==this&&(this.attach(q),(pe=q.parent)==null||pe.detach(q),q.setParent(this),q.div&&q.isAttachedToDOM&&(q.div.remove(),this.div.append(q.div)))},xi=function(q){switch(be(this,U).getMode()){case B.AnnotationEditorType.FREETEXT:return new O.FreeTextEditor(q);case B.AnnotationEditorType.INK:return new re.InkEditor(q)}return null},Vr=function(q){const pe=this.getNextId(),ye=ut(this,Y,xi).call(this,{parent:this,id:pe,x:q.offsetX,y:q.offsetY,uiManager:be(this,U)});return ye&&this.add(ye),ye},Hr=function(){_t(this,G,!0);for(const q of be(this,ee).values())q.isEmpty()&&q.remove();_t(this,G,!1)},dn(K,"_initialized",!1);let me=K;$.AnnotationEditorLayer=me},(A,$,V)=>{var he,me,se,ne,ve,oe,ee,te,G,U,Ai,ki,Pi,Ur;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var B=V(1),R=V(5),O=V(4);const H=class H extends O.AnnotationEditor{constructor(q){super({...q,name:"freeTextEditor"});pt(this,U);pt(this,he,this.editorDivBlur.bind(this));pt(this,me,this.editorDivFocus.bind(this));pt(this,se,this.editorDivInput.bind(this));pt(this,ne,this.editorDivKeydown.bind(this));pt(this,ve);pt(this,oe,"");pt(this,ee,`${this.id}-editor`);pt(this,te,!1);pt(this,G);_t(this,ve,q.color||H._defaultColor||O.AnnotationEditor._defaultLineColor),_t(this,G,q.fontSize||H._defaultFontSize)}static initialize(q){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(ye=>[ye,q.get(ye)]));const pe=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(pe.getPropertyValue("--freetext-padding"))}static updateDefaultParams(q,pe){switch(q){case B.AnnotationEditorParamsType.FREETEXT_SIZE:H._defaultFontSize=pe;break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:H._defaultColor=pe;break}}updateParams(q,pe){switch(q){case B.AnnotationEditorParamsType.FREETEXT_SIZE:ut(this,U,Ai).call(this,pe);break;case B.AnnotationEditorParamsType.FREETEXT_COLOR:ut(this,U,ki).call(this,pe);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,H._defaultFontSize],[B.AnnotationEditorParamsType.FREETEXT_COLOR,H._defaultColor||O.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.FREETEXT_SIZE,be(this,G)],[B.AnnotationEditorParamsType.FREETEXT_COLOR,be(this,ve)]]}getInitialTranslation(){const q=this.parentScale;return[-H._internalPadding*q,-(H._internalPadding+be(this,G))*q]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(B.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",be(this,ne)),this.editorDiv.addEventListener("focus",be(this,me)),this.editorDiv.addEventListener("blur",be(this,he)),this.editorDiv.addEventListener("input",be(this,se)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",be(this,ee)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",be(this,ne)),this.editorDiv.removeEventListener("focus",be(this,me)),this.editorDiv.removeEventListener("blur",be(this,he)),this.editorDiv.removeEventListener("input",be(this,se)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(q){super.focusin(q),q.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),be(this,te)||(_t(this,te,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_t(this,oe,ut(this,U,Pi).call(this).trimEnd()),ut(this,U,Ur).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(q){this.enableEditMode(),this.editorDiv.focus()}keydown(q){q.target===this.div&&q.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(q){H._keyboardManager.exec(this,q)}editorDivFocus(q){this.isEditing=!0}editorDivBlur(q){this.isEditing=!1}editorDivInput(q){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let q,pe;this.width&&(q=this.x,pe=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",be(this,ee)),this.enableEditing(),H._l10nPromise.get("editor_free_text2_aria_label").then(Me=>{var ze;return(ze=this.editorDiv)==null?void 0:ze.setAttribute("aria-label",Me)}),H._l10nPromise.get("free_text2_default_content").then(Me=>{var ze;return(ze=this.editorDiv)==null?void 0:ze.setAttribute("default-content",Me)}),this.editorDiv.contentEditable=!0;const{style:ye}=this.editorDiv;if(ye.fontSize=`calc(${be(this,G)}px * var(--scale-factor))`,ye.color=be(this,ve),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Me,ze]=this.parentDimensions;this.setAt(q*Me,pe*ze,this.width*Me,this.height*ze);for(const lt of be(this,oe).split(`
`)){const Xe=document.createElement("div");Xe.append(lt?document.createTextNode(lt):document.createElement("br")),this.editorDiv.append(Xe)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(q,pe,ye){const Me=super.deserialize(q,pe,ye);return _t(Me,G,q.fontSize),_t(Me,ve,B.Util.makeHexColor(...q.color)),_t(Me,oe,q.value),Me}serialize(){if(this.isEmpty())return null;const q=H._internalPadding*this.parentScale,pe=this.getRect(q,q),ye=O.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:be(this,ve));return{annotationType:B.AnnotationEditorType.FREETEXT,color:ye,fontSize:be(this,G),value:be(this,oe),pageIndex:this.pageIndex,rect:pe,rotation:this.rotation}}};he=new WeakMap,me=new WeakMap,se=new WeakMap,ne=new WeakMap,ve=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakSet,Ai=function(q){const pe=Me=>{this.editorDiv.style.fontSize=`calc(${Me}px * var(--scale-factor))`,this.translate(0,-(Me-be(this,G))*this.parentScale),_t(this,G,Me),ut(this,U,Ur).call(this)},ye=be(this,G);this.addCommands({cmd:()=>{pe(q)},undo:()=>{pe(ye)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ki=function(q){const pe=be(this,ve);this.addCommands({cmd:()=>{_t(this,ve,this.editorDiv.style.color=q)},undo:()=>{_t(this,ve,this.editorDiv.style.color=pe)},mustExec:!0,type:B.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pi=function(){const q=this.editorDiv.getElementsByTagName("div");if(q.length===0)return this.editorDiv.innerText;const pe=[];for(const ye of q)pe.push(ye.innerText.replace(/\r\n?|\n/,""));return pe.join(`
`)},Ur=function(){const[q,pe]=this.parentDimensions;let ye;if(this.isAttachedToDOM)ye=this.div.getBoundingClientRect();else{const{currentLayer:Me,div:ze}=this,lt=ze.style.display;ze.style.display="hidden",Me.div.append(this.div),ye=ze.getBoundingClientRect(),ze.remove(),ze.style.display=lt}this.width=ye.width/q,this.height=ye.height/pe},dn(H,"_freeTextDefaultContent",""),dn(H,"_l10nPromise"),dn(H,"_internalPadding",0),dn(H,"_defaultColor",null),dn(H,"_defaultFontSize",10),dn(H,"_keyboardManager",new R.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],H.prototype.commitOrRemove]])),dn(H,"_type","freetext");let re=H;$.FreeTextEditor=re},(A,$,V)=>{var ne,ve,oe,ee,te,G,U,Y,Q,W,X,H,K,ue,q,$i,Mi,Ti,Ri,Wr,Fi,Ii,Oi,On,qr,gr,vr,er,Gr,br,ge,Xr,Li,Di,Ni,Kr,_r,tr,Yr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return O.fitCurve}});var B=V(1),R=V(4),O=V(30),re=V(5);const he=16,me=100,ce=class ce extends R.AnnotationEditor{constructor(de){super({...de,name:"inkEditor"});pt(this,q);pt(this,ne,0);pt(this,ve,0);pt(this,oe,0);pt(this,ee,this.canvasPointermove.bind(this));pt(this,te,this.canvasPointerleave.bind(this));pt(this,G,this.canvasPointerup.bind(this));pt(this,U,this.canvasPointerdown.bind(this));pt(this,Y,!1);pt(this,Q,!1);pt(this,W,null);pt(this,X,null);pt(this,H,0);pt(this,K,0);pt(this,ue,null);this.color=de.color||null,this.thickness=de.thickness||null,this.opacity=de.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(de){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ke=>[ke,de.get(ke)]))}static updateDefaultParams(de,ke){switch(de){case B.AnnotationEditorParamsType.INK_THICKNESS:ce._defaultThickness=ke;break;case B.AnnotationEditorParamsType.INK_COLOR:ce._defaultColor=ke;break;case B.AnnotationEditorParamsType.INK_OPACITY:ce._defaultOpacity=ke/100;break}}updateParams(de,ke){switch(de){case B.AnnotationEditorParamsType.INK_THICKNESS:ut(this,q,$i).call(this,ke);break;case B.AnnotationEditorParamsType.INK_COLOR:ut(this,q,Mi).call(this,ke);break;case B.AnnotationEditorParamsType.INK_OPACITY:ut(this,q,Ti).call(this,ke);break}}static get defaultPropertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,ce._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,ce._defaultColor||R.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(ce._defaultOpacity*100)]]}get propertiesToUpdate(){return[[B.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ce._defaultThickness],[B.AnnotationEditorParamsType.INK_COLOR,this.color||ce._defaultColor||R.AnnotationEditor._defaultLineColor],[B.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ce._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ut(this,q,gr).call(this),ut(this,q,vr).call(this)),this.isAttachedToDOM||(this.parent.add(this),ut(this,q,er).call(this)),ut(this,q,tr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,be(this,X).disconnect(),_t(this,X,null),super.remove())}setParent(de){!this.parent&&de?this._uiManager.removeShouldRescale(this):this.parent&&de===null&&this._uiManager.addShouldRescale(this),super.setParent(de)}onScaleChanging(){const[de,ke]=this.parentDimensions,Te=this.width*de,$e=this.height*ke;this.setDimensions(Te,$e)}enableEditMode(){be(this,Y)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",be(this,U)),this.canvas.addEventListener("pointerup",be(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",be(this,U)),this.canvas.removeEventListener("pointerup",be(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){be(this,Y)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_t(this,Y,!0),this.div.classList.add("disabled"),ut(this,q,tr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(de){super.focusin(de),this.enableEditMode()}canvasPointerdown(de){de.button!==0||!this.isInEditMode()||be(this,Y)||(this.setInForeground(),de.type!=="mouse"&&this.div.focus(),de.stopPropagation(),this.canvas.addEventListener("pointerleave",be(this,te)),this.canvas.addEventListener("pointermove",be(this,ee)),ut(this,q,Fi).call(this,de.offsetX,de.offsetY))}canvasPointermove(de){de.stopPropagation(),ut(this,q,Ii).call(this,de.offsetX,de.offsetY)}canvasPointerup(de){de.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(de.stopPropagation(),ut(this,q,qr).call(this,de),this.setInBackground())}canvasPointerleave(de){ut(this,q,qr).call(this,de),this.setInBackground()}render(){if(this.div)return this.div;let de,ke;this.width&&(de=this.x,ke=this.y),super.render(),ce._l10nPromise.get("editor_ink2_aria_label").then(Ie=>{var Re;return(Re=this.div)==null?void 0:Re.setAttribute("aria-label",Ie)});const[Te,$e,Qe,Ce]=ut(this,q,Ri).call(this);if(this.setAt(Te,$e,0,0),this.setDims(Qe,Ce),ut(this,q,gr).call(this),this.width){const[Ie,Re]=this.parentDimensions;this.setAt(de*Ie,ke*Re,this.width*Ie,this.height*Re),_t(this,Q,!0),ut(this,q,er).call(this),this.setDims(this.width*Ie,this.height*Re),ut(this,q,On).call(this),ut(this,q,Yr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ut(this,q,vr).call(this),this.div}setDimensions(de,ke){const Te=Math.round(de),$e=Math.round(ke);if(be(this,H)===Te&&be(this,K)===$e)return;_t(this,H,Te),_t(this,K,$e),this.canvas.style.visibility="hidden",be(this,ne)&&Math.abs(be(this,ne)-de/ke)>.01&&(ke=Math.ceil(de/be(this,ne)),this.setDims(de,ke));const[Qe,Ce]=this.parentDimensions;this.width=de/Qe,this.height=ke/Ce,be(this,Y)&&ut(this,q,Gr).call(this,de,ke),ut(this,q,er).call(this),ut(this,q,On).call(this),this.canvas.style.visibility="visible"}static deserialize(de,ke,Te){var vt,wt;const $e=super.deserialize(de,ke,Te);$e.thickness=de.thickness,$e.color=B.Util.makeHexColor(...de.color),$e.opacity=de.opacity;const[Qe,Ce]=$e.pageDimensions,Ie=$e.width*Qe,Re=$e.height*Ce,nt=$e.parentScale,at=de.thickness/2;_t($e,ne,Ie/Re),_t($e,Y,!0),_t($e,H,Math.round(Ie)),_t($e,K,Math.round(Re));for(const{bezier:Ht}of de.paths){const Zt=[];$e.paths.push(Zt);let ot=nt*(Ht[0]-at),Ke=nt*(Re-Ht[1]-at);for(let bt=2,Lt=Ht.length;bt<Lt;bt+=6){const Ut=nt*(Ht[bt]-at),Wt=nt*(Re-Ht[bt+1]-at),kn=nt*(Ht[bt+2]-at),zt=nt*(Re-Ht[bt+3]-at),on=nt*(Ht[bt+4]-at),yn=nt*(Re-Ht[bt+5]-at);Zt.push([[ot,Ke],[Ut,Wt],[kn,zt],[on,yn]]),ot=on,Ke=yn}const We=ut(this,ge,Xr).call(this,Zt);$e.bezierPath2D.push(We)}const gt=ut(vt=$e,q,Kr).call(vt);return _t($e,oe,Math.max(he,gt[2]-gt[0])),_t($e,ve,Math.max(he,gt[3]-gt[1])),ut(wt=$e,q,Gr).call(wt,Ie,Re),$e}serialize(){if(this.isEmpty())return null;const de=this.getRect(0,0),ke=this.rotation%180===0?de[3]-de[1]:de[2]-de[0],Te=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:B.AnnotationEditorType.INK,color:Te,thickness:this.thickness,opacity:this.opacity,paths:ut(this,q,Li).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ke),pageIndex:this.pageIndex,rect:de,rotation:this.rotation}}};ne=new WeakMap,ve=new WeakMap,oe=new WeakMap,ee=new WeakMap,te=new WeakMap,G=new WeakMap,U=new WeakMap,Y=new WeakMap,Q=new WeakMap,W=new WeakMap,X=new WeakMap,H=new WeakMap,K=new WeakMap,ue=new WeakMap,q=new WeakSet,$i=function(de){const ke=this.thickness;this.addCommands({cmd:()=>{this.thickness=de,ut(this,q,tr).call(this)},undo:()=>{this.thickness=ke,ut(this,q,tr).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Mi=function(de){const ke=this.color;this.addCommands({cmd:()=>{this.color=de,ut(this,q,On).call(this)},undo:()=>{this.color=ke,ut(this,q,On).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ti=function(de){de/=100;const ke=this.opacity;this.addCommands({cmd:()=>{this.opacity=de,ut(this,q,On).call(this)},undo:()=>{this.opacity=ke,ut(this,q,On).call(this)},mustExec:!0,type:B.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ri=function(){const{parentRotation:de,parentDimensions:[ke,Te]}=this;switch(de){case 90:return[0,Te,Te,ke];case 180:return[ke,Te,ke,Te];case 270:return[ke,0,Te,ke];default:return[0,0,ke,Te]}},Wr=function(){const{ctx:de,color:ke,opacity:Te,thickness:$e,parentScale:Qe,scaleFactor:Ce}=this;de.lineWidth=$e*Qe/Ce,de.lineCap="round",de.lineJoin="round",de.miterLimit=10,de.strokeStyle=`${ke}${(0,re.opacityToHex)(Te)}`},Fi=function(de,ke){this.isEditing=!0,be(this,Q)||(_t(this,Q,!0),ut(this,q,er).call(this),this.thickness||(this.thickness=ce._defaultThickness),this.color||(this.color=ce._defaultColor||R.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ce._defaultOpacity)),this.currentPath.push([de,ke]),_t(this,W,null),ut(this,q,Wr).call(this),this.ctx.beginPath(),this.ctx.moveTo(de,ke),_t(this,ue,()=>{be(this,ue)&&(be(this,W)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ut(this,q,On).call(this),this.ctx.lineTo(...be(this,W)),_t(this,W,null),this.ctx.stroke()),window.requestAnimationFrame(be(this,ue)))}),window.requestAnimationFrame(be(this,ue))},Ii=function(de,ke){const[Te,$e]=this.currentPath.at(-1);de===Te&&ke===$e||(this.currentPath.push([de,ke]),_t(this,W,[de,ke]))},Oi=function(de,ke){var nt;this.ctx.closePath(),_t(this,ue,null),de=Math.min(Math.max(de,0),this.canvas.width),ke=Math.min(Math.max(ke,0),this.canvas.height);const[Te,$e]=this.currentPath.at(-1);(de!==Te||ke!==$e)&&this.currentPath.push([de,ke]);let Qe;if(this.currentPath.length!==1)Qe=(0,O.fitCurve)(this.currentPath,30,null);else{const at=[de,ke];Qe=[[at,at.slice(),at.slice(),at]]}const Ce=ut(nt=ce,ge,Xr).call(nt,Qe);this.currentPath.length=0;const Ie=()=>{this.paths.push(Qe),this.bezierPath2D.push(Ce),this.rebuild()},Re=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ut(this,q,gr).call(this),ut(this,q,vr).call(this)),ut(this,q,tr).call(this))};this.addCommands({cmd:Ie,undo:Re,mustExec:!0})},On=function(){if(this.isEmpty()){ut(this,q,br).call(this);return}ut(this,q,Wr).call(this);const{canvas:de,ctx:ke}=this;ke.setTransform(1,0,0,1,0,0),ke.clearRect(0,0,de.width,de.height),ut(this,q,br).call(this);for(const Te of this.bezierPath2D)ke.stroke(Te)},qr=function(de){ut(this,q,Oi).call(this,de.offsetX,de.offsetY),this.canvas.removeEventListener("pointerleave",be(this,te)),this.canvas.removeEventListener("pointermove",be(this,ee)),this.addToAnnotationStorage()},gr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ce._l10nPromise.get("editor_ink_canvas_aria_label").then(de=>{var ke;return(ke=this.canvas)==null?void 0:ke.setAttribute("aria-label",de)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vr=function(){let de=null;_t(this,X,new ResizeObserver(ke=>{const Te=ke[0].contentRect;Te.width&&Te.height&&(de!==null&&clearTimeout(de),de=setTimeout(()=>{this.fixDims(),de=null},me),this.setDimensions(Te.width,Te.height))})),be(this,X).observe(this.div)},er=function(){if(!be(this,Q))return;const[de,ke]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*de),this.canvas.height=Math.ceil(this.height*ke),ut(this,q,br).call(this)},Gr=function(de,ke){const Te=ut(this,q,_r).call(this),$e=(de-Te)/be(this,oe),Qe=(ke-Te)/be(this,ve);this.scaleFactor=Math.min($e,Qe)},br=function(){const de=ut(this,q,_r).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+de,this.translationY*this.scaleFactor+de)},ge=new WeakSet,Xr=function(de){const ke=new Path2D;for(let Te=0,$e=de.length;Te<$e;Te++){const[Qe,Ce,Ie,Re]=de[Te];Te===0&&ke.moveTo(...Qe),ke.bezierCurveTo(Ce[0],Ce[1],Ie[0],Ie[1],Re[0],Re[1])}return ke},Li=function(de,ke,Te,$e){const Ce=[],Ie=this.thickness/2;let Re,nt;for(const at of this.paths){Re=[],nt=[];for(let gt=0,vt=at.length;gt<vt;gt++){const[wt,Ht,Zt,ot]=at[gt],Ke=de*(wt[0]+ke)+Ie,We=$e-de*(wt[1]+Te)-Ie,bt=de*(Ht[0]+ke)+Ie,Lt=$e-de*(Ht[1]+Te)-Ie,Ut=de*(Zt[0]+ke)+Ie,Wt=$e-de*(Zt[1]+Te)-Ie,kn=de*(ot[0]+ke)+Ie,zt=$e-de*(ot[1]+Te)-Ie;gt===0&&(Re.push(Ke,We),nt.push(Ke,We)),Re.push(bt,Lt,Ut,Wt,kn,zt),ut(this,q,Di).call(this,Ke,We,bt,Lt,Ut,Wt,kn,zt,4,nt)}Ce.push({bezier:Re,points:nt})}return Ce},Di=function(de,ke,Te,$e,Qe,Ce,Ie,Re,nt,at){if(ut(this,q,Ni).call(this,de,ke,Te,$e,Qe,Ce,Ie,Re)){at.push(Ie,Re);return}for(let gt=1;gt<nt-1;gt++){const vt=gt/nt,wt=1-vt;let Ht=vt*de+wt*Te,Zt=vt*ke+wt*$e,ot=vt*Te+wt*Qe,Ke=vt*$e+wt*Ce;const We=vt*Qe+wt*Ie,bt=vt*Ce+wt*Re;Ht=vt*Ht+wt*ot,Zt=vt*Zt+wt*Ke,ot=vt*ot+wt*We,Ke=vt*Ke+wt*bt,Ht=vt*Ht+wt*ot,Zt=vt*Zt+wt*Ke,at.push(Ht,Zt)}at.push(Ie,Re)},Ni=function(de,ke,Te,$e,Qe,Ce,Ie,Re){const at=(3*Te-2*de-Ie)**2,gt=(3*$e-2*ke-Re)**2,vt=(3*Qe-de-2*Ie)**2,wt=(3*Ce-ke-2*Re)**2;return Math.max(at,vt)+Math.max(gt,wt)<=10},Kr=function(){let de=1/0,ke=-1/0,Te=1/0,$e=-1/0;for(const Qe of this.paths)for(const[Ce,Ie,Re,nt]of Qe){const at=B.Util.bezierBoundingBox(...Ce,...Ie,...Re,...nt);de=Math.min(de,at[0]),Te=Math.min(Te,at[1]),ke=Math.max(ke,at[2]),$e=Math.max($e,at[3])}return[de,Te,ke,$e]},_r=function(){return be(this,Y)?Math.ceil(this.thickness*this.parentScale):0},tr=function(de=!1){if(this.isEmpty())return;if(!be(this,Y)){ut(this,q,On).call(this);return}const ke=ut(this,q,Kr).call(this),Te=ut(this,q,_r).call(this);_t(this,oe,Math.max(he,ke[2]-ke[0])),_t(this,ve,Math.max(he,ke[3]-ke[1]));const $e=Math.ceil(Te+be(this,oe)*this.scaleFactor),Qe=Math.ceil(Te+be(this,ve)*this.scaleFactor),[Ce,Ie]=this.parentDimensions;this.width=$e/Ce,this.height=Qe/Ie,_t(this,ne,$e/Qe),ut(this,q,Yr).call(this);const Re=this.translationX,nt=this.translationY;this.translationX=-ke[0],this.translationY=-ke[1],ut(this,q,er).call(this),ut(this,q,On).call(this),_t(this,H,$e),_t(this,K,Qe),this.setDims($e,Qe);const at=de?Te/this.scaleFactor/2:0;this.translate(Re-this.translationX-at,nt-this.translationY-at)},Yr=function(){const{style:de}=this.div;be(this,ne)>=1?(de.minHeight=`${he}px`,de.minWidth=`${Math.round(be(this,ne)*he)}px`):(de.minWidth=`${he}px`,de.minHeight=`${Math.round(he/be(this,ne))}px`)},pt(ce,ge),dn(ce,"_defaultColor",null),dn(ce,"_defaultOpacity",1),dn(ce,"_defaultThickness",1),dn(ce,"_l10nPromise"),dn(ce,"_type","ink");let se=ce;$.InkEditor=se},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const B=V(31);$.fitCurve=B},A=>{function $(te,G,U){if(!Array.isArray(te))throw new TypeError("First argument should be an array");if(te.forEach(X=>{if(!Array.isArray(X)||X.some(H=>typeof H!="number")||X.length!==te[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),te=te.filter((X,H)=>H===0||!X.every((K,ue)=>K===te[H-1][ue])),te.length<2)return[];const Y=te.length,Q=ve(te[1],te[0]),W=ve(te[Y-2],te[Y-1]);return V(te,Q,W,G,U)}function V(te,G,U,Y,Q){var X,H,K,ue,q,pe,ye,Me,ze,lt,Xe,Je,Ve;if(te.length===2)return Je=oe.vectorLen(oe.subtract(te[0],te[1]))/3,X=[te[0],oe.addArrays(te[0],oe.mulItems(G,Je)),oe.addArrays(te[1],oe.mulItems(U,Je)),te[1]],[X];if(H=he(te),[X,ue,pe]=B(te,H,H,G,U,Q),ue===0||ue<Y)return[X];if(ue<Y*Y)for(K=H,q=ue,ye=pe,Ve=0;Ve<20;Ve++){if(K=O(X,te,K),[X,ue,pe]=B(te,H,K,G,U,Q),ue<Y)return[X];if(pe===ye){let Le=ue/q;if(Le>.9999&&Le<1.0001)break}q=ue,ye=pe}return Xe=[],Me=oe.subtract(te[pe-1],te[pe+1]),Me.every(Le=>Le===0)&&(Me=oe.subtract(te[pe-1],te[pe]),[Me[0],Me[1]]=[-Me[1],Me[0]]),ze=oe.normalize(Me),lt=oe.mulItems(ze,-1),Xe=Xe.concat(V(te.slice(0,pe+1),G,ze,Y,Q)),Xe=Xe.concat(V(te.slice(pe),lt,U,Y,Q)),Xe}function B(te,G,U,Y,Q,W){var X,H,K;return X=R(te,U,Y,Q),[H,K]=me(te,X,G),W&&W({bez:X,points:te,params:G,maxErr:H,maxPoint:K}),[X,H,K]}function R(te,G,U,Y){var Q,W,X,H,K,ue,q,pe,ye,Me,ze,lt,Xe,Je,Ve,Le,Ne,et=te[0],tt=te[te.length-1];for(Q=[et,null,null,tt],W=oe.zeros_Xx2x2(G.length),Xe=0,Je=G.length;Xe<Je;Xe++)Le=G[Xe],Ne=1-Le,X=W[Xe],X[0]=oe.mulItems(U,3*Le*(Ne*Ne)),X[1]=oe.mulItems(Y,3*Ne*(Le*Le));for(H=[[0,0],[0,0]],K=[0,0],Xe=0,Je=te.length;Xe<Je;Xe++)Le=G[Xe],X=W[Xe],H[0][0]+=oe.dot(X[0],X[0]),H[0][1]+=oe.dot(X[0],X[1]),H[1][0]+=oe.dot(X[0],X[1]),H[1][1]+=oe.dot(X[1],X[1]),Ve=oe.subtract(te[Xe],ee.q([et,et,tt,tt],Le)),K[0]+=oe.dot(X[0],Ve),K[1]+=oe.dot(X[1],Ve);return ue=H[0][0]*H[1][1]-H[1][0]*H[0][1],q=H[0][0]*K[1]-H[1][0]*K[0],pe=K[0]*H[1][1]-K[1]*H[0][1],ye=ue===0?0:pe/ue,Me=ue===0?0:q/ue,lt=oe.vectorLen(oe.subtract(et,tt)),ze=1e-6*lt,ye<ze||Me<ze?(Q[1]=oe.addArrays(et,oe.mulItems(U,lt/3)),Q[2]=oe.addArrays(tt,oe.mulItems(Y,lt/3))):(Q[1]=oe.addArrays(et,oe.mulItems(U,ye)),Q[2]=oe.addArrays(tt,oe.mulItems(Y,Me))),Q}function O(te,G,U){return U.map((Y,Q)=>re(te,G[Q],Y))}function re(te,G,U){var Y=oe.subtract(ee.q(te,U),G),Q=ee.qprime(te,U),W=oe.mulMatrix(Y,Q),X=oe.sum(oe.squareItems(Q))+2*oe.mulMatrix(Y,ee.qprimeprime(te,U));return X===0?U:U-W/X}function he(te){var G=[],U,Y,Q;return te.forEach((W,X)=>{U=X?Y+oe.vectorLen(oe.subtract(W,Q)):0,G.push(U),Y=U,Q=W}),G=G.map(W=>W/Y),G}function me(te,G,U){var Y,Q,W,X,H,K,ue,q;Q=0,W=Math.floor(te.length/2);const pe=se(G,10);for(H=0,K=te.length;H<K;H++)ue=te[H],q=ne(G,U[H],pe,10),X=oe.subtract(ee.q(G,q),ue),Y=X[0]*X[0]+X[1]*X[1],Y>Q&&(Q=Y,W=H);return[Q,W]}var se=function(te,G){for(var U,Y=[0],Q=te[0],W=0,X=1;X<=G;X++)U=ee.q(te,X/G),W+=oe.vectorLen(oe.subtract(U,Q)),Y.push(W),Q=U;return Y=Y.map(H=>H/W),Y};function ne(te,G,U,Y){if(G<0)return 0;if(G>1)return 1;for(var Q,W,X,H,K,ue=1;ue<=Y;ue++)if(G<=U[ue]){H=(ue-1)/Y,X=ue/Y,W=U[ue-1],Q=U[ue],K=(G-W)/(Q-W)*(X-H)+H;break}return K}function ve(te,G){return oe.normalize(oe.subtract(te,G))}class oe{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(Y=>Y*U)}static mulMatrix(G,U){return G.reduce((Y,Q,W)=>Y+Q*U[W],0)}static subtract(G,U){return G.map((Y,Q)=>Y-U[Q])}static addArrays(G,U){return G.map((Y,Q)=>Y+U[Q])}static addItems(G,U){return G.map(Y=>Y+U)}static sum(G){return G.reduce((U,Y)=>U+Y)}static dot(G,U){return oe.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(Y=>Y/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class ee{static q(G,U){var Y=1-U,Q=oe.mulItems(G[0],Y*Y*Y),W=oe.mulItems(G[1],3*Y*Y*U),X=oe.mulItems(G[2],3*Y*U*U),H=oe.mulItems(G[3],U*U*U);return oe.addArrays(oe.addArrays(Q,W),oe.addArrays(X,H))}static qprime(G,U){var Y=1-U,Q=oe.mulItems(oe.subtract(G[1],G[0]),3*Y*Y),W=oe.mulItems(oe.subtract(G[2],G[1]),6*Y*U),X=oe.mulItems(oe.subtract(G[3],G[2]),3*U*U);return oe.addArrays(oe.addArrays(Q,W),X)}static qprimeprime(G,U){return oe.addArrays(oe.mulItems(oe.addArrays(oe.subtract(G[2],oe.mulItems(G[1],2)),G[0]),6*(1-U)),oe.mulItems(oe.addArrays(oe.subtract(G[3],oe.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=V,A.exports.createTangent=ve},(A,$,V)=>{var ie,Xn,ji,Se,Zr,Jr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var B=V(1),R=V(6),O=V(3),re=V(33),he=V(34);const me=1e3,se=9,ne=new WeakSet;function ve(Ue){return{width:Ue[2]-Ue[0],height:Ue[3]-Ue[1]}}class oe{static create(ae){switch(ae.data.annotationType){case B.AnnotationType.LINK:return new te(ae);case B.AnnotationType.TEXT:return new G(ae);case B.AnnotationType.WIDGET:switch(ae.data.fieldType){case"Tx":return new Y(ae);case"Btn":return ae.data.radioButton?new W(ae):ae.data.checkBox?new Q(ae):new X(ae);case"Ch":return new H(ae)}return new U(ae);case B.AnnotationType.POPUP:return new K(ae);case B.AnnotationType.FREETEXT:return new q(ae);case B.AnnotationType.LINE:return new pe(ae);case B.AnnotationType.SQUARE:return new ye(ae);case B.AnnotationType.CIRCLE:return new Me(ae);case B.AnnotationType.POLYLINE:return new ze(ae);case B.AnnotationType.CARET:return new Xe(ae);case B.AnnotationType.INK:return new Je(ae);case B.AnnotationType.POLYGON:return new lt(ae);case B.AnnotationType.HIGHLIGHT:return new Ve(ae);case B.AnnotationType.UNDERLINE:return new Le(ae);case B.AnnotationType.SQUIGGLY:return new Ne(ae);case B.AnnotationType.STRIKEOUT:return new et(ae);case B.AnnotationType.STAMP:return new tt(ae);case B.AnnotationType.FILEATTACHMENT:return new we(ae);default:return new ee(ae)}}}class ee{constructor(ae,{isRenderable:ce=!1,ignoreBorder:_e=!1,createQuadrilaterals:Ee=!1}={}){this.isRenderable=ce,this.data=ae.data,this.layer=ae.layer,this.page=ae.page,this.viewport=ae.viewport,this.linkService=ae.linkService,this.downloadManager=ae.downloadManager,this.imageResourcesPath=ae.imageResourcesPath,this.renderForms=ae.renderForms,this.svgFactory=ae.svgFactory,this.annotationStorage=ae.annotationStorage,this.enableScripting=ae.enableScripting,this.hasJSActions=ae.hasJSActions,this._fieldObjects=ae.fieldObjects,ce&&(this.container=this._createContainer(_e)),Ee&&(this.quadrilaterals=this._createQuadrilaterals(_e))}_createContainer(ae=!1){const{data:ce,page:_e,viewport:Ee}=this,de=document.createElement("section");de.setAttribute("data-annotation-id",ce.id);const{pageWidth:ke,pageHeight:Te,pageX:$e,pageY:Qe}=Ee.rawDims,{width:Ce,height:Ie}=ve(ce.rect),Re=B.Util.normalizeRect([ce.rect[0],_e.view[3]-ce.rect[1]+_e.view[1],ce.rect[2],_e.view[3]-ce.rect[3]+_e.view[1]]);if(!ae&&ce.borderStyle.width>0){de.style.borderWidth=`${ce.borderStyle.width}px`;const at=ce.borderStyle.horizontalCornerRadius,gt=ce.borderStyle.verticalCornerRadius;if(at>0||gt>0){const wt=`calc(${at}px * var(--scale-factor)) / calc(${gt}px * var(--scale-factor))`;de.style.borderRadius=wt}else if(this instanceof W){const wt=`calc(${Ce}px * var(--scale-factor)) / calc(${Ie}px * var(--scale-factor))`;de.style.borderRadius=wt}switch(ce.borderStyle.style){case B.AnnotationBorderStyleType.SOLID:de.style.borderStyle="solid";break;case B.AnnotationBorderStyleType.DASHED:de.style.borderStyle="dashed";break;case B.AnnotationBorderStyleType.BEVELED:(0,B.warn)("Unimplemented border style: beveled");break;case B.AnnotationBorderStyleType.INSET:(0,B.warn)("Unimplemented border style: inset");break;case B.AnnotationBorderStyleType.UNDERLINE:de.style.borderBottomStyle="solid";break}const vt=ce.borderColor||null;vt?de.style.borderColor=B.Util.makeHexColor(vt[0]|0,vt[1]|0,vt[2]|0):de.style.borderWidth=0}de.style.left=`${100*(Re[0]-$e)/ke}%`,de.style.top=`${100*(Re[1]-Qe)/Te}%`;const{rotation:nt}=ce;return ce.hasOwnCanvas||nt===0?(de.style.width=`${100*Ce/ke}%`,de.style.height=`${100*Ie/Te}%`):this.setRotation(nt,de),de}setRotation(ae,ce=this.container){const{pageWidth:_e,pageHeight:Ee}=this.viewport.rawDims,{width:de,height:ke}=ve(this.data.rect);let Te,$e;ae%180===0?(Te=100*de/_e,$e=100*ke/Ee):(Te=100*ke/_e,$e=100*de/Ee),ce.style.width=`${Te}%`,ce.style.height=`${$e}%`,ce.setAttribute("data-main-rotation",(360-ae)%360)}get _commonActions(){const ae=(ce,_e,Ee)=>{const de=Ee.detail[ce];Ee.target.style[_e]=re.ColorConverters[`${de[0]}_HTML`](de.slice(1))};return(0,B.shadow)(this,"_commonActions",{display:ce=>{const _e=ce.detail.display%2===1;this.container.style.visibility=_e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:_e,print:ce.detail.display===0||ce.detail.display===3})},print:ce=>{this.annotationStorage.setValue(this.data.id,{print:ce.detail.print})},hidden:ce=>{this.container.style.visibility=ce.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ce.detail.hidden})},focus:ce=>{setTimeout(()=>ce.target.focus({preventScroll:!1}),0)},userName:ce=>{ce.target.title=ce.detail.userName},readonly:ce=>{ce.detail.readonly?ce.target.setAttribute("readonly",""):ce.target.removeAttribute("readonly")},required:ce=>{this._setRequired(ce.target,ce.detail.required)},bgColor:ce=>{ae("bgColor","backgroundColor",ce)},fillColor:ce=>{ae("fillColor","backgroundColor",ce)},fgColor:ce=>{ae("fgColor","color",ce)},textColor:ce=>{ae("textColor","color",ce)},borderColor:ce=>{ae("borderColor","borderColor",ce)},strokeColor:ce=>{ae("strokeColor","borderColor",ce)},rotation:ce=>{const _e=ce.detail.rotation;this.setRotation(_e),this.annotationStorage.setValue(this.data.id,{rotation:_e})}})}_dispatchEventFromSandbox(ae,ce){const _e=this._commonActions;for(const Ee of Object.keys(ce.detail)){const de=ae[Ee]||_e[Ee];de==null||de(ce)}}_setDefaultPropertiesFromJS(ae){if(!this.enableScripting)return;const ce=this.annotationStorage.getRawValue(this.data.id);if(!ce)return;const _e=this._commonActions;for(const[Ee,de]of Object.entries(ce)){const ke=_e[Ee];if(ke){const Te={detail:{[Ee]:de},target:ae};ke(Te),delete ce[Ee]}}}_createQuadrilaterals(ae=!1){if(!this.data.quadPoints)return null;const ce=[],_e=this.data.rect;for(const Ee of this.data.quadPoints)this.data.rect=[Ee[2].x,Ee[2].y,Ee[1].x,Ee[1].y],ce.push(this._createContainer(ae));return this.data.rect=_e,ce}_createPopup(ae,ce){let _e=this.container;this.quadrilaterals&&(ae=ae||this.quadrilaterals,_e=this.quadrilaterals[0]),ae||(ae=document.createElement("div"),ae.className="popupTriggerArea",_e.append(ae));const de=new ue({container:_e,trigger:ae,color:ce.color,titleObj:ce.titleObj,modificationDate:ce.modificationDate,contentsObj:ce.contentsObj,richText:ce.richText,hideWrapper:!0}).render();de.style.left="100%",_e.append(de)}_renderQuadrilaterals(ae){for(const ce of this.quadrilaterals)ce.className=ae;return this.quadrilaterals}render(){(0,B.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ae,ce=null){const _e=[];if(this._fieldObjects){const Ee=this._fieldObjects[ae];if(Ee)for(const{page:de,id:ke,exportValues:Te}of Ee){if(de===-1||ke===ce)continue;const $e=typeof Te=="string"?Te:null,Qe=document.querySelector(`[data-element-id="${ke}"]`);if(Qe&&!ne.has(Qe)){(0,B.warn)(`_getElementsByName - element not allowed: ${ke}`);continue}_e.push({id:ke,exportValue:$e,domElement:Qe})}return _e}for(const Ee of document.getElementsByName(ae)){const{exportValue:de}=Ee,ke=Ee.getAttribute("data-element-id");ke!==ce&&ne.has(Ee)&&_e.push({id:ke,exportValue:de,domElement:Ee})}return _e}}class te extends ee{constructor(ce,_e=null){super(ce,{isRenderable:!0,ignoreBorder:!!(_e!=null&&_e.ignoreBorder),createQuadrilaterals:!0});pt(this,ie);this.isTooltipOnly=ce.data.isTooltipOnly}render(){const{data:ce,linkService:_e}=this,Ee=document.createElement("a");Ee.setAttribute("data-element-id",ce.id);let de=!1;return ce.url?(_e.addLinkAttributes(Ee,ce.url,ce.newWindow),de=!0):ce.action?(this._bindNamedAction(Ee,ce.action),de=!0):ce.attachment?(this._bindAttachment(Ee,ce.attachment),de=!0):ce.setOCGState?(ut(this,ie,ji).call(this,Ee,ce.setOCGState),de=!0):ce.dest?(this._bindLink(Ee,ce.dest),de=!0):(ce.actions&&(ce.actions.Action||ce.actions["Mouse Up"]||ce.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ee,ce),de=!0),ce.resetForm?(this._bindResetFormAction(Ee,ce.resetForm),de=!0):this.isTooltipOnly&&!de&&(this._bindLink(Ee,""),de=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ke,Te)=>{const $e=Te===0?Ee:Ee.cloneNode();return ke.append($e),ke}):(this.container.className="linkAnnotation",de&&this.container.append(Ee),this.container)}_bindLink(ce,_e){ce.href=this.linkService.getDestinationHash(_e),ce.onclick=()=>(_e&&this.linkService.goToDestination(_e),!1),(_e||_e==="")&&ut(this,ie,Xn).call(this)}_bindNamedAction(ce,_e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>(this.linkService.executeNamedAction(_e),!1),ut(this,ie,Xn).call(this)}_bindAttachment(ce,_e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>{var Ee;return(Ee=this.downloadManager)==null||Ee.openOrDownloadData(this.container,_e.content,_e.filename),!1},ut(this,ie,Xn).call(this)}_bindJSAction(ce,_e){ce.href=this.linkService.getAnchorUrl("");const Ee=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const de of Object.keys(_e.actions)){const ke=Ee.get(de);ke&&(ce[ke]=()=>{var Te;return(Te=this.linkService.eventBus)==null||Te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e.id,name:de}}),!1})}ce.onclick||(ce.onclick=()=>!1),ut(this,ie,Xn).call(this)}_bindResetFormAction(ce,_e){const Ee=ce.onclick;if(Ee||(ce.href=this.linkService.getAnchorUrl("")),ut(this,ie,Xn).call(this),!this._fieldObjects){(0,B.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ee||(ce.onclick=()=>!1);return}ce.onclick=()=>{var Ie;Ee==null||Ee();const{fields:de,refs:ke,include:Te}=_e,$e=[];if(de.length!==0||ke.length!==0){const Re=new Set(ke);for(const nt of de){const at=this._fieldObjects[nt]||[];for(const{id:gt}of at)Re.add(gt)}for(const nt of Object.values(this._fieldObjects))for(const at of nt)Re.has(at.id)===Te&&$e.push(at)}else for(const Re of Object.values(this._fieldObjects))$e.push(...Re);const Qe=this.annotationStorage,Ce=[];for(const Re of $e){const{id:nt}=Re;switch(Ce.push(nt),Re.type){case"text":{const gt=Re.defaultValue||"";Qe.setValue(nt,{value:gt});break}case"checkbox":case"radiobutton":{const gt=Re.defaultValue===Re.exportValues;Qe.setValue(nt,{value:gt});break}case"combobox":case"listbox":{const gt=Re.defaultValue||"";Qe.setValue(nt,{value:gt});break}default:continue}const at=document.querySelector(`[data-element-id="${nt}"]`);if(at){if(!ne.has(at)){(0,B.warn)(`_bindResetFormAction - element not allowed: ${nt}`);continue}}else continue;at.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ie=this.linkService.eventBus)==null||Ie.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ce,name:"ResetForm"}})),!1}}}ie=new WeakSet,Xn=function(){this.container.setAttribute("data-internal-link","")},ji=function(ce,_e){ce.href=this.linkService.getAnchorUrl(""),ce.onclick=()=>(this.linkService.executeSetOCGState(_e),!1),ut(this,ie,Xn).call(this)};class G extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce})}render(){this.container.className="textAnnotation";const ae=document.createElement("img");return ae.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ae.alt="[{{type}} Annotation]",ae.dataset.l10nId="text_annotation_type",ae.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ae,this.data),this.container.append(ae),this.container}}class U extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ae){const{isWin:ce,isMac:_e}=B.FeatureTest.platform;return ce&&ae.ctrlKey||_e&&ae.metaKey}_setEventListener(ae,ce,_e,Ee){ce.includes("mouse")?ae.addEventListener(ce,de=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Ee(de),shift:de.shiftKey,modifier:this._getKeyModifier(de)}})}):ae.addEventListener(ce,de=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Ee(de)}})})}_setEventListeners(ae,ce,_e){var Ee;for(const[de,ke]of ce)(ke==="Action"||(Ee=this.data.actions)!=null&&Ee[ke])&&this._setEventListener(ae,de,ke,_e)}_setBackgroundColor(ae){const ce=this.data.backgroundColor||null;ae.style.backgroundColor=ce===null?"transparent":B.Util.makeHexColor(ce[0],ce[1],ce[2])}_setTextStyle(ae){const ce=["left","center","right"],{fontColor:_e}=this.data.defaultAppearanceData,Ee=this.data.defaultAppearanceData.fontSize||se,de=ae.style;let ke;const Te=2,$e=Qe=>Math.round(10*Qe)/10;if(this.data.multiLine){const Qe=Math.abs(this.data.rect[3]-this.data.rect[1]-Te),Ce=Math.round(Qe/(B.LINE_FACTOR*Ee))||1,Ie=Qe/Ce;ke=Math.min(Ee,$e(Ie/B.LINE_FACTOR))}else{const Qe=Math.abs(this.data.rect[3]-this.data.rect[1]-Te);ke=Math.min(Ee,$e(Qe/B.LINE_FACTOR))}de.fontSize=`calc(${ke}px * var(--scale-factor))`,de.color=B.Util.makeHexColor(_e[0],_e[1],_e[2]),this.data.textAlignment!==null&&(de.textAlign=ce[this.data.textAlignment])}_setRequired(ae,ce){ce?ae.setAttribute("required",!0):ae.removeAttribute("required"),ae.setAttribute("aria-required",ce)}}class Y extends U{constructor(ae){const ce=ae.renderForms||!ae.data.hasAppearance&&!!ae.data.fieldValue;super(ae,{isRenderable:ce})}setPropertyOnSiblings(ae,ce,_e,Ee){const de=this.annotationStorage;for(const ke of this._getElementsByName(ae.name,ae.id))ke.domElement&&(ke.domElement[ce]=_e),de.setValue(ke.id,{[Ee]:_e})}render(){var Ee;const ae=this.annotationStorage,ce=this.data.id;this.container.className="textWidgetAnnotation";let _e=null;if(this.renderForms){const de=ae.getValue(ce,{value:this.data.fieldValue});let ke=de.formattedValue||de.value||"";const Te=ae.getValue(ce,{charLimit:this.data.maxLen}).charLimit;Te&&ke.length>Te&&(ke=ke.slice(0,Te));const $e={userValue:ke,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(_e=document.createElement("textarea"),_e.textContent=ke,this.data.doNotScroll&&(_e.style.overflowY="hidden")):(_e=document.createElement("input"),_e.type="text",_e.setAttribute("value",ke),this.data.doNotScroll&&(_e.style.overflowX="hidden")),ne.add(_e),_e.setAttribute("data-element-id",ce),_e.disabled=this.data.readOnly,_e.name=this.data.fieldName,_e.tabIndex=me,this._setRequired(_e,this.data.required),Te&&(_e.maxLength=Te),_e.addEventListener("input",Ce=>{ae.setValue(ce,{value:Ce.target.value}),this.setPropertyOnSiblings(_e,"value",Ce.target.value,"value")}),_e.addEventListener("resetform",Ce=>{const Ie=this.data.defaultFieldValue??"";_e.value=$e.userValue=Ie,$e.formattedValue=null});let Qe=Ce=>{const{formattedValue:Ie}=$e;Ie!=null&&(Ce.target.value=Ie),Ce.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_e.addEventListener("focus",Ie=>{const{target:Re}=Ie;$e.userValue&&(Re.value=$e.userValue),$e.lastCommittedValue=Re.value,$e.commitKey=1}),_e.addEventListener("updatefromsandbox",Ie=>{const Re={value(nt){$e.userValue=nt.detail.value??"",ae.setValue(ce,{value:$e.userValue.toString()}),nt.target.value=$e.userValue},formattedValue(nt){const{formattedValue:at}=nt.detail;$e.formattedValue=at,at!=null&&nt.target!==document.activeElement&&(nt.target.value=at),ae.setValue(ce,{formattedValue:at})},selRange(nt){nt.target.setSelectionRange(...nt.detail.selRange)},charLimit:nt=>{var wt;const{charLimit:at}=nt.detail,{target:gt}=nt;if(at===0){gt.removeAttribute("maxLength");return}gt.setAttribute("maxLength",at);let vt=$e.userValue;!vt||vt.length<=at||(vt=vt.slice(0,at),gt.value=$e.userValue=vt,ae.setValue(ce,{value:vt}),(wt=this.linkService.eventBus)==null||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:vt,willCommit:!0,commitKey:1,selStart:gt.selectionStart,selEnd:gt.selectionEnd}}))}};this._dispatchEventFromSandbox(Re,Ie)}),_e.addEventListener("keydown",Ie=>{var at;$e.commitKey=1;let Re=-1;if(Ie.key==="Escape"?Re=0:Ie.key==="Enter"&&!this.data.multiLine?Re=2:Ie.key==="Tab"&&($e.commitKey=3),Re===-1)return;const{value:nt}=Ie.target;$e.lastCommittedValue!==nt&&($e.lastCommittedValue=nt,$e.userValue=nt,(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:nt,willCommit:!0,commitKey:Re,selStart:Ie.target.selectionStart,selEnd:Ie.target.selectionEnd}}))});const Ce=Qe;Qe=null,_e.addEventListener("blur",Ie=>{var nt;if(!Ie.relatedTarget)return;const{value:Re}=Ie.target;$e.userValue=Re,$e.lastCommittedValue!==Re&&((nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:Re,willCommit:!0,commitKey:$e.commitKey,selStart:Ie.target.selectionStart,selEnd:Ie.target.selectionEnd}})),Ce(Ie)}),(Ee=this.data.actions)!=null&&Ee.Keystroke&&_e.addEventListener("beforeinput",Ie=>{var Zt;$e.lastCommittedValue=null;const{data:Re,target:nt}=Ie,{value:at,selectionStart:gt,selectionEnd:vt}=nt;let wt=gt,Ht=vt;switch(Ie.inputType){case"deleteWordBackward":{const ot=at.substring(0,gt).match(/\w*[^\w]*$/);ot&&(wt-=ot[0].length);break}case"deleteWordForward":{const ot=at.substring(gt).match(/^[^\w]*\w*/);ot&&(Ht+=ot[0].length);break}case"deleteContentBackward":gt===vt&&(wt-=1);break;case"deleteContentForward":gt===vt&&(Ht+=1);break}Ie.preventDefault(),(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:at,change:Re||"",willCommit:!1,selStart:wt,selEnd:Ht}})}),this._setEventListeners(_e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ie=>Ie.target.value)}if(Qe&&_e.addEventListener("blur",Qe),this.data.comb){const Ie=(this.data.rect[2]-this.data.rect[0])/Te;_e.classList.add("comb"),_e.style.letterSpacing=`calc(${Ie}px * var(--scale-factor) - 1ch)`}}else _e=document.createElement("div"),_e.textContent=this.data.fieldValue,_e.style.verticalAlign="middle",_e.style.display="table-cell";return this._setTextStyle(_e),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class Q extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){const ae=this.annotationStorage,ce=this.data,_e=ce.id;let Ee=ae.getValue(_e,{value:ce.exportValue===ce.fieldValue}).value;typeof Ee=="string"&&(Ee=Ee!=="Off",ae.setValue(_e,{value:Ee})),this.container.className="buttonWidgetAnnotation checkBox";const de=document.createElement("input");return ne.add(de),de.setAttribute("data-element-id",_e),de.disabled=ce.readOnly,this._setRequired(de,this.data.required),de.type="checkbox",de.name=ce.fieldName,Ee&&de.setAttribute("checked",!0),de.setAttribute("exportValue",ce.exportValue),de.tabIndex=me,de.addEventListener("change",ke=>{const{name:Te,checked:$e}=ke.target;for(const Qe of this._getElementsByName(Te,_e)){const Ce=$e&&Qe.exportValue===ce.exportValue;Qe.domElement&&(Qe.domElement.checked=Ce),ae.setValue(Qe.id,{value:Ce})}ae.setValue(_e,{value:$e})}),de.addEventListener("resetform",ke=>{const Te=ce.defaultFieldValue||"Off";ke.target.checked=Te===ce.exportValue}),this.enableScripting&&this.hasJSActions&&(de.addEventListener("updatefromsandbox",ke=>{const Te={value($e){$e.target.checked=$e.detail.value!=="Off",ae.setValue(_e,{value:$e.target.checked})}};this._dispatchEventFromSandbox(Te,ke)}),this._setEventListeners(de,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.checked)),this._setBackgroundColor(de),this._setDefaultPropertiesFromJS(de),this.container.append(de),this.container}}class W extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ae=this.annotationStorage,ce=this.data,_e=ce.id;let Ee=ae.getValue(_e,{value:ce.fieldValue===ce.buttonValue}).value;typeof Ee=="string"&&(Ee=Ee!==ce.buttonValue,ae.setValue(_e,{value:Ee}));const de=document.createElement("input");if(ne.add(de),de.setAttribute("data-element-id",_e),de.disabled=ce.readOnly,this._setRequired(de,this.data.required),de.type="radio",de.name=ce.fieldName,Ee&&de.setAttribute("checked",!0),de.tabIndex=me,de.addEventListener("change",ke=>{const{name:Te,checked:$e}=ke.target;for(const Qe of this._getElementsByName(Te,_e))ae.setValue(Qe.id,{value:!1});ae.setValue(_e,{value:$e})}),de.addEventListener("resetform",ke=>{const Te=ce.defaultFieldValue;ke.target.checked=Te!=null&&Te===ce.buttonValue}),this.enableScripting&&this.hasJSActions){const ke=ce.buttonValue;de.addEventListener("updatefromsandbox",Te=>{const $e={value:Qe=>{const Ce=ke===Qe.detail.value;for(const Ie of this._getElementsByName(Qe.target.name)){const Re=Ce&&Ie.id===_e;Ie.domElement&&(Ie.domElement.checked=Re),ae.setValue(Ie.id,{value:Re})}}};this._dispatchEventFromSandbox($e,Te)}),this._setEventListeners(de,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Te=>Te.target.checked)}return this._setBackgroundColor(de),this._setDefaultPropertiesFromJS(de),this.container.append(de),this.container}}class X extends te{constructor(ae){super(ae,{ignoreBorder:ae.data.hasAppearance})}render(){const ae=super.render();ae.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ae.title=this.data.alternativeText);const ce=ae.lastChild;return this.enableScripting&&this.hasJSActions&&ce&&(this._setDefaultPropertiesFromJS(ce),ce.addEventListener("updatefromsandbox",_e=>{this._dispatchEventFromSandbox({},_e)})),ae}}class H extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ae=this.annotationStorage,ce=this.data.id,_e=ae.getValue(ce,{value:this.data.fieldValue}),Ee=document.createElement("select");ne.add(Ee),Ee.setAttribute("data-element-id",ce),Ee.disabled=this.data.readOnly,this._setRequired(Ee,this.data.required),Ee.name=this.data.fieldName,Ee.tabIndex=me;let de=this.data.combo&&this.data.options.length>0;this.data.combo||(Ee.size=this.data.options.length,this.data.multiSelect&&(Ee.multiple=!0)),Ee.addEventListener("resetform",Ce=>{const Ie=this.data.defaultFieldValue;for(const Re of Ee.options)Re.selected=Re.value===Ie});for(const Ce of this.data.options){const Ie=document.createElement("option");Ie.textContent=Ce.displayValue,Ie.value=Ce.exportValue,_e.value.includes(Ce.exportValue)&&(Ie.setAttribute("selected",!0),de=!1),Ee.append(Ie)}let ke=null;if(de){const Ce=document.createElement("option");Ce.value=" ",Ce.setAttribute("hidden",!0),Ce.setAttribute("selected",!0),Ee.prepend(Ce),ke=()=>{Ce.remove(),Ee.removeEventListener("input",ke),ke=null},Ee.addEventListener("input",ke)}const Te=Ce=>{const Ie=Ce?"value":"textContent",{options:Re,multiple:nt}=Ee;return nt?Array.prototype.filter.call(Re,at=>at.selected).map(at=>at[Ie]):Re.selectedIndex===-1?null:Re[Re.selectedIndex][Ie]};let $e=Te(!1);const Qe=Ce=>{const Ie=Ce.target.options;return Array.prototype.map.call(Ie,Re=>({displayValue:Re.textContent,exportValue:Re.value}))};return this.enableScripting&&this.hasJSActions?(Ee.addEventListener("updatefromsandbox",Ce=>{const Ie={value(Re){ke==null||ke();const nt=Re.detail.value,at=new Set(Array.isArray(nt)?nt:[nt]);for(const gt of Ee.options)gt.selected=at.has(gt.value);ae.setValue(ce,{value:Te(!0)}),$e=Te(!1)},multipleSelection(Re){Ee.multiple=!0},remove(Re){const nt=Ee.options,at=Re.detail.remove;nt[at].selected=!1,Ee.remove(at),nt.length>0&&Array.prototype.findIndex.call(nt,vt=>vt.selected)===-1&&(nt[0].selected=!0),ae.setValue(ce,{value:Te(!0),items:Qe(Re)}),$e=Te(!1)},clear(Re){for(;Ee.length!==0;)Ee.remove(0);ae.setValue(ce,{value:null,items:[]}),$e=Te(!1)},insert(Re){const{index:nt,displayValue:at,exportValue:gt}=Re.detail.insert,vt=Ee.children[nt],wt=document.createElement("option");wt.textContent=at,wt.value=gt,vt?vt.before(wt):Ee.append(wt),ae.setValue(ce,{value:Te(!0),items:Qe(Re)}),$e=Te(!1)},items(Re){const{items:nt}=Re.detail;for(;Ee.length!==0;)Ee.remove(0);for(const at of nt){const{displayValue:gt,exportValue:vt}=at,wt=document.createElement("option");wt.textContent=gt,wt.value=vt,Ee.append(wt)}Ee.options.length>0&&(Ee.options[0].selected=!0),ae.setValue(ce,{value:Te(!0),items:Qe(Re)}),$e=Te(!1)},indices(Re){const nt=new Set(Re.detail.indices);for(const at of Re.target.options)at.selected=nt.has(at.index);ae.setValue(ce,{value:Te(!0)}),$e=Te(!1)},editable(Re){Re.target.disabled=!Re.detail.editable}};this._dispatchEventFromSandbox(Ie,Ce)}),Ee.addEventListener("input",Ce=>{var Re;const Ie=Te(!0);ae.setValue(ce,{value:Ie}),Ce.preventDefault(),(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ce,name:"Keystroke",value:$e,changeEx:Ie,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ee,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ce=>Ce.target.value)):Ee.addEventListener("input",function(Ce){ae.setValue(ce,{value:Te(!0)})}),this.data.combo&&this._setTextStyle(Ee),this._setBackgroundColor(Ee),this._setDefaultPropertiesFromJS(Ee),this.container.append(Ee),this.container}}const Ae=class Ae extends ee{constructor(ae){var Ee,de,ke;const{data:ce}=ae,_e=!Ae.IGNORE_TYPES.has(ce.parentType)&&!!((Ee=ce.titleObj)!=null&&Ee.str||(de=ce.contentsObj)!=null&&de.str||(ke=ce.richText)!=null&&ke.str);super(ae,{isRenderable:_e})}render(){this.container.className="popupAnnotation";const ae=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(ae.length===0)return this.container;const ce=new ue({container:this.container,trigger:Array.from(ae),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),_e=this.page,Ee=B.Util.normalizeRect([this.data.parentRect[0],_e.view[3]-this.data.parentRect[1]+_e.view[1],this.data.parentRect[2],_e.view[3]-this.data.parentRect[3]+_e.view[1]]),de=Ee[0]+this.data.parentRect[2]-this.data.parentRect[0],ke=Ee[1],{pageWidth:Te,pageHeight:$e,pageX:Qe,pageY:Ce}=this.viewport.rawDims;return this.container.style.left=`${100*(de-Qe)/Te}%`,this.container.style.top=`${100*(ke-Ce)/$e}%`,this.container.append(ce.render()),this.container}};dn(Ae,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let K=Ae;class ue{constructor(ae){this.container=ae.container,this.trigger=ae.trigger,this.color=ae.color,this.titleObj=ae.titleObj,this.modificationDate=ae.modificationDate,this.contentsObj=ae.contentsObj,this.richText=ae.richText,this.hideWrapper=ae.hideWrapper||!1,this.pinned=!1}render(){var Te,$e;const ce=document.createElement("div");ce.className="popupWrapper",this.hideElement=this.hideWrapper?ce:this.container,this.hideElement.hidden=!0;const _e=document.createElement("div");_e.className="popup";const Ee=this.color;if(Ee){const Qe=.7*(255-Ee[0])+Ee[0],Ce=.7*(255-Ee[1])+Ee[1],Ie=.7*(255-Ee[2])+Ee[2];_e.style.backgroundColor=B.Util.makeHexColor(Qe|0,Ce|0,Ie|0)}const de=document.createElement("h1");de.dir=this.titleObj.dir,de.textContent=this.titleObj.str,_e.append(de);const ke=R.PDFDateString.toDateObject(this.modificationDate);if(ke){const Qe=document.createElement("span");Qe.className="popupDate",Qe.textContent="{{date}}, {{time}}",Qe.dataset.l10nId="annotation_date_string",Qe.dataset.l10nArgs=JSON.stringify({date:ke.toLocaleDateString(),time:ke.toLocaleTimeString()}),_e.append(Qe)}if((Te=this.richText)!=null&&Te.str&&(!(($e=this.contentsObj)!=null&&$e.str)||this.contentsObj.str===this.richText.str))he.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:_e}),_e.lastChild.className="richText popupContent";else{const Qe=this._formatContents(this.contentsObj);_e.append(Qe)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Qe of this.trigger)Qe.addEventListener("click",this._toggle.bind(this)),Qe.addEventListener("mouseover",this._show.bind(this,!1)),Qe.addEventListener("mouseout",this._hide.bind(this,!1));return _e.addEventListener("click",this._hide.bind(this,!0)),ce.append(_e),ce}_formatContents({str:ae,dir:ce}){const _e=document.createElement("p");_e.className="popupContent",_e.dir=ce;const Ee=ae.split(/(?:\r\n?|\n)/);for(let de=0,ke=Ee.length;de<ke;++de){const Te=Ee[de];_e.append(document.createTextNode(Te)),de<ke-1&&_e.append(document.createElement("br"))}return _e}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ae=!1){ae&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ae=!0){ae&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class q extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0}),this.textContent=ae.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ae=document.createElement("div");ae.className="annotationTextContent",ae.setAttribute("role","comment");for(const ce of this.textContent){const _e=document.createElement("span");_e.textContent=ce,ae.append(_e)}this.container.append(ae)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class pe extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ae=this.data,{width:ce,height:_e}=ve(ae.rect),Ee=this.svgFactory.create(ce,_e,!0),de=this.svgFactory.createElement("svg:line");return de.setAttribute("x1",ae.rect[2]-ae.lineCoordinates[0]),de.setAttribute("y1",ae.rect[3]-ae.lineCoordinates[1]),de.setAttribute("x2",ae.rect[2]-ae.lineCoordinates[2]),de.setAttribute("y2",ae.rect[3]-ae.lineCoordinates[3]),de.setAttribute("stroke-width",ae.borderStyle.width||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),Ee.append(de),this.container.append(Ee),this._createPopup(de,ae),this.container}}class ye extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ae=this.data,{width:ce,height:_e}=ve(ae.rect),Ee=this.svgFactory.create(ce,_e,!0),de=ae.borderStyle.width,ke=this.svgFactory.createElement("svg:rect");return ke.setAttribute("x",de/2),ke.setAttribute("y",de/2),ke.setAttribute("width",ce-de),ke.setAttribute("height",_e-de),ke.setAttribute("stroke-width",de||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ee.append(ke),this.container.append(Ee),this._createPopup(ke,ae),this.container}}class Me extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ae=this.data,{width:ce,height:_e}=ve(ae.rect),Ee=this.svgFactory.create(ce,_e,!0),de=ae.borderStyle.width,ke=this.svgFactory.createElement("svg:ellipse");return ke.setAttribute("cx",ce/2),ke.setAttribute("cy",_e/2),ke.setAttribute("rx",ce/2-de/2),ke.setAttribute("ry",_e/2-de/2),ke.setAttribute("stroke-width",de||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ee.append(ke),this.container.append(Ee),this._createPopup(ke,ae),this.container}}class ze extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ae=this.data,{width:ce,height:_e}=ve(ae.rect),Ee=this.svgFactory.create(ce,_e,!0);let de=[];for(const Te of ae.vertices){const $e=Te.x-ae.rect[0],Qe=ae.rect[3]-Te.y;de.push($e+","+Qe)}de=de.join(" ");const ke=this.svgFactory.createElement(this.svgElementName);return ke.setAttribute("points",de),ke.setAttribute("stroke-width",ae.borderStyle.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ee.append(ke),this.container.append(Ee),this._createPopup(ke,ae),this.container}}class lt extends ze{constructor(ae){super(ae),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xe extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Je extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ae=this.data,{width:ce,height:_e}=ve(ae.rect),Ee=this.svgFactory.create(ce,_e,!0);for(const de of ae.inkLists){let ke=[];for(const $e of de){const Qe=$e.x-ae.rect[0],Ce=ae.rect[3]-$e.y;ke.push(`${Qe},${Ce}`)}ke=ke.join(" ");const Te=this.svgFactory.createElement(this.svgElementName);Te.setAttribute("points",ke),Te.setAttribute("stroke-width",ae.borderStyle.width||1),Te.setAttribute("stroke","transparent"),Te.setAttribute("fill","transparent"),this._createPopup(Te,ae),Ee.append(Te)}return this.container.append(Ee),this.container}}class Ve extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Le extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Ne extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class et extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class tt extends ee{constructor(ae){var _e,Ee,de;const ce=!!(ae.data.hasPopup||(_e=ae.data.titleObj)!=null&&_e.str||(Ee=ae.data.contentsObj)!=null&&Ee.str||(de=ae.data.richText)!=null&&de.str);super(ae,{isRenderable:ce,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class we extends ee{constructor(ae){var Ee;super(ae,{isRenderable:!0});const{filename:ce,content:_e}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(ce,!0),this.content=_e,(Ee=this.linkService.eventBus)==null||Ee.dispatch("fileattachmentannotation",{source:this,filename:ce,content:_e})}render(){var ce,_e;this.container.className="fileAttachmentAnnotation";let ae;return this.data.hasAppearance?ae=document.createElement("div"):(ae=document.createElement("img"),ae.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),ae.className="popupTriggerArea",ae.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((ce=this.data.titleObj)!=null&&ce.str||(_e=this.data.contentsObj)!=null&&_e.str||this.data.richText)&&this._createPopup(ae,this.data),this.container.append(ae),this.container}_download(){var ae;(ae=this.downloadManager)==null||ae.openOrDownloadData(this.container,this.content,this.filename)}}const rt=class rt{static render(ae){var $e,Qe;const{annotations:ce,div:_e,viewport:Ee,accessibilityManager:de}=ae;(0,R.setLayerDimensions)(_e,Ee);const ke={data:null,layer:_e,page:ae.page,viewport:Ee,linkService:ae.linkService,downloadManager:ae.downloadManager,imageResourcesPath:ae.imageResourcesPath||"",renderForms:ae.renderForms!==!1,svgFactory:new R.DOMSVGFactory,annotationStorage:ae.annotationStorage||new O.AnnotationStorage,enableScripting:ae.enableScripting===!0,hasJSActions:ae.hasJSActions,fieldObjects:ae.fieldObjects};let Te=0;for(const Ce of ce){if(Ce.annotationType!==B.AnnotationType.POPUP){const{width:nt,height:at}=ve(Ce.rect);if(nt<=0||at<=0)continue}ke.data=Ce;const Ie=oe.create(ke);if(!Ie.isRenderable)continue;const Re=Ie.render();if(Ce.hidden&&(Re.style.visibility="hidden"),Array.isArray(Re))for(const nt of Re)nt.style.zIndex=Te++,ut($e=rt,Se,Zr).call($e,nt,Ce.id,_e,de);else Re.style.zIndex=Te++,Ie instanceof K?_e.prepend(Re):ut(Qe=rt,Se,Zr).call(Qe,Re,Ce.id,_e,de)}ut(this,Se,Jr).call(this,_e,ae.annotationCanvasMap)}static update(ae){const{annotationCanvasMap:ce,div:_e,viewport:Ee}=ae;(0,R.setLayerDimensions)(_e,{rotation:Ee.rotation}),ut(this,Se,Jr).call(this,_e,ce),_e.hidden=!1}};Se=new WeakSet,Zr=function(ae,ce,_e,Ee){const de=ae.firstChild||ae;de.id=`${R.AnnotationPrefix}${ce}`,_e.append(ae),Ee==null||Ee.moveElementInDOM(_e,ae,de,!1)},Jr=function(ae,ce){if(ce){for(const[_e,Ee]of ce){const de=ae.querySelector(`[data-annotation-id="${_e}"]`);if(!de)continue;const{firstChild:ke}=de;ke?ke.nodeName==="CANVAS"?ke.replaceWith(Ee):ke.before(Ee):de.append(Ee)}ce.clear()}},pt(rt,Se);let le=rt;$.AnnotationLayer=le},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function V(R){return Math.floor(Math.max(0,Math.min(1,R))*255).toString(16).padStart(2,"0")}class B{static CMYK_G([O,re,he,me]){return["G",1-Math.min(1,.3*O+.59*he+.11*re+me)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const re=V(O);return`#${re}${re}${re}`}static RGB_G([O,re,he]){return["G",.3*O+.59*re+.11*he]}static RGB_HTML([O,re,he]){const me=V(O),se=V(re),ne=V(he);return`#${me}${se}${ne}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,re,he,me]){return["RGB",1-Math.min(1,O+me),1-Math.min(1,he+me),1-Math.min(1,re+me)]}static CMYK_HTML(O){const re=this.CMYK_RGB(O).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([O,re,he]){const me=1-O,se=1-re,ne=1-he,ve=Math.min(me,se,ne);return["CMYK",me,se,ne,ve]}}$.ColorConverters=B},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var B=V(19);class R{static setupStorage(re,he,me,se,ne){const ve=se.getValue(he,{value:null});switch(me.name){case"textarea":if(ve.value!==null&&(re.textContent=ve.value),ne==="print")break;re.addEventListener("input",oe=>{se.setValue(he,{value:oe.target.value})});break;case"input":if(me.attributes.type==="radio"||me.attributes.type==="checkbox"){if(ve.value===me.attributes.xfaOn?re.setAttribute("checked",!0):ve.value===me.attributes.xfaOff&&re.removeAttribute("checked"),ne==="print")break;re.addEventListener("change",oe=>{se.setValue(he,{value:oe.target.checked?oe.target.getAttribute("xfaOn"):oe.target.getAttribute("xfaOff")})})}else{if(ve.value!==null&&re.setAttribute("value",ve.value),ne==="print")break;re.addEventListener("input",oe=>{se.setValue(he,{value:oe.target.value})})}break;case"select":if(ve.value!==null)for(const oe of me.children)oe.attributes.value===ve.value&&(oe.attributes.selected=!0);re.addEventListener("input",oe=>{const ee=oe.target.options,te=ee.selectedIndex===-1?"":ee[ee.selectedIndex].value;se.setValue(he,{value:te})});break}}static setAttributes({html:re,element:he,storage:me=null,intent:se,linkService:ne}){const{attributes:ve}=he,oe=re instanceof HTMLAnchorElement;ve.type==="radio"&&(ve.name=`${ve.name}-${se}`);for(const[ee,te]of Object.entries(ve))if(te!=null)switch(ee){case"class":te.length&&re.setAttribute(ee,te.join(" "));break;case"dataId":break;case"id":re.setAttribute("data-element-id",te);break;case"style":Object.assign(re.style,te);break;case"textContent":re.textContent=te;break;default:(!oe||ee!=="href"&&ee!=="newWindow")&&re.setAttribute(ee,te)}oe&&ne.addLinkAttributes(re,ve.href,ve.newWindow),me&&ve.dataId&&this.setupStorage(re,ve.dataId,he,me)}static render(re){var G;const he=re.annotationStorage,me=re.linkService,se=re.xfaHtml,ne=re.intent||"display",ve=document.createElement(se.name);se.attributes&&this.setAttributes({html:ve,element:se,intent:ne,linkService:me});const oe=[[se,-1,ve]],ee=re.div;if(ee.append(ve),re.viewport){const U=`matrix(${re.viewport.transform.join(",")})`;ee.style.transform=U}ne!=="richText"&&ee.setAttribute("class","xfaLayer xfaFont");const te=[];for(;oe.length>0;){const[U,Y,Q]=oe.at(-1);if(Y+1===U.children.length){oe.pop();continue}const W=U.children[++oe.at(-1)[1]];if(W===null)continue;const{name:X}=W;if(X==="#text"){const K=document.createTextNode(W.value);te.push(K),Q.append(K);continue}let H;if((G=W==null?void 0:W.attributes)!=null&&G.xmlns?H=document.createElementNS(W.attributes.xmlns,X):H=document.createElement(X),Q.append(H),W.attributes&&this.setAttributes({html:H,element:W,storage:he,intent:ne,linkService:me}),W.children&&W.children.length>0)oe.push([W,-1,H]);else if(W.value){const K=document.createTextNode(W.value);B.XfaText.shouldBuildText(X)&&te.push(K),H.append(K)}}for(const U of ee.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:te}}static update(re){const he=`matrix(${re.viewport.transform.join(",")})`;re.div.style.transform=he,re.div.hidden=!1}}$.XfaLayer=R},(A,$,V)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var B=V(6),R=V(1),O=V(10);let re=class{constructor(){(0,R.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=re;{let G=function(H){let K=[];const ue=[];for(const q of H){if(q.fn==="save"){K.push({fnId:92,fn:"group",items:[]}),ue.push(K),K=K.at(-1).items;continue}q.fn==="restore"?K=ue.pop():K.push(q)}return K},U=function(H){if(Number.isInteger(H))return H.toString();const K=H.toFixed(10);let ue=K.length-1;if(K[ue]!=="0")return K;do ue--;while(K[ue]==="0");return K.substring(0,K[ue]==="."?ue:ue+1)},Y=function(H){if(H[4]===0&&H[5]===0){if(H[1]===0&&H[2]===0)return H[0]===1&&H[3]===1?"":`scale(${U(H[0])} ${U(H[3])})`;if(H[0]===H[3]&&H[1]===-H[2]){const K=Math.acos(H[0])*180/Math.PI;return`rotate(${U(K)})`}}else if(H[0]===1&&H[1]===0&&H[2]===0&&H[3]===1)return`translate(${U(H[4])} ${U(H[5])})`;return`matrix(${U(H[0])} ${U(H[1])} ${U(H[2])} ${U(H[3])} ${U(H[4])} ${U(H[5])})`};const he={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},me="http://www.w3.org/XML/1998/namespace",se="http://www.w3.org/1999/xlink",ne=["butt","round","square"],ve=["miter","round","bevel"],oe=function(H,K="",ue=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([H],{type:K}));const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let pe=`data:${K};base64,`;for(let ye=0,Me=H.length;ye<Me;ye+=3){const ze=H[ye]&255,lt=H[ye+1]&255,Xe=H[ye+2]&255,Je=ze>>2,Ve=(ze&3)<<4|lt>>4,Le=ye+1<Me?(lt&15)<<2|Xe>>6:64,Ne=ye+2<Me?Xe&63:64;pe+=q[Je]+q[Ve]+q[Le]+q[Ne]}return pe},ee=function(){const H=new Uint8Array([137,80,78,71,13,10,26,10]),K=12,ue=new Int32Array(256);for(let Xe=0;Xe<256;Xe++){let Je=Xe;for(let Ve=0;Ve<8;Ve++)Je&1?Je=3988292384^Je>>1&2147483647:Je=Je>>1&2147483647;ue[Xe]=Je}function q(Xe,Je,Ve){let Le=-1;for(let Ne=Je;Ne<Ve;Ne++){const et=(Le^Xe[Ne])&255,tt=ue[et];Le=Le>>>8^tt}return Le^-1}function pe(Xe,Je,Ve,Le){let Ne=Le;const et=Je.length;Ve[Ne]=et>>24&255,Ve[Ne+1]=et>>16&255,Ve[Ne+2]=et>>8&255,Ve[Ne+3]=et&255,Ne+=4,Ve[Ne]=Xe.charCodeAt(0)&255,Ve[Ne+1]=Xe.charCodeAt(1)&255,Ve[Ne+2]=Xe.charCodeAt(2)&255,Ve[Ne+3]=Xe.charCodeAt(3)&255,Ne+=4,Ve.set(Je,Ne),Ne+=Je.length;const tt=q(Ve,Le+4,Ne);Ve[Ne]=tt>>24&255,Ve[Ne+1]=tt>>16&255,Ve[Ne+2]=tt>>8&255,Ve[Ne+3]=tt&255}function ye(Xe,Je,Ve){let Le=1,Ne=0;for(let et=Je;et<Ve;++et)Le=(Le+(Xe[et]&255))%65521,Ne=(Ne+Le)%65521;return Ne<<16|Le}function Me(Xe){if(!O.isNodeJS)return ze(Xe);try{let Je;parseInt(process.versions.node)>=8?Je=Xe:Je=Buffer.from(Xe);const Ve=require$$5.deflateSync(Je,{level:9});return Ve instanceof Uint8Array?Ve:new Uint8Array(Ve)}catch(Je){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Je)}return ze(Xe)}function ze(Xe){let Je=Xe.length;const Ve=65535,Le=Math.ceil(Je/Ve),Ne=new Uint8Array(2+Je+Le*5+4);let et=0;Ne[et++]=120,Ne[et++]=156;let tt=0;for(;Je>Ve;)Ne[et++]=0,Ne[et++]=255,Ne[et++]=255,Ne[et++]=0,Ne[et++]=0,Ne.set(Xe.subarray(tt,tt+Ve),et),et+=Ve,tt+=Ve,Je-=Ve;Ne[et++]=1,Ne[et++]=Je&255,Ne[et++]=Je>>8&255,Ne[et++]=~Je&65535&255,Ne[et++]=(~Je&65535)>>8&255,Ne.set(Xe.subarray(tt),et),et+=Xe.length-tt;const we=ye(Xe,0,Xe.length);return Ne[et++]=we>>24&255,Ne[et++]=we>>16&255,Ne[et++]=we>>8&255,Ne[et++]=we&255,Ne}function lt(Xe,Je,Ve,Le){const Ne=Xe.width,et=Xe.height;let tt,we,le;const ie=Xe.data;switch(Je){case R.ImageKind.GRAYSCALE_1BPP:we=0,tt=1,le=Ne+7>>3;break;case R.ImageKind.RGB_24BPP:we=2,tt=8,le=Ne*3;break;case R.ImageKind.RGBA_32BPP:we=6,tt=8,le=Ne*4;break;default:throw new Error("invalid format")}const ge=new Uint8Array((1+le)*et);let xe=0,Ae=0;for(let ae=0;ae<et;++ae)ge[xe++]=0,ge.set(ie.subarray(Ae,Ae+le),xe),Ae+=le,xe+=le;if(Je===R.ImageKind.GRAYSCALE_1BPP&&Le){xe=0;for(let ae=0;ae<et;ae++){xe++;for(let ce=0;ce<le;ce++)ge[xe++]^=255}}const Se=new Uint8Array([Ne>>24&255,Ne>>16&255,Ne>>8&255,Ne&255,et>>24&255,et>>16&255,et>>8&255,et&255,tt,we,0,0,0]),je=Me(ge),Ze=H.length+K*3+Se.length+je.length,rt=new Uint8Array(Ze);let Ue=0;return rt.set(H,Ue),Ue+=H.length,pe("IHDR",Se,rt,Ue),Ue+=K+Se.length,pe("IDATA",je,rt,Ue),Ue+=K+je.length,pe("IEND",new Uint8Array(0),rt,Ue),oe(rt,"image/png",Ve)}return function(Je,Ve,Le){const Ne=Je.kind===void 0?R.ImageKind.GRAYSCALE_1BPP:Je.kind;return lt(Je,Ne,Ve,Le)}}();class te{constructor(){this.fontSizeScale=1,this.fontWeight=he.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=he.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(K,ue){this.x=K,this.y=ue}}let Q=0,W=0,X=0;$.SVGGraphics=re=class{constructor(H,K,ue=!1){(0,B.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new B.DOMSVGFactory,this.current=new te,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=H,this.objs=K,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ue,this._operatorIdMapping=[];for(const q in R.OPS)this._operatorIdMapping[R.OPS[q]]=q}getObject(H,K=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):K}save(){this.transformStack.push(this.transformMatrix);const H=this.current;this.extraStack.push(H),this.current=H.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(H){this.save(),this.executeOpTree(H),this.restore()}loadDependencies(H){const K=H.fnArray,ue=H.argsArray;for(let q=0,pe=K.length;q<pe;q++)if(K[q]===R.OPS.dependency)for(const ye of ue[q]){const Me=ye.startsWith("g_")?this.commonObjs:this.objs,ze=new Promise(lt=>{Me.get(ye,lt)});this.current.dependencies.push(ze)}return Promise.all(this.current.dependencies)}transform(H,K,ue,q,pe,ye){const Me=[H,K,ue,q,pe,ye];this.transformMatrix=R.Util.transform(this.transformMatrix,Me),this.tgrp=null}getSVG(H,K){this.viewport=K;const ue=this._initialize(K);return this.loadDependencies(H).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(H)),ue))}convertOpList(H){const K=this._operatorIdMapping,ue=H.argsArray,q=H.fnArray,pe=[];for(let ye=0,Me=q.length;ye<Me;ye++){const ze=q[ye];pe.push({fnId:ze,fn:K[ze],args:ue[ye]})}return G(pe)}executeOpTree(H){for(const K of H){const ue=K.fn,q=K.fnId,pe=K.args;switch(q|0){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(pe);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(pe[0],pe[1]);break;case R.OPS.setFont:this.setFont(pe);break;case R.OPS.showText:this.showText(pe[0]);break;case R.OPS.showSpacedText:this.showText(pe[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(pe[0],pe[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(pe[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(pe[0]);break;case R.OPS.setHScale:this.setHScale(pe[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(pe[0],pe[1],pe[2],pe[3],pe[4],pe[5]);break;case R.OPS.setTextRise:this.setTextRise(pe[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(pe[0]);break;case R.OPS.setLineWidth:this.setLineWidth(pe[0]);break;case R.OPS.setLineJoin:this.setLineJoin(pe[0]);break;case R.OPS.setLineCap:this.setLineCap(pe[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(pe[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(pe[0],pe[1],pe[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(pe[0],pe[1],pe[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(pe);break;case R.OPS.setFillColorN:this.setFillColorN(pe);break;case R.OPS.shadingFill:this.shadingFill(pe[0]);break;case R.OPS.setDash:this.setDash(pe[0],pe[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(pe[0]);break;case R.OPS.setFlatness:this.setFlatness(pe[0]);break;case R.OPS.setGState:this.setGState(pe[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(pe[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(pe[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(pe[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(pe[0],pe[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(pe[0],pe[1],pe[2],pe[3],pe[4],pe[5]);break;case R.OPS.constructPath:this.constructPath(pe[0],pe[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(K.items);break;default:(0,R.warn)(`Unimplemented operator ${ue}`);break}}}setWordSpacing(H){this.current.wordSpacing=H}setCharSpacing(H){this.current.charSpacing=H}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(H,K,ue,q,pe,ye){const Me=this.current;Me.textMatrix=Me.lineMatrix=[H,K,ue,q,pe,ye],Me.textMatrixScale=Math.hypot(H,K),Me.x=Me.lineX=0,Me.y=Me.lineY=0,Me.xcoords=[],Me.ycoords=[],Me.tspan=this.svgFactory.createElement("svg:tspan"),Me.tspan.setAttributeNS(null,"font-family",Me.fontFamily),Me.tspan.setAttributeNS(null,"font-size",`${U(Me.fontSize)}px`),Me.tspan.setAttributeNS(null,"y",U(-Me.y)),Me.txtElement=this.svgFactory.createElement("svg:text"),Me.txtElement.append(Me.tspan)}beginText(){const H=this.current;H.x=H.lineX=0,H.y=H.lineY=0,H.textMatrix=R.IDENTITY_MATRIX,H.lineMatrix=R.IDENTITY_MATRIX,H.textMatrixScale=1,H.tspan=this.svgFactory.createElement("svg:tspan"),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtgrp=this.svgFactory.createElement("svg:g"),H.xcoords=[],H.ycoords=[]}moveText(H,K){const ue=this.current;ue.x=ue.lineX+=H,ue.y=ue.lineY+=K,ue.xcoords=[],ue.ycoords=[],ue.tspan=this.svgFactory.createElement("svg:tspan"),ue.tspan.setAttributeNS(null,"font-family",ue.fontFamily),ue.tspan.setAttributeNS(null,"font-size",`${U(ue.fontSize)}px`),ue.tspan.setAttributeNS(null,"y",U(-ue.y))}showText(H){const K=this.current,ue=K.font,q=K.fontSize;if(q===0)return;const pe=K.fontSizeScale,ye=K.charSpacing,Me=K.wordSpacing,ze=K.fontDirection,lt=K.textHScale*ze,Xe=ue.vertical,Je=Xe?1:-1,Ve=ue.defaultVMetrics,Le=q*K.fontMatrix[0];let Ne=0;for(const we of H){if(we===null){Ne+=ze*Me;continue}else if(typeof we=="number"){Ne+=Je*we*q/1e3;continue}const le=(we.isSpace?Me:0)+ye,ie=we.fontChar;let ge,xe,Ae=we.width;if(Xe){let je;const Ze=we.vmetric||Ve;je=we.vmetric?Ze[1]:Ae*.5,je=-je*Le;const rt=Ze[2]*Le;Ae=Ze?-Ze[0]:Ae,ge=je/pe,xe=(Ne+rt)/pe}else ge=Ne/pe,xe=0;(we.isInFont||ue.missingFile)&&(K.xcoords.push(K.x+ge),Xe&&K.ycoords.push(-K.y+xe),K.tspan.textContent+=ie);let Se;Xe?Se=Ae*Le-le*ze:Se=Ae*Le+le*ze,Ne+=Se}K.tspan.setAttributeNS(null,"x",K.xcoords.map(U).join(" ")),Xe?K.tspan.setAttributeNS(null,"y",K.ycoords.map(U).join(" ")):K.tspan.setAttributeNS(null,"y",U(-K.y)),Xe?K.y-=Ne:K.x+=Ne*lt,K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${U(K.fontSize)}px`),K.fontStyle!==he.fontStyle&&K.tspan.setAttributeNS(null,"font-style",K.fontStyle),K.fontWeight!==he.fontWeight&&K.tspan.setAttributeNS(null,"font-weight",K.fontWeight);const et=K.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(et===R.TextRenderingMode.FILL||et===R.TextRenderingMode.FILL_STROKE?(K.fillColor!==he.fillColor&&K.tspan.setAttributeNS(null,"fill",K.fillColor),K.fillAlpha<1&&K.tspan.setAttributeNS(null,"fill-opacity",K.fillAlpha)):K.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?K.tspan.setAttributeNS(null,"fill","transparent"):K.tspan.setAttributeNS(null,"fill","none"),et===R.TextRenderingMode.STROKE||et===R.TextRenderingMode.FILL_STROKE){const we=1/(K.textMatrixScale||1);this._setStrokeAttributes(K.tspan,we)}let tt=K.textMatrix;K.textRise!==0&&(tt=tt.slice(),tt[5]+=K.textRise),K.txtElement.setAttributeNS(null,"transform",`${Y(tt)} scale(${U(lt)}, -1)`),K.txtElement.setAttributeNS(me,"xml:space","preserve"),K.txtElement.append(K.tspan),K.txtgrp.append(K.txtElement),this._ensureTransformGroup().append(K.txtElement)}setLeadingMoveText(H,K){this.setLeading(-K),this.moveText(H,K)}addFontStyle(H){if(!H.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const K=oe(H.data,H.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${H.loadedName}"; src: url(${K}); }
`}setFont(H){const K=this.current,ue=this.commonObjs.get(H[0]);let q=H[1];K.font=ue,this.embedFonts&&!ue.missingFile&&!this.embeddedFonts[ue.loadedName]&&(this.addFontStyle(ue),this.embeddedFonts[ue.loadedName]=ue),K.fontMatrix=ue.fontMatrix||R.FONT_IDENTITY_MATRIX;let pe="normal";ue.black?pe="900":ue.bold&&(pe="bold");const ye=ue.italic?"italic":"normal";q<0?(q=-q,K.fontDirection=-1):K.fontDirection=1,K.fontSize=q,K.fontFamily=ue.loadedName,K.fontWeight=pe,K.fontStyle=ye,K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"y",U(-K.y)),K.xcoords=[],K.ycoords=[]}endText(){var K;const H=this.current;H.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&((K=H.txtElement)!=null&&K.hasChildNodes())&&(H.element=H.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(H){H>0&&(this.current.lineWidth=H)}setLineCap(H){this.current.lineCap=ne[H]}setLineJoin(H){this.current.lineJoin=ve[H]}setMiterLimit(H){this.current.miterLimit=H}setStrokeAlpha(H){this.current.strokeAlpha=H}setStrokeRGBColor(H,K,ue){this.current.strokeColor=R.Util.makeHexColor(H,K,ue)}setFillAlpha(H){this.current.fillAlpha=H}setFillRGBColor(H,K,ue){this.current.fillColor=R.Util.makeHexColor(H,K,ue),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(H){this.current.strokeColor=this._makeColorN_Pattern(H)}setFillColorN(H){this.current.fillColor=this._makeColorN_Pattern(H)}shadingFill(H){const K=this.viewport.width,ue=this.viewport.height,q=R.Util.inverseTransform(this.transformMatrix),pe=R.Util.applyTransform([0,0],q),ye=R.Util.applyTransform([0,ue],q),Me=R.Util.applyTransform([K,0],q),ze=R.Util.applyTransform([K,ue],q),lt=Math.min(pe[0],ye[0],Me[0],ze[0]),Xe=Math.min(pe[1],ye[1],Me[1],ze[1]),Je=Math.max(pe[0],ye[0],Me[0],ze[0]),Ve=Math.max(pe[1],ye[1],Me[1],ze[1]),Le=this.svgFactory.createElement("svg:rect");Le.setAttributeNS(null,"x",lt),Le.setAttributeNS(null,"y",Xe),Le.setAttributeNS(null,"width",Je-lt),Le.setAttributeNS(null,"height",Ve-Xe),Le.setAttributeNS(null,"fill",this._makeShadingPattern(H)),this.current.fillAlpha<1&&Le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Le)}_makeColorN_Pattern(H){return H[0]==="TilingPattern"?this._makeTilingPattern(H):this._makeShadingPattern(H)}_makeTilingPattern(H){const K=H[1],ue=H[2],q=H[3]||R.IDENTITY_MATRIX,[pe,ye,Me,ze]=H[4],lt=H[5],Xe=H[6],Je=H[7],Ve=`shading${X++}`,[Le,Ne,et,tt]=R.Util.normalizeRect([...R.Util.applyTransform([pe,ye],q),...R.Util.applyTransform([Me,ze],q)]),[we,le]=R.Util.singularValueDecompose2dScale(q),ie=lt*we,ge=Xe*le,xe=this.svgFactory.createElement("svg:pattern");xe.setAttributeNS(null,"id",Ve),xe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xe.setAttributeNS(null,"width",ie),xe.setAttributeNS(null,"height",ge),xe.setAttributeNS(null,"x",`${Le}`),xe.setAttributeNS(null,"y",`${Ne}`);const Ae=this.svg,Se=this.transformMatrix,je=this.current.fillColor,Ze=this.current.strokeColor,rt=this.svgFactory.create(et-Le,tt-Ne);if(this.svg=rt,this.transformMatrix=q,Je===2){const Ue=R.Util.makeHexColor(...K);this.current.fillColor=Ue,this.current.strokeColor=Ue}return this.executeOpTree(this.convertOpList(ue)),this.svg=Ae,this.transformMatrix=Se,this.current.fillColor=je,this.current.strokeColor=Ze,xe.append(rt.childNodes[0]),this.defs.append(xe),`url(#${Ve})`}_makeShadingPattern(H){switch(typeof H=="string"&&(H=this.objs.get(H)),H[0]){case"RadialAxial":const K=`shading${X++}`,ue=H[3];let q;switch(H[1]){case"axial":const pe=H[4],ye=H[5];q=this.svgFactory.createElement("svg:linearGradient"),q.setAttributeNS(null,"id",K),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"x1",pe[0]),q.setAttributeNS(null,"y1",pe[1]),q.setAttributeNS(null,"x2",ye[0]),q.setAttributeNS(null,"y2",ye[1]);break;case"radial":const Me=H[4],ze=H[5],lt=H[6],Xe=H[7];q=this.svgFactory.createElement("svg:radialGradient"),q.setAttributeNS(null,"id",K),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"cx",ze[0]),q.setAttributeNS(null,"cy",ze[1]),q.setAttributeNS(null,"r",Xe),q.setAttributeNS(null,"fx",Me[0]),q.setAttributeNS(null,"fy",Me[1]),q.setAttributeNS(null,"fr",lt);break;default:throw new Error(`Unknown RadialAxial type: ${H[1]}`)}for(const pe of ue){const ye=this.svgFactory.createElement("svg:stop");ye.setAttributeNS(null,"offset",pe[0]),ye.setAttributeNS(null,"stop-color",pe[1]),q.append(ye)}return this.defs.append(q),`url(#${K})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${H[0]}`)}}setDash(H,K){this.current.dashArray=H,this.current.dashPhase=K}constructPath(H,K){const ue=this.current;let q=ue.x,pe=ue.y,ye=[],Me=0;for(const ze of H)switch(ze|0){case R.OPS.rectangle:q=K[Me++],pe=K[Me++];const lt=K[Me++],Xe=K[Me++],Je=q+lt,Ve=pe+Xe;ye.push("M",U(q),U(pe),"L",U(Je),U(pe),"L",U(Je),U(Ve),"L",U(q),U(Ve),"Z");break;case R.OPS.moveTo:q=K[Me++],pe=K[Me++],ye.push("M",U(q),U(pe));break;case R.OPS.lineTo:q=K[Me++],pe=K[Me++],ye.push("L",U(q),U(pe));break;case R.OPS.curveTo:q=K[Me+4],pe=K[Me+5],ye.push("C",U(K[Me]),U(K[Me+1]),U(K[Me+2]),U(K[Me+3]),U(q),U(pe)),Me+=6;break;case R.OPS.curveTo2:ye.push("C",U(q),U(pe),U(K[Me]),U(K[Me+1]),U(K[Me+2]),U(K[Me+3])),q=K[Me+2],pe=K[Me+3],Me+=4;break;case R.OPS.curveTo3:q=K[Me+2],pe=K[Me+3],ye.push("C",U(K[Me]),U(K[Me+1]),U(q),U(pe),U(q),U(pe)),Me+=4;break;case R.OPS.closePath:ye.push("Z");break}ye=ye.join(" "),ue.path&&H.length>0&&H[0]!==R.OPS.rectangle&&H[0]!==R.OPS.moveTo?ye=ue.path.getAttributeNS(null,"d")+ye:(ue.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ue.path)),ue.path.setAttributeNS(null,"d",ye),ue.path.setAttributeNS(null,"fill","none"),ue.element=ue.path,ue.setCurrentPoint(q,pe)}endPath(){const H=this.current;if(H.path=null,!this.pendingClip)return;if(!H.element){this.pendingClip=null;return}const K=`clippath${Q++}`,ue=this.svgFactory.createElement("svg:clipPath");ue.setAttributeNS(null,"id",K),ue.setAttributeNS(null,"transform",Y(this.transformMatrix));const q=H.element.cloneNode(!0);if(this.pendingClip==="evenodd"?q.setAttributeNS(null,"clip-rule","evenodd"):q.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ue.append(q),this.defs.append(ue),H.activeClipUrl){H.clipGroup=null;for(const pe of this.extraStack)pe.clipGroup=null;ue.setAttributeNS(null,"clip-path",H.activeClipUrl)}H.activeClipUrl=`url(#${K})`,this.tgrp=null}clip(H){this.pendingClip=H}closePath(){const H=this.current;if(H.path){const K=`${H.path.getAttributeNS(null,"d")}Z`;H.path.setAttributeNS(null,"d",K)}}setLeading(H){this.current.leading=-H}setTextRise(H){this.current.textRise=H}setTextRenderingMode(H){this.current.textRenderingMode=H}setHScale(H){this.current.textHScale=H/100}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(const[K,ue]of H)switch(K){case"LW":this.setLineWidth(ue);break;case"LC":this.setLineCap(ue);break;case"LJ":this.setLineJoin(ue);break;case"ML":this.setMiterLimit(ue);break;case"D":this.setDash(ue[0],ue[1]);break;case"RI":this.setRenderingIntent(ue);break;case"FL":this.setFlatness(ue);break;case"Font":this.setFont(ue);break;case"CA":this.setStrokeAlpha(ue);break;case"ca":this.setFillAlpha(ue);break;default:(0,R.warn)(`Unimplemented graphic state operator ${K}`);break}}fill(){const H=this.current;H.element&&(H.element.setAttributeNS(null,"fill",H.fillColor),H.element.setAttributeNS(null,"fill-opacity",H.fillAlpha),this.endPath())}stroke(){const H=this.current;H.element&&(this._setStrokeAttributes(H.element),H.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(H,K=1){const ue=this.current;let q=ue.dashArray;K!==1&&q.length>0&&(q=q.map(function(pe){return K*pe})),H.setAttributeNS(null,"stroke",ue.strokeColor),H.setAttributeNS(null,"stroke-opacity",ue.strokeAlpha),H.setAttributeNS(null,"stroke-miterlimit",U(ue.miterLimit)),H.setAttributeNS(null,"stroke-linecap",ue.lineCap),H.setAttributeNS(null,"stroke-linejoin",ue.lineJoin),H.setAttributeNS(null,"stroke-width",U(K*ue.lineWidth)+"px"),H.setAttributeNS(null,"stroke-dasharray",q.map(U).join(" ")),H.setAttributeNS(null,"stroke-dashoffset",U(K*ue.dashPhase)+"px")}eoFill(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width","1px"),H.setAttributeNS(null,"height","1px"),H.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(H)}paintImageXObject(H){const K=this.getObject(H);if(!K){(0,R.warn)(`Dependent image with object ID ${H} is not ready yet`);return}this.paintInlineImageXObject(K)}paintInlineImageXObject(H,K){const ue=H.width,q=H.height,pe=ee(H,this.forceDataSchema,!!K),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width",U(ue)),ye.setAttributeNS(null,"height",U(q)),this.current.element=ye,this.clip("nonzero");const Me=this.svgFactory.createElement("svg:image");Me.setAttributeNS(se,"xlink:href",pe),Me.setAttributeNS(null,"x","0"),Me.setAttributeNS(null,"y",U(-q)),Me.setAttributeNS(null,"width",U(ue)+"px"),Me.setAttributeNS(null,"height",U(q)+"px"),Me.setAttributeNS(null,"transform",`scale(${U(1/ue)} ${U(-1/q)})`),K?K.append(Me):this._ensureTransformGroup().append(Me)}paintImageMaskXObject(H){const K=this.getObject(H.data,H);if(K.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ue=this.current,q=K.width,pe=K.height,ye=ue.fillColor;ue.maskId=`mask${W++}`;const Me=this.svgFactory.createElement("svg:mask");Me.setAttributeNS(null,"id",ue.maskId);const ze=this.svgFactory.createElement("svg:rect");ze.setAttributeNS(null,"x","0"),ze.setAttributeNS(null,"y","0"),ze.setAttributeNS(null,"width",U(q)),ze.setAttributeNS(null,"height",U(pe)),ze.setAttributeNS(null,"fill",ye),ze.setAttributeNS(null,"mask",`url(#${ue.maskId})`),this.defs.append(Me),this._ensureTransformGroup().append(ze),this.paintInlineImageXObject(K,Me)}paintFormXObjectBegin(H,K){if(Array.isArray(H)&&H.length===6&&this.transform(H[0],H[1],H[2],H[3],H[4],H[5]),K){const ue=K[2]-K[0],q=K[3]-K[1],pe=this.svgFactory.createElement("svg:rect");pe.setAttributeNS(null,"x",K[0]),pe.setAttributeNS(null,"y",K[1]),pe.setAttributeNS(null,"width",U(ue)),pe.setAttributeNS(null,"height",U(q)),this.current.element=pe,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(H){const K=this.svgFactory.create(H.width,H.height),ue=this.svgFactory.createElement("svg:defs");K.append(ue),this.defs=ue;const q=this.svgFactory.createElement("svg:g");return q.setAttributeNS(null,"transform",Y(H.transform)),K.append(q),this.svg=q,K}_ensureClipGroup(){if(!this.current.clipGroup){const H=this.svgFactory.createElement("svg:g");H.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(H),this.current.clipGroup=H}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var V=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return O.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return me.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return B.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return B.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return B.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return se.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ne.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return B.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return B.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return B.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return B.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return B.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return B.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return B.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return V.version}});var $=__w_pdfjs_require__(1),V=__w_pdfjs_require__(2),B=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),O=__w_pdfjs_require__(27),re=__w_pdfjs_require__(5),he=__w_pdfjs_require__(32),me=__w_pdfjs_require__(14),se=__w_pdfjs_require__(35),ne=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,V=pdfExports;function B(J){var fe=Object.create(null);return J&&Object.keys(J).forEach(function(Pe){if(Pe!=="default"){var Fe=Object.getOwnPropertyDescriptor(J,Pe);Object.defineProperty(fe,Pe,Fe.get?Fe:{enumerable:!0,get:function(){return J[Pe]}})}}),fe.default=J,Object.freeze(fe)}var R,O=B($),re=B(V);A.AnnotationType=void 0,(R=A.AnnotationType||(A.AnnotationType={}))[R.Text=1]="Text",R[R.Link=2]="Link",R[R.FreeText=3]="FreeText",R[R.Line=4]="Line",R[R.Square=5]="Square",R[R.Circle=6]="Circle",R[R.Polygon=7]="Polygon",R[R.Polyline=8]="Polyline",R[R.Highlight=9]="Highlight",R[R.Underline=10]="Underline",R[R.Squiggly=11]="Squiggly",R[R.StrikeOut=12]="StrikeOut",R[R.Stamp=13]="Stamp",R[R.Caret=14]="Caret",R[R.Ink=15]="Ink",R[R.Popup=16]="Popup",R[R.FileAttachment=17]="FileAttachment";var he=function(J,fe){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pe,Fe){Pe.__proto__=Fe}||function(Pe,Fe){for(var De in Fe)Object.prototype.hasOwnProperty.call(Fe,De)&&(Pe[De]=Fe[De])},he(J,fe)};function me(J,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Pe(){this.constructor=J}he(J,fe),J.prototype=fe===null?Object.create(fe):(Pe.prototype=fe.prototype,new Pe)}var se,ne=function(){return ne=Object.assign||function(J){for(var fe,Pe=1,Fe=arguments.length;Pe<Fe;Pe++)for(var De in fe=arguments[Pe])Object.prototype.hasOwnProperty.call(fe,De)&&(J[De]=fe[De]);return J},ne.apply(this,arguments)};A.TextDirection=void 0,(se=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",se.LeftToRight="LTR";var ve,oe=O.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ee=function(J){var fe=[];return Object.keys(J).forEach(function(Pe){Pe&&J[Pe]&&fe.push(Pe)}),fe.join(" ")},te=typeof window<"u"?O.useLayoutEffect:O.useEffect,G=function(J){var fe=O.useRef(null),Pe=J.once,Fe=J.threshold,De=J.onVisibilityChanged;return te(function(){var Be=fe.current;if(Be){var Ye=new IntersectionObserver(function(He){He.forEach(function(Oe){var Ge=Oe.isIntersecting,qe=Oe.intersectionRatio;De({isVisible:Ge,ratio:qe}),Ge&&Pe&&(Ye.unobserve(Be),Ye.disconnect())})},{threshold:Fe||0});return Ye.observe(Be),function(){Ye.unobserve(Be),Ye.disconnect()}}},[]),fe},U=function(J){var fe=J.children,Pe=J.ignoreDirection,Fe=Pe!==void 0&&Pe,De=J.size,Be=De===void 0?24:De,Ye=O.useContext(oe).direction,He=!Fe&&Ye===A.TextDirection.RightToLeft,Oe="".concat(Be||24,"px");return O.createElement("svg",{"aria-hidden":"true",className:ee({"rpv-core__icon":!0,"rpv-core__icon--rtl":He}),focusable:"false",height:Oe,viewBox:"0 0 24 24",width:Oe},fe)},Y=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Q=function(J){var fe=J.children,Pe=J.testId,Fe=J.onClick,De=O.useContext(oe).direction===A.TextDirection.RightToLeft,Be=Pe?{"data-testid":Pe}:{};return O.createElement("button",ne({className:ee({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":De}),type:"button",onClick:Fe},Be),fe)},W=function(J){var fe=J.size,Pe=fe===void 0?"4rem":fe,Fe=J.testId,De=O.useState(!1),Be=De[0],Ye=De[1],He=Fe?{"data-testid":Fe}:{},Oe=G({onVisibilityChanged:function(Ge){Ye(Ge.isVisible)}});return O.createElement("div",ne({},He,{className:ee({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Be}),ref:Oe,style:{height:Pe,width:Pe}}))},X=function(J){var fe=J.ariaLabel,Pe=fe===void 0?"":fe,Fe=J.autoFocus,De=Fe!==void 0&&Fe,Be=J.placeholder,Ye=Be===void 0?"":Be,He=J.testId,Oe=J.type,Ge=Oe===void 0?"text":Oe,qe=J.value,ct=qe===void 0?"":qe,st=J.onChange,it=J.onKeyDown,mt=it===void 0?function(){}:it,ft=O.useContext(oe).direction,ht=O.useRef(),Bt=ft===A.TextDirection.RightToLeft,kt={ref:ht,"data-testid":"","aria-label":Pe,className:ee({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Bt}),placeholder:Ye,value:ct,onChange:function(Pt){return st(Pt.target.value)},onKeyDown:mt};return He&&(kt["data-testid"]=He),te(function(){if(De){var Pt=ht.current;if(Pt){var Rt=window.scrollX,yt=window.scrollY;Pt.focus(),window.scrollTo(Rt,yt)}}},[]),Ge==="text"?O.createElement("input",ne({type:"text"},kt)):O.createElement("input",ne({type:"password"},kt))};(function(J){J[J.ExitFullScreen=0]="ExitFullScreen",J[J.FullScreenChange=1]="FullScreenChange",J[J.FullScreenElement=2]="FullScreenElement",J[J.FullScreenEnabled=3]="FullScreenEnabled",J[J.RequestFullScreen=4]="RequestFullScreen"})(ve||(ve={}));var H,K={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ue={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},q={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},pe=typeof window<"u",ye=pe&&(ve.FullScreenEnabled in document&&K||ue.FullScreenEnabled in document&&ue||q.FullScreenEnabled in document&&q)||K,Me=function(){return pe&&ye.FullScreenEnabled in document&&document[ye.FullScreenEnabled]===!0},ze=function(J){return pe?J[ye.ExitFullScreen]():Promise.resolve({})},lt=function(){return pe?document[ye.FullScreenElement]:null},Xe=function(J,fe){var Pe=O.useRef(),Fe=function(){Pe.current&&clearTimeout(Pe.current)};return O.useEffect(function(){return function(){return Fe()}},[]),O.useCallback(function(){for(var De=[],Be=0;Be<arguments.length;Be++)De[Be]=arguments[Be];Fe(),Pe.current=setTimeout(function(){J.apply(void 0,De)},fe)},[J,fe])},Je=function(){var J=O.useRef(!1);return O.useEffect(function(){return J.current=!0,function(){J.current=!1}},[]),J},Ve=function(J){var fe=O.useRef(J);return O.useEffect(function(){fe.current=J},[J]),fe.current};(function(J){J.NotRenderedYet="NotRenderedYet",J.Rendering="Rendering",J.Rendered="Rendered"})(H||(H={}));var Le,Ne=-9999,et=function(J){var fe=J.doc,Pe=fe.numPages,Fe=fe.loadingTask.docId,De=O.useMemo(function(){return Array(Pe).fill(null).map(function(He,Oe){return{pageIndex:Oe,renderStatus:H.NotRenderedYet,visibility:Ne}})},[Fe]),Be=O.useRef({currentRenderingPage:-1,startRange:0,endRange:Pe-1,visibilities:De}),Ye=function(He,Oe){Be.current.visibilities[He].visibility=Oe};return{getHighestPriorityPage:function(){var He=Be.current.visibilities.slice(Be.current.startRange,Be.current.endRange+1).filter(function(st){return st.visibility>Ne});if(!He.length)return-1;for(var Oe=He[0].pageIndex,Ge=He[He.length-1].pageIndex,qe=He.length,ct=0;ct<qe;ct++){if(He[ct].renderStatus===H.Rendering)return-1;if(He[ct].renderStatus===H.NotRenderedYet)return He[ct].pageIndex}return Ge+1<Pe&&Be.current.visibilities[Ge+1].renderStatus!==H.Rendered?Ge+1:Oe-1>=0&&Be.current.visibilities[Oe-1].renderStatus!==H.Rendered?Oe-1:-1},isInRange:function(He){return He>=Be.current.startRange&&He<=Be.current.endRange},markNotRendered:function(){for(var He=0;He<Pe;He++)Be.current.visibilities[He].renderStatus=H.NotRenderedYet},markRendered:function(He){Be.current.visibilities[He].renderStatus=H.Rendered},markRendering:function(He){Be.current.currentRenderingPage!==-1&&Be.current.currentRenderingPage!==He&&Be.current.visibilities[Be.current.currentRenderingPage].renderStatus===H.Rendering&&(Be.current.visibilities[Be.current.currentRenderingPage].renderStatus=H.NotRenderedYet),Be.current.visibilities[He].renderStatus=H.Rendering,Be.current.currentRenderingPage=He},setOutOfRange:function(He){Ye(He,Ne)},setRange:function(He,Oe){Be.current.startRange=He,Be.current.endRange=Oe;for(var Ge=0;Ge<Pe;Ge++)(Ge<He||Ge>Oe)&&(Be.current.visibilities[Ge].visibility=Ne,Be.current.visibilities[Ge].renderStatus=H.NotRenderedYet)},setVisibility:Ye}},tt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},we=O.createContext({l10n:tt,setL10n:function(){}}),le=0,ie=function(){return le++},ge=function(J,fe,Pe){var Fe=function(De){var Be=fe.current;if(Be){var Ye=De.target;if(Ye instanceof Element&&Ye.shadowRoot){var He=De.composedPath();He.length>0&&!Be.contains(He[0])&&Pe()}else Be.contains(Ye)||Pe()}};O.useEffect(function(){if(J){var De={capture:!0};return document.addEventListener("click",Fe,De),function(){document.removeEventListener("click",Fe,De)}}},[])},xe=function(J){var fe=function(Pe){Pe.key==="Escape"&&J()};O.useEffect(function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}},[])},Ae=function(J){var fe=J.ariaControlsSuffix,Pe=J.children,Fe=J.closeOnClickOutside,De=J.closeOnEscape,Be=J.onToggle,Ye=O.useRef(),He=O.useContext(oe).direction===A.TextDirection.RightToLeft;return O.useEffect(function(){var Oe=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Oe}},[]),xe(function(){Ye.current&&De&&Be()}),ge(Fe,Ye,Be),te(function(){var Oe=Ye.current;if(Oe){var Ge=.75*document.body.clientHeight;Oe.getBoundingClientRect().height>=Ge&&(Oe.style.overflow="auto",Oe.style.maxHeight="".concat(Ge,"px"))}},[]),O.createElement("div",{"aria-modal":"true",className:ee({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":He}),id:"rpv-core__modal-body-".concat(fe),ref:Ye,role:"dialog",tabIndex:-1},Pe)},Se=function(J){var fe=J.children;return O.createElement("div",{className:"rpv-core__modal-overlay"},fe)};A.ToggleStatus=void 0,(Le=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Le.Open="Open",Le.Toggle="Toggle";var je,Ze=function(J){var fe=O.useState(J),Pe=fe[0],Fe=fe[1];return{opened:Pe,toggle:function(De){switch(De){case A.ToggleStatus.Close:Fe(!1);break;case A.ToggleStatus.Open:Fe(!0);break;case A.ToggleStatus.Toggle:default:Fe(function(Be){return!Be})}}}},rt=function(J){var fe=J.content,Pe=J.isOpened,Fe=Pe!==void 0&&Pe,De=J.target,Be=Ze(Fe),Ye=Be.opened,He=Be.toggle;return O.createElement(O.Fragment,null,De&&De(He,Ye),Ye&&fe(He))};A.Position=void 0,(je=A.Position||(A.Position={})).TopLeft="TOP_LEFT",je.TopCenter="TOP_CENTER",je.TopRight="TOP_RIGHT",je.RightTop="RIGHT_TOP",je.RightCenter="RIGHT_CENTER",je.RightBottom="RIGHT_BOTTOM",je.BottomLeft="BOTTOM_LEFT",je.BottomCenter="BOTTOM_CENTER",je.BottomRight="BOTTOM_RIGHT",je.LeftTop="LEFT_TOP",je.LeftCenter="LEFT_CENTER",je.LeftBottom="LEFT_BOTTOM";var Ue,ae,ce,_e,Ee,de,ke,Te,$e=function(J,fe,Pe,Fe,De){te(function(){var Be=fe.current,Ye=J.current,He=Pe.current;if(Ye&&Be&&He){var Oe=He.getBoundingClientRect(),Ge=function(st,it,mt,ft){var ht=it.getBoundingClientRect(),Bt=st.getBoundingClientRect(),kt=Bt.height,Pt=Bt.width,Rt=0,yt=0;switch(mt){case A.Position.TopLeft:Rt=ht.top-kt,yt=ht.left;break;case A.Position.TopCenter:Rt=ht.top-kt,yt=ht.left+ht.width/2-Pt/2;break;case A.Position.TopRight:Rt=ht.top-kt,yt=ht.left+ht.width-Pt;break;case A.Position.RightTop:Rt=ht.top,yt=ht.left+ht.width;break;case A.Position.RightCenter:Rt=ht.top+ht.height/2-kt/2,yt=ht.left+ht.width;break;case A.Position.RightBottom:Rt=ht.top+ht.height-kt,yt=ht.left+ht.width;break;case A.Position.BottomLeft:Rt=ht.top+ht.height,yt=ht.left;break;case A.Position.BottomCenter:Rt=ht.top+ht.height,yt=ht.left+ht.width/2-Pt/2;break;case A.Position.BottomRight:Rt=ht.top+ht.height,yt=ht.left+ht.width-Pt;break;case A.Position.LeftTop:Rt=ht.top,yt=ht.left-Pt;break;case A.Position.LeftCenter:Rt=ht.top+ht.height/2-kt/2,yt=ht.left-Pt;break;case A.Position.LeftBottom:Rt=ht.top+ht.height-kt,yt=ht.left-Pt}return{left:yt+(ft.left||0),top:Rt+(ft.top||0)}}(Ye,Be,Fe,De),qe=Ge.top,ct=Ge.left;Ye.style.top="".concat(qe-Oe.top,"px"),Ye.style.left="".concat(ct-Oe.left,"px")}},[])},Qe=function(J){var fe,Pe=J.customClassName,Fe=J.position;return O.createElement("div",{className:ee((fe={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Fe===A.Position.TopLeft,"rpv-core__arrow--tc":Fe===A.Position.TopCenter,"rpv-core__arrow--tr":Fe===A.Position.TopRight,"rpv-core__arrow--rt":Fe===A.Position.RightTop,"rpv-core__arrow--rc":Fe===A.Position.RightCenter,"rpv-core__arrow--rb":Fe===A.Position.RightBottom,"rpv-core__arrow--bl":Fe===A.Position.BottomLeft,"rpv-core__arrow--bc":Fe===A.Position.BottomCenter,"rpv-core__arrow--br":Fe===A.Position.BottomRight,"rpv-core__arrow--lt":Fe===A.Position.LeftTop,"rpv-core__arrow--lc":Fe===A.Position.LeftCenter,"rpv-core__arrow--lb":Fe===A.Position.LeftBottom},fe["".concat(Pe)]=Pe!=="",fe))})},Ce=function(J){var fe=J.ariaControlsSuffix,Pe=J.children,Fe=J.closeOnClickOutside,De=J.offset,Be=J.position,Ye=J.targetRef,He=J.onClose,Oe=O.useRef(),Ge=O.useRef(),qe=O.useRef(),ct=O.useContext(oe).direction===A.TextDirection.RightToLeft;ge(Fe,Oe,He),$e(Oe,Ye,qe,Be,De),te(function(){var it=Ge.current;if(it){var mt=.75*document.body.clientHeight;it.getBoundingClientRect().height>=mt&&(it.style.overflow="auto",it.style.maxHeight="".concat(mt,"px"))}},[]);var st="rpv-core__popover-body-inner-".concat(fe);return O.createElement(O.Fragment,null,O.createElement("div",{ref:qe,style:{left:0,position:"absolute",top:0}}),O.createElement("div",{"aria-describedby":st,className:ee({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ct}),id:"rpv-core__popover-body-".concat(fe),ref:Oe,role:"dialog",tabIndex:-1},O.createElement(Qe,{customClassName:"rpv-core__popover-body-arrow",position:Be}),O.createElement("div",{id:st,ref:Ge},Pe)))},Ie=function(J){var fe=J.closeOnEscape,Pe=J.onClose,Fe=O.useRef();return xe(function(){Fe.current&&fe&&Pe()}),O.createElement("div",{className:"rpv-core__popover-overlay",ref:Fe})},Re=function(J){var fe=J.ariaControlsSuffix,Pe=J.children,Fe=J.contentRef,De=J.offset,Be=J.position,Ye=J.targetRef,He=O.useRef(),Oe=O.useContext(oe).direction===A.TextDirection.RightToLeft;return $e(Fe,Ye,He,Be,De),O.createElement(O.Fragment,null,O.createElement("div",{ref:He,style:{left:0,position:"absolute",top:0}}),O.createElement("div",{className:ee({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Oe}),id:"rpv-core__tooltip-body-".concat(fe),ref:Fe,role:"tooltip"},O.createElement(Qe,{customClassName:"rpv-core__tooltip-body-arrow",position:Be}),O.createElement("div",{className:"rpv-core__tooltip-body-content"},Pe)))};A.FullScreenMode=void 0,(Ue=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Ue.Entering="Entering",Ue.Entered="Entered",Ue.EnteredCompletely="EnteredCompletely",Ue.Exitting="Exitting",Ue.Exited="Exited",A.LayerRenderStatus=void 0,(ae=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ae.PreRender=0]="PreRender",ae[ae.DidRender=1]="DidRender",A.PageMode=void 0,(ce=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",ce.Bookmarks="UseOutlines",ce.ContentGroup="UseOC",ce.Default="UserNone",ce.FullScreen="FullScreen",ce.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(_e=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",_e.WrongPassword="WrongPassword",A.RotateDirection=void 0,(Ee=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",Ee.Forward="Forward",A.ScrollMode=void 0,(de=A.ScrollMode||(A.ScrollMode={})).Page="Page",de.Horizontal="Horizontal",de.Vertical="Vertical",de.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(ke=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",ke.PageFit="PageFit",ke.PageWidth="PageWidth",A.ViewMode=void 0,(Te=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",Te.DualPageWithCover="DualPageWithCover",Te.SinglePage="SinglePage";var nt,at=function(J,fe){return J.reduce(function(Pe,Fe,De){return De%fe?Pe[Pe.length-1].push(Fe):Pe.push([Fe]),Pe},[])},gt=function(J,fe){switch(fe[1].name){case"XYZ":return{bottomOffset:function(Pe,Fe){return fe[3]===null?Fe:fe[3]},leftOffset:function(Pe,Fe){return fe[2]===null?0:fe[2]},pageIndex:J,scaleTo:fe[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:J,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:fe[2],leftOffset:0,pageIndex:J,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:J,scaleTo:1}}},vt=new Map,wt=new Map,Ht=function(J,fe){return"".concat(J.loadingTask.docId,"___").concat(fe.num,"R").concat(fe.gen===0?"":fe.gen)},Zt=function(J,fe,Pe){vt.set(Ht(J,fe),Pe)},ot=function(J,fe){if(!J)return Promise.reject("The document is not loaded yet");var Pe="".concat(J.loadingTask.docId,"___").concat(fe),Fe=wt.get(Pe);return Fe?Promise.resolve(Fe):new Promise(function(De,Be){J.getPage(fe+1).then(function(Ye){wt.set(Pe,Ye),Ye.ref&&Zt(J,Ye.ref,fe),De(Ye)})})},Ke=function(J,fe){return new Promise(function(Pe){new Promise(function(Fe){typeof fe=="string"?J.getDestination(fe).then(function(De){Fe(De)}):Fe(fe)}).then(function(Fe){if(typeof Fe[0]=="object"&&Fe[0]!==null){var De=Fe[0],Be=function(He,Oe){var Ge=Ht(He,Oe);return vt.has(Ge)?vt.get(Ge):null}(J,De);Be===null?J.getPageIndex(De).then(function(He){Zt(J,De,He),Ke(J,fe).then(function(Oe){return Pe(Oe)})}):Pe(gt(Be,Fe))}else{var Ye=gt(Fe[0],Fe);Pe(Ye)}})})};(function(J){J[J.Solid=1]="Solid",J[J.Dashed=2]="Dashed",J[J.Beveled=3]="Beveled",J[J.Inset=4]="Inset",J[J.Underline=5]="Underline"})(nt||(nt={}));var We,bt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Lt=function(J,fe,Pe,Fe){var De=parseInt(J,10);return De>=fe&&De<=Pe?De:Fe},Ut=function(J){return J.contentsObj?J.contentsObj.str:J.contents||""},Wt=function(J){return J.titleObj?J.titleObj.str:J.title||""},kn=function(J){var fe=J.annotation,Pe=O.useContext(oe).direction,Fe=Wt(fe),De=Ut(fe),Be=Pe===A.TextDirection.RightToLeft,Ye=O.useRef(),He="";if(fe.modificationDate){var Oe=function(Ge){var qe=bt.exec(Ge);if(!qe)return null;var ct=parseInt(qe[1],10),st=Lt(qe[2],1,12,1)-1,it=Lt(qe[3],1,31,1),mt=Lt(qe[4],0,23,0),ft=Lt(qe[5],0,59,0),ht=Lt(qe[6],0,59,0),Bt=qe[7]||"Z",kt=Lt(qe[8],0,23,0),Pt=Lt(qe[9],0,59,0);switch(Bt){case"-":mt+=kt,ft+=Pt;break;case"+":mt-=kt,ft-=Pt}return new Date(Date.UTC(ct,st,it,mt,ft,ht))}(fe.modificationDate);He=Oe?"".concat(Oe.toLocaleDateString(),", ").concat(Oe.toLocaleTimeString()):""}return O.useLayoutEffect(function(){if(Ye.current){var Ge=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Ge){var qe=Ge;return qe.style.zIndex+=1,function(){qe.style.zIndex="".concat(parseInt(qe.style.zIndex,10)-1)}}}},[]),O.createElement("div",{ref:Ye,className:ee({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Be}),style:{top:fe.annotationType===A.AnnotationType.Popup?"":"100%"}},Fe&&O.createElement(O.Fragment,null,O.createElement("div",{className:ee({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Be,"rpv-core__annotation-popup-title--rtl":Be})},Fe),O.createElement("div",{className:"rpv-core__annotation-popup-date"},He)),De&&O.createElement("div",{className:"rpv-core__annotation-popup-content"},De.split(`
`).map(function(Ge,qe){return O.createElement(O.Fragment,{key:qe},Ge,O.createElement("br",null))})))};(function(J){J.Click="Click",J.Hover="Hover"})(We||(We={}));var zt,on=function(J){var fe,Pe=J.annotation,Fe=J.children,De=J.ignoreBorder,Be=J.hasPopup,Ye=J.isRenderable,He=J.page,Oe=J.viewport,Ge=Pe.rect,qe=function(){var Mt=Ze(!1),Kt=Mt.opened,Xt=Mt.toggle,Yt=O.useState(We.Hover),Jt=Yt[0],en=Yt[1];return{opened:Kt,closeOnHover:function(){Jt===We.Hover&&Xt(A.ToggleStatus.Close)},openOnHover:function(){Jt===We.Hover&&Xt(A.ToggleStatus.Open)},toggleOnClick:function(){switch(Jt){case We.Click:Kt&&en(We.Hover),Xt(A.ToggleStatus.Toggle);break;case We.Hover:en(We.Click),Xt(A.ToggleStatus.Open)}}}}(),ct=qe.closeOnHover,st=qe.opened,it=qe.openOnHover,mt=qe.toggleOnClick,ft=(fe=[Ge[0],He.view[3]+He.view[1]-Ge[1],Ge[2],He.view[3]+He.view[1]-Ge[3]],[Math.min(fe[0],fe[2]),Math.min(fe[1],fe[3]),Math.max(fe[0],fe[2]),Math.max(fe[1],fe[3])]),ht=Ge[2]-Ge[0],Bt=Ge[3]-Ge[1],kt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!De&&Pe.borderStyle.width>0){switch(Pe.borderStyle.style){case nt.Dashed:kt.borderStyle="dashed";break;case nt.Solid:kt.borderStyle="solid";break;case nt.Underline:kt=Object.assign({borderBottomStyle:"solid"},kt);case nt.Beveled:case nt.Inset:}var Pt=Pe.borderStyle.width;kt.borderWidth="".concat(Pt,"px"),Pe.borderStyle.style!==nt.Underline&&(ht-=2*Pt,Bt-=2*Pt);var Rt=Pe.borderStyle,yt=Rt.horizontalCornerRadius,Ft=Rt.verticalCornerRadius;(yt>0||Ft>0)&&(kt.borderRadius="".concat(yt,"px / ").concat(Ft,"px")),Pe.color?kt.borderColor="rgb(".concat(0|Pe.color[0],", ").concat(0|Pe.color[1],", ").concat(0|Pe.color[2],")"):kt.borderWidth="0"}return O.createElement(O.Fragment,null,Ye&&Fe({popup:{opened:st,closeOnHover:ct,openOnHover:it,toggleOnClick:mt},slot:{attrs:{style:Object.assign({height:"".concat(Bt,"px"),left:"".concat(ft[0],"px"),top:"".concat(ft[1],"px"),transform:"matrix(".concat(Oe.transform.join(","),")"),transformOrigin:"-".concat(ft[0],"px -").concat(ft[1],"px"),width:"".concat(ht,"px")},kt)},children:O.createElement(O.Fragment,null,Be&&st&&O.createElement(kn,{annotation:Pe}))}}))},yn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Dn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},O.createElement("circle",{cy:qe/2,fill:"none",rx:Ge/2-ct/2,ry:qe/2-ct/2,stroke:"transparent",strokeWidth:ct||1})),st.slot.children)})},Fn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=Wt(fe),Be=Ut(fe),Ye=!(fe.hasPopup!==!1||!De&&!Be),He=function(){var Oe,Ge,qe,ct,st=fe.file;st&&(Oe=st.filename,Ge=st.content,qe=typeof Ge=="string"?"":URL.createObjectURL(new Blob([Ge],{type:""})),(ct=document.createElement("a")).style.display="none",ct.href=qe||Oe,ct.setAttribute("download",function(it){var mt=it.split("/").pop();return mt?mt.split("#")[0].split("?")[0]:it}(Oe)),document.body.appendChild(ct),ct.click(),document.body.removeChild(ct),qe&&URL.revokeObjectURL(qe))};return O.createElement(on,{annotation:fe,hasPopup:Ye,ignoreBorder:!0,isRenderable:!0,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onDoubleClick:He,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Kn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},gn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=Wt(fe),Be=Ut(fe),Ye=!(!De&&!Be),He=!fe.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(fe.parentType)!==-1;return te(function(){if(fe.parentId){var Oe=document.querySelector('[data-annotation-id="'.concat(fe.parentId,'"]')),Ge=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Oe&&Ge){var qe=parseFloat(Oe.style.left),ct=parseFloat(Oe.style.top)+parseFloat(Oe.style.height);Ge.style.left="".concat(qe,"px"),Ge.style.top="".concat(ct,"px"),Ge.style.transformOrigin="-".concat(qe,"px -").concat(ct,"px")}}},[]),O.createElement(on,{annotation:fe,hasPopup:He,ignoreBorder:!1,isRenderable:Ye,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":fe.id}),O.createElement(kn,{annotation:fe}))})},Hn=function(J){var fe=J.annotation,Pe=J.childAnnotation,Fe=J.page,De=J.viewport,Be=fe.hasPopup===!1,Ye=Wt(fe),He=Ut(fe),Oe=!!(fe.hasPopup||Ye||He);if(fe.quadPoints&&fe.quadPoints.length>0){var Ge=fe.quadPoints.map(function(qe){return Object.assign({},fe,{rect:[qe[2].x,qe[2].y,qe[1].x,qe[1].y],quadPoints:[]})});return O.createElement(O.Fragment,null,Ge.map(function(qe,ct){return O.createElement(Hn,{key:ct,annotation:qe,childAnnotation:Pe,page:Fe,viewport:De})}))}return O.createElement(on,{annotation:fe,hasPopup:Be,ignoreBorder:!0,isRenderable:Oe,page:Fe,viewport:De},function(qe){return O.createElement(O.Fragment,null,O.createElement("div",ne({},qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":fe.id,onClick:qe.popup.toggleOnClick,onMouseEnter:qe.popup.openOnHover,onMouseLeave:qe.popup.closeOnHover}),qe.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&qe.popup.opened&&O.createElement(gn,{annotation:Pe,page:Fe,viewport:De}))})},Yn=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),fe.inkLists&&fe.inkLists.length&&O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},fe.inkLists.map(function(it,mt){return O.createElement("polyline",{key:mt,fill:"none",stroke:"transparent",strokeWidth:ct||1,points:it.map(function(ft){return"".concat(ft.x-Oe[0],",").concat(Oe[3]-ft.y)}).join(" ")})})),st.slot.children)})},nr=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},O.createElement("line",{stroke:"transparent",strokeWidth:ct||1,x1:Oe[2]-fe.lineCoordinates[0],x2:Oe[2]-fe.lineCoordinates[2],y1:Oe[3]-fe.lineCoordinates[1],y2:Oe[3]-fe.lineCoordinates[3]})),st.slot.children)})},rr=/^([^\w]*)(javascript|data|vbscript)/im,Un=/&#(\w+)(^\w|;)?/g,An=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Wn=/^([^:]+):/gm,ir=function(J,fe){var Pe,Fe=(Pe=J||"",Pe.replace(Un,function(He,Oe){return String.fromCharCode(Oe)})).replace(An,"").trim();if(!Fe)return fe;var De=Fe[0];if(De==="."||De==="/")return Fe;var Be=Fe.match(Wn);if(!Be)return Fe;var Ye=Be[0];return rr.test(Ye)?fe:Fe},Bi=function(J){var fe,Pe=J.annotation,Fe=J.annotationContainerRef,De=J.doc,Be=J.outlines,Ye=J.page,He=J.pageIndex,Oe=J.scale,Ge=J.viewport,qe=J.onExecuteNamedAction,ct=J.onJumpFromLinkAnnotation,st=J.onJumpToDest,it=O.useRef(),mt=Be&&Be.length&&Pe.dest&&typeof Pe.dest=="string"?(fe=Be.find(function(kt){return kt.dest===Pe.dest}))===null||fe===void 0?void 0:fe.title:"",ft=!!(Pe.url||Pe.dest||Pe.action||Pe.unsafeUrl),ht={};if(Pe.url||Pe.unsafeUrl){var Bt=ir(Pe.url||Pe.unsafeUrl,"");Bt?ht={"data-target":"external",href:Bt,rel:"noopener noreferrer nofollow",target:Pe.newWindow?"_blank":"",title:Bt}:ft=!1}else ht={href:"","data-annotation-link":Pe.id,onClick:function(kt){kt.preventDefault(),Pe.action?qe(Pe.action):Ke(De,Pe.dest).then(function(Pt){var Rt=it.current,yt=Fe.current;if(Rt&&yt){var Ft=Rt.getBoundingClientRect();yt.style.setProperty("height","100%"),yt.style.setProperty("width","100%");var Mt=yt.getBoundingClientRect();yt.style.removeProperty("height"),yt.style.removeProperty("width");var Kt=(Ft.left-Mt.left)/Oe,Xt=(Mt.bottom-Ft.bottom+Ft.height)/Oe;ct({bottomOffset:Xt,label:mt,leftOffset:Kt,pageIndex:He})}st(Pt)})}};return mt&&(ht=Object.assign({},ht,{title:mt,"aria-label":mt})),O.createElement(on,{annotation:Pe,hasPopup:!1,ignoreBorder:!1,isRenderable:ft,page:Ye,viewport:Ge},function(kt){return O.createElement("div",ne({},kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Pe.id,"data-testid":"core__annotation--link-".concat(Pe.id)}),O.createElement("a",ne({ref:it},ht)))})},zi=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},O.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ct||1,points:fe.vertices.map(function(it){return"".concat(it.x-Oe[0],",").concat(Oe[3]-it.y)}).join(" ")})),st.slot.children)})},Vi=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},O.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ct||1,points:fe.vertices.map(function(it){return"".concat(it.x-Oe[0],",").concat(Oe[3]-it.y)}).join(" ")})),st.slot.children)})},Hi=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye),Oe=fe.rect,Ge=Oe[2]-Oe[0],qe=Oe[3]-Oe[1],ct=fe.borderStyle.width;return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(st){return O.createElement("div",ne({},st.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":fe.id,onClick:st.popup.toggleOnClick,onMouseEnter:st.popup.openOnHover,onMouseLeave:st.popup.closeOnHover}),O.createElement("svg",{height:"".concat(qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ge," ").concat(qe),width:"".concat(Ge,"px")},O.createElement("rect",{height:qe-ct,fill:"none",stroke:"transparent",strokeWidth:ct||1,x:ct/2,y:ct/2,width:Ge-ct})),st.slot.children)})},Ui=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Wi=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},qi=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Gi=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),O.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),O.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),O.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Xi=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),O.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),O.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),O.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),O.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),O.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),O.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),O.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),O.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),O.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ki=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),O.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Yi=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),O.createElement("path",{d:"M6 4.5L6 0.5"}),O.createElement("path",{d:"M18 4.5L18 0.5"}),O.createElement("path",{d:"M10 4.5L10 0.5"}),O.createElement("path",{d:"M14 4.5L14 0.5"}))},Zi=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),O.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),O.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ji=function(){return O.createElement(U,{size:16},O.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qi=function(J){var fe=J.annotation,Pe=J.childAnnotation,Fe=J.page,De=J.viewport,Be=fe.hasPopup===!1,Ye=Wt(fe),He=Ut(fe),Oe=!!(fe.hasPopup||Ye||He),Ge=fe.name?fe.name.toLowerCase():"";return O.createElement(on,{annotation:fe,hasPopup:Be,ignoreBorder:!1,isRenderable:Oe,page:Fe,viewport:De},function(qe){return O.createElement(O.Fragment,null,O.createElement("div",ne({},qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":fe.id,onClick:qe.popup.toggleOnClick,onMouseEnter:qe.popup.openOnHover,onMouseLeave:qe.popup.closeOnHover}),Ge&&O.createElement("div",{className:"rpv-core__annotation-text-icon"},Ge==="check"&&O.createElement(Y,null),Ge==="comment"&&O.createElement(Gi,null),Ge==="help"&&O.createElement(Xi,null),Ge==="insert"&&O.createElement(Ji,null),Ge==="key"&&O.createElement(Ki,null),Ge==="note"&&O.createElement(Yi,null),(Ge==="newparagraph"||Ge==="paragraph")&&O.createElement(Zi,null)),qe.slot.children),Pe&&Pe.annotationType===A.AnnotationType.Popup&&qe.popup.opened&&O.createElement(gn,{annotation:Pe,page:Fe,viewport:De}))})},ea=function(J){var fe=J.annotation,Pe=J.page,Fe=J.viewport,De=fe.hasPopup===!1,Be=Wt(fe),Ye=Ut(fe),He=!!(fe.hasPopup||Be||Ye);return O.createElement(on,{annotation:fe,hasPopup:De,ignoreBorder:!0,isRenderable:He,page:Pe,viewport:Fe},function(Oe){return O.createElement("div",ne({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":fe.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},ta=function(J){var fe=J.annotations,Pe=J.doc,Fe=J.outlines,De=J.page,Be=J.pageIndex,Ye=J.plugins,He=J.rotation,Oe=J.scale,Ge=J.onExecuteNamedAction,qe=J.onJumpFromLinkAnnotation,ct=J.onJumpToDest,st=O.useRef(),it=De.getViewport({rotation:He,scale:Oe}).clone({dontFlip:!0}),mt=fe.filter(function(ft){return!ft.parentId});return te(function(){var ft=st.current;ft&&Ye.forEach(function(ht){ht.onAnnotationLayerRender&&ht.onAnnotationLayerRender({annotations:mt,container:ft,pageIndex:Be,rotation:He,scale:Oe})})},[]),O.createElement("div",{ref:st,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Be)},mt.map(function(ft){var ht=fe.find(function(Bt){return Bt.parentId===ft.id});switch(ft.annotationType){case A.AnnotationType.Caret:return O.createElement(yn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Circle:return O.createElement(Dn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.FileAttachment:return O.createElement(Fn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.FreeText:return O.createElement(Kn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Highlight:return O.createElement(Hn,{key:ft.id,annotation:ft,childAnnotation:ht,page:De,viewport:it});case A.AnnotationType.Ink:return O.createElement(Yn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Line:return O.createElement(nr,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Link:return O.createElement(Bi,{key:ft.id,annotation:ft,annotationContainerRef:st,doc:Pe,outlines:Fe,page:De,pageIndex:Be,scale:Oe,viewport:it,onExecuteNamedAction:Ge,onJumpFromLinkAnnotation:qe,onJumpToDest:ct});case A.AnnotationType.Polygon:return O.createElement(zi,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Polyline:return O.createElement(Vi,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Popup:return O.createElement(gn,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Square:return O.createElement(Hi,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Squiggly:return O.createElement(Ui,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Stamp:return O.createElement(Wi,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.StrikeOut:return O.createElement(qi,{key:ft.id,annotation:ft,page:De,viewport:it});case A.AnnotationType.Text:return O.createElement(Qi,{key:ft.id,annotation:ft,childAnnotation:ht,page:De,viewport:it});case A.AnnotationType.Underline:return O.createElement(ea,{key:ft.id,annotation:ft,page:De,viewport:it});default:return O.createElement(O.Fragment,{key:ft.id})}}))},na=function(J){var fe=J.page,Pe=J.renderAnnotations,Fe=Je(),De=O.useState({loading:!0,annotations:[]}),Be=De[0],Ye=De[1];return O.useEffect(function(){fe.getAnnotations({intent:"display"}).then(function(He){Fe.current&&Ye({loading:!1,annotations:He})})},[]),Be.loading?O.createElement(O.Fragment,null):Pe(Be.annotations)},ra=function(J){var fe=J.doc,Pe=J.outlines,Fe=J.page,De=J.pageIndex,Be=J.plugins,Ye=J.rotation,He=J.scale,Oe=J.onExecuteNamedAction,Ge=J.onJumpFromLinkAnnotation,qe=J.onJumpToDest;return O.createElement(na,{page:Fe,renderAnnotations:function(ct){return O.createElement(ta,{annotations:ct,doc:fe,outlines:Pe,page:Fe,pageIndex:De,plugins:Be,rotation:Ye,scale:He,onExecuteNamedAction:Oe,onJumpFromLinkAnnotation:Ge,onJumpToDest:qe})}})},lr=function(J,fe){var Pe=J%fe;return Pe===0?J:Math.floor(J-Pe)},ia=function(J){var fe=J.canvasLayerRef,Pe=J.height,Fe=J.page,De=J.pageIndex,Be=J.plugins,Ye=J.rotation,He=J.scale,Oe=J.width,Ge=J.onRenderCanvasCompleted,qe=O.useRef();return te(function(){var ct=qe.current;ct&&ct.cancel();var st=fe.current;st.removeAttribute("data-testid"),Be.forEach(function(Mt){Mt.onCanvasLayerRender&&Mt.onCanvasLayerRender({ele:st,pageIndex:De,rotation:Ye,scale:He,status:A.LayerRenderStatus.PreRender})});var it=Fe.getViewport({rotation:Ye,scale:He}),mt=window.devicePixelRatio||1,ft=Math.sqrt(16777216/(it.width*it.height)),ht=mt>ft;ht?st.style.transform="scale(1, 1)":st.style.removeProperty("transform");var Bt=Math.min(ft,mt),kt=function(Mt,Kt){var Xt,Yt;if(Math.floor(Mt)===Mt)return[Mt,1];var Jt=1/Mt;if(Jt>Kt)return[1,Kt];if(Math.floor(Jt)===Jt)return[1,Jt];for(var en=Mt>1?Jt:Mt,vn=0,ln=1,bn=1,hn=1;;){var pn=vn+bn,mn=ln+hn;if(mn>Kt)break;en<=pn/mn?(bn=(Xt=[pn,mn])[0],hn=Xt[1]):(vn=(Yt=[pn,mn])[0],ln=Yt[1])}return en<(vn/ln+bn/hn)/2?en===Mt?[vn,ln]:[ln,vn]:en===Mt?[bn,hn]:[hn,bn]}(Bt,8),Pt=kt[0],Rt=kt[1];st.width=lr(it.width*Bt,Pt),st.height=lr(it.height*Bt,Pt),st.style.width="".concat(lr(it.width,Rt),"px"),st.style.height="".concat(lr(it.height,Rt),"px"),st.hidden=!0;var yt=st.getContext("2d",{alpha:!1}),Ft=ht||mt!==1?[Bt,0,0,Bt,0,0]:null;return qe.current=Fe.render({canvasContext:yt,transform:Ft,viewport:it}),qe.current.promise.then(function(){st.hidden=!1,st.setAttribute("data-testid","core__canvas-layer-".concat(De)),Be.forEach(function(Mt){Mt.onCanvasLayerRender&&Mt.onCanvasLayerRender({ele:st,pageIndex:De,rotation:Ye,scale:He,status:A.LayerRenderStatus.DidRender})}),Ge()},function(){Ge()}),function(){st&&(st.width=0,st.height=0)}},[]),O.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Pe,"px"),width:"".concat(Oe,"px")}},O.createElement("canvas",{ref:fe}))},aa=function(J){var fe=J.height,Pe=J.page,Fe=J.rotation,De=J.scale,Be=J.width,Ye=O.useRef();return te(function(){var He=Ye.current,Oe=Pe.getViewport({rotation:Fe,scale:De});Pe.getOperatorList().then(function(Ge){(function(){var qe=Ye.current;qe&&(qe.innerHTML="")})(),new re.SVGGraphics(Pe.commonObjs,Pe.objs).getSVG(Ge,Oe).then(function(qe){qe.style.height="".concat(fe,"px"),qe.style.width="".concat(Be,"px"),He.appendChild(qe)})})},[]),O.createElement("div",{className:"rpv-core__svg-layer",ref:Ye})},oa=function(J){var fe=J.containerRef,Pe=J.page,Fe=J.pageIndex,De=J.plugins,Be=J.rotation,Ye=J.scale,He=J.onRenderTextCompleted,Oe=O.useRef(),Ge=function(){var qe=fe.current;qe&&([].slice.call(qe.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(ct){return qe.removeChild(ct)}),[].slice.call(qe.querySelectorAll('br[role="presentation"]')).forEach(function(ct){return qe.removeChild(ct)}))};return te(function(){var qe=Oe.current;qe&&qe.cancel();var ct=fe.current;if(ct){ct.removeAttribute("data-testid");var st=Pe.getViewport({rotation:Be,scale:Ye});return De.forEach(function(it){it.onTextLayerRender&&it.onTextLayerRender({ele:ct,pageIndex:Fe,scale:Ye,status:A.LayerRenderStatus.PreRender})}),Pe.getTextContent().then(function(it){Ge(),Oe.current=re.renderTextLayer({container:ct,textContent:it,textContentSource:it,viewport:st}),Oe.current.promise.then(function(){ct.setAttribute("data-testid","core__text-layer-".concat(Fe)),[].slice.call(ct.children).forEach(function(mt){mt.classList.contains("rpv-core__text-layer-text--not")||mt.classList.add("rpv-core__text-layer-text")}),De.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:ct,pageIndex:Fe,scale:Ye,status:A.LayerRenderStatus.DidRender})}),He()},function(){ct.removeAttribute("data-testid"),He()})}),function(){var it;Ge(),(it=Oe.current)===null||it===void 0||it.cancel()}}},[]),O.createElement("div",{className:"rpv-core__text-layer",ref:fe})},sa=function(J){var fe=J.doc,Pe=J.measureRef,Fe=J.outlines,De=J.pageIndex,Be=J.pageRotation,Ye=J.pageSize,He=J.plugins,Oe=J.renderPage,Ge=J.renderQueueKey,qe=J.rotation,ct=J.scale,st=J.shouldRender,it=J.viewMode,mt=J.onExecuteNamedAction,ft=J.onJumpFromLinkAnnotation,ht=J.onJumpToDest,Bt=J.onRenderCompleted,kt=J.onRotatePage,Pt=Je(),Rt=O.useState(null),yt=Rt[0],Ft=Rt[1],Mt=O.useState(!1),Kt=Mt[0],Xt=Mt[1],Yt=O.useState(!1),Jt=Yt[0],en=Yt[1],vn=O.useRef(),ln=O.useRef(),bn=Math.abs(qe+Be)%180==0,hn=Ye.pageWidth*ct,pn=Ye.pageHeight*ct,mn=bn?hn:pn,fn=bn?pn:hn,xn=(Ye.rotation+qe+Be)%360,In=O.useRef(0),Rn=Oe||function(Sn){return O.createElement(O.Fragment,null,Sn.canvasLayer.children,Sn.textLayer.children,Sn.annotationLayer.children)};return O.useEffect(function(){Ft(null),Xt(!1),en(!1)},[Be,qe,ct]),O.useEffect(function(){st&&Pt.current&&!yt&&ot(fe,De).then(function(Sn){Pt.current&&(In.current=Ge,Ft(Sn))})},[st,yt]),O.useEffect(function(){Kt&&Jt&&(Ge!==In.current?(Ft(null),Xt(!1),en(!1)):Bt(De))},[Kt,Jt]),O.createElement("div",{className:ee({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":it===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":it===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":it===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(De),ref:Pe,style:{height:"".concat(fn,"px"),width:"".concat(mn,"px")}},yt?O.createElement(O.Fragment,null,Rn({annotationLayer:{attrs:{},children:O.createElement(ra,{doc:fe,outlines:Fe,page:yt,pageIndex:De,plugins:He,rotation:xn,scale:ct,onExecuteNamedAction:mt,onJumpFromLinkAnnotation:ft,onJumpToDest:ht})},canvasLayer:{attrs:{},children:O.createElement(ia,{canvasLayerRef:vn,height:fn,page:yt,pageIndex:De,plugins:He,rotation:xn,scale:ct,width:mn,onRenderCanvasCompleted:function(){Pt.current&&Xt(!0)}})},canvasLayerRendered:Kt,doc:fe,height:fn,pageIndex:De,rotation:xn,scale:ct,svgLayer:{attrs:{},children:O.createElement(aa,{height:fn,page:yt,rotation:xn,scale:ct,width:mn})},textLayer:{attrs:{},children:O.createElement(oa,{containerRef:ln,page:yt,pageIndex:De,plugins:He,rotation:xn,scale:ct,onRenderTextCompleted:function(){Pt.current&&en(!0)}})},textLayerRendered:Jt,width:mn,markRendered:Bt,onRotatePage:function(Sn){return kt(De,Sn)}}),He.map(function(Sn,Pn){return Sn.renderPageLayer?O.createElement(O.Fragment,{key:Pn},Sn.renderPageLayer({canvasLayerRef:vn,canvasLayerRendered:Kt,doc:fe,height:fn,pageIndex:De,rotation:xn,scale:ct,textLayerRef:ln,textLayerRendered:Jt,width:mn})):O.createElement(O.Fragment,{key:Pn})})):O.createElement(W,{testId:"core__page-layer-loading-".concat(De)}))},ca=function(J,fe){var Pe=fe.rect;return J.height!==Pe.height||J.width!==Pe.width?Pe:J};(function(J){J.Horizontal="Horizontal",J.Vertical="Vertical",J.Both="Both"})(zt||(zt={}));var la=function(J){return 1-Math.pow(1-J,4)},ur=1e-4,Qr={left:0,top:0},ei={capture:!1,passive:!0},ua=function(J){var fe=J.elementRef,Pe=J.enableSmoothScroll,Fe=J.isRtl,De=J.scrollDirection,Be=J.onSmoothScroll,Ye=O.useState(Qr),He=Ye[0],Oe=Ye[1],Ge=O.useState(fe.current),qe=Ge[0],ct=Ge[1],st=Fe?-1:1,it=O.useRef(De);it.current=De;var mt=O.useRef(Qr),ft=O.useRef(!0),ht=O.useCallback(function(){ft.current=!0,Pe&&Oe(mt.current),Be(!1)},[]),Bt=O.useCallback(function(){if(qe){switch(it.current){case zt.Horizontal:mt.current={left:st*qe.scrollLeft,top:0};break;case zt.Both:mt.current={left:st*qe.scrollLeft,top:qe.scrollTop};break;case zt.Vertical:default:mt.current={left:0,top:qe.scrollTop}}Pe&&!ft.current||Oe(mt.current)}},[qe]);te(function(){ct(fe.current)}),te(function(){if(qe)return qe.addEventListener("scroll",Bt,ei),function(){qe.removeEventListener("scroll",Bt,ei)}},[qe]);var kt=O.useCallback(function(Pt,Rt){var yt=fe.current;if(!yt)return Promise.resolve();var Ft={left:0,top:0};switch(it.current){case zt.Horizontal:Ft.left=st*Pt.left;break;case zt.Both:Ft.left=st*Pt.left,Ft.top=Pt.top;break;case zt.Vertical:default:Ft.top=Pt.top}return Rt?(ft.current=!1,Be(!0),new Promise(function(Mt,Kt){(function(Xt,Yt,Jt,en,vn,ln){vn===void 0&&(vn=function(Pn){return Pn}),ln===void 0&&(ln=function(){});var bn=0,hn=0,pn=!1;switch(Yt){case zt.Horizontal:hn=Xt.scrollLeft,bn=0;case zt.Both:hn=Xt.scrollLeft,bn=Xt.scrollTop;break;case zt.Vertical:default:hn=0,bn=Xt.scrollTop}var mn=function(){pn||(pn=!0,Xt.scrollLeft=Jt.left,Xt.scrollTop=Jt.top,ln())};if(Math.abs(bn-Jt.top)<=ur&&Yt===zt.Vertical)mn();else if(Math.abs(hn-Jt.left)<=ur&&Yt===zt.Horizontal)mn();else{var fn,xn=-1,In=hn-Jt.left,Rn=bn-Jt.top,Sn=function(Pn){xn===-1&&(xn=Pn);var Ln=Pn-xn,Tt=Math.min(Ln/en,1),$t=vn(Tt),St={left:hn-In*$t,top:bn-Rn*$t};switch(Yt){case zt.Horizontal:Xt.scrollLeft=St.left;break;case zt.Both:Xt.scrollLeft=St.left,Xt.scrollTop=St.top;break;case zt.Vertical:default:Xt.scrollTop=St.top}Math.abs(St.top-Jt.top)<=ur&&Math.abs(St.left-Jt.left)<=ur&&!pn&&(window.cancelAnimationFrame(fn),mn()),Ln<en?fn=window.requestAnimationFrame(Sn):window.cancelAnimationFrame(fn)};fn=window.requestAnimationFrame(Sn)}})(yt,it.current,Ft,400,la,function(){ht(),Mt()})})):new Promise(function(Mt,Kt){switch(it.current){case zt.Horizontal:yt.scrollLeft=Ft.left;break;case zt.Both:yt.scrollLeft=Ft.left,yt.scrollTop=Ft.top;break;case zt.Vertical:default:yt.scrollTop=Ft.top}Mt()})},[fe]);return{scrollOffset:He,scrollTo:kt}},ar=function(J,fe,Pe){return Math.max(J,Math.min(Pe,fe))},da=function(J,fe){if(fe!==A.ViewMode.DualPageWithCover)return 0;if(!function(De){var Be=De.length;if(Be===1)return!1;for(var Ye=1;Ye<Be;Ye++)if(De[Ye].height!==De[0].height||De[Ye].width!==De[0].width)return!0;return!1}(J))return 2*J[0].width;var Pe=at(J.slice(1),2).map(function(De){return De.length===2?De[0].width+De[1].width:De[0].width}),Fe=[J[0].width].concat(Pe);return Math.max.apply(Math,Fe)},ha={left:0,top:0},fa={left:0,top:0},Er={left:0,top:0},pa={left:0,top:0},ma={height:0,width:0},ti={left:0,top:0},ni="data-virtual-index",ga=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],va=function(J){var fe=J.enableSmoothScroll,Pe=J.isRtl,Fe=J.numberOfItems,De=J.parentRef,Be=J.setRenderRange,Ye=J.sizes,He=J.scrollMode,Oe=J.viewMode,Ge=O.useState(!1),qe=Ge[0],ct=Ge[1],st=O.useCallback(function(Tt){return ct(Tt)},[]),it=O.useRef(He);it.current=He;var mt=O.useRef(Oe);mt.current=Oe;var ft=He===A.ScrollMode.Wrapped||Oe===A.ViewMode.DualPageWithCover||Oe===A.ViewMode.DualPage?zt.Both:He===A.ScrollMode.Horizontal?zt.Horizontal:zt.Vertical,ht=ua({elementRef:De,enableSmoothScroll:fe,isRtl:Pe,scrollDirection:ft,onSmoothScroll:st}),Bt=ht.scrollOffset,kt=ht.scrollTo,Pt=function(Tt){var $t=Tt.elementRef,St=O.useState($t.current),xt=St[0],Ct=St[1],It=O.useRef(!1),Ot=O.useReducer(ca,{height:0,width:0}),At=Ot[0],Et=Ot[1];return te(function(){$t.current!==xt&&Ct($t.current)}),te(function(){if(xt&&!It.current){It.current=!0;var Nt=xt.getBoundingClientRect(),Vt=Nt.height,sn=Nt.width;Et({rect:{height:Vt,width:sn}})}},[xt]),O.useEffect(function(){if(xt){var Nt=new ResizeObserver(function(Vt,sn){Vt.forEach(function(rn){if(rn.target===xt){var Cn=rn.contentRect,$n=Cn.height,jt=Cn.width;Et({rect:{height:$n,width:jt}})}})});return Nt.observe(xt),function(){Nt.unobserve(xt)}}},[xt]),At}({elementRef:De}),Rt=O.useRef({scrollOffset:ti,measurements:[]});Rt.current.scrollOffset=Bt;var yt=O.useMemo(function(){return Array(Fe).fill(-1)},[]),Ft=O.useState(yt),Mt=Ft[0],Kt=Ft[1],Xt=O.useMemo(function(){var Tt=new IntersectionObserver(function($t){$t.forEach(function(St){var xt=St.isIntersecting?St.intersectionRatio:-1,Ct=St.target.getAttribute(ni);if(Ct){var It=parseInt(Ct,10);0<=It&&It<Fe&&Kt(function(Ot){return Ot[It]=xt,function(At,Et,Nt){for(var Vt,sn=0,rn=Et.length;sn<rn;sn++)!Vt&&sn in Et||(Vt||(Vt=Array.prototype.slice.call(Et,0,sn)),Vt[sn]=Et[sn]);return At.concat(Vt||Array.prototype.slice.call(Et))}([],Ot)})}})},{threshold:ga});return Tt},[]),Yt=O.useMemo(function(){return He===A.ScrollMode.Page&&Oe===A.ViewMode.SinglePage?function(Tt,$t,St){for(var xt=[],Ct=0;Ct<Tt;Ct++){var It={height:Math.max($t.height,St[Ct].height),width:Math.max($t.width,St[Ct].width)},Ot=Ct===0?pa:xt[Ct-1].end,At={left:Ot.left+It.width,top:Ot.top+It.height};xt[Ct]={index:Ct,start:Ot,size:It,end:At,visibility:-1}}return xt}(Fe,Pt,Ye):Oe===A.ViewMode.DualPageWithCover?function(Tt,$t,St,xt){for(var Ct=[],It=0,Ot=0,At=Er,Et=0;Et<Tt;Et++){var Nt=Et===0?{height:xt===A.ScrollMode.Page?Math.max($t.height,St[Et].height):St[Et].height,width:xt===A.ScrollMode.Page?Math.max($t.width,St[Et].width):St[Et].width}:{height:xt===A.ScrollMode.Page?Math.max($t.height,St[Et].height):St[Et].height,width:Math.max($t.width/2,St[Et].width)};xt===A.ScrollMode.Page?At=Et===0?Er:{left:Et%2==0?Nt.width:0,top:Math.floor((Et-1)/2)*Nt.height+Ct[0].end.top}:Et===0?(At=Er,It=St[0].height,Ot=0):Et%2==1?(At={left:0,top:It+=Ot},Ot=Et===Tt-1?St[Et].height:Math.max(St[Et].height,St[Et+1].height)):At={left:Ct[Et-1].end.left,top:It};var Vt={left:At.left+Nt.width,top:At.top+Nt.height};Ct[Et]={index:Et,start:At,size:Nt,end:Vt,visibility:-1}}return Ct}(Fe,Pt,Ye,He):Oe===A.ViewMode.DualPage?function(Tt,$t,St,xt){for(var Ct=[],It=0,Ot=0,At=fa,Et=0;Et<Tt;Et++){var Nt={height:xt===A.ScrollMode.Page?Math.max($t.height,St[Et].height):St[Et].height,width:Math.max($t.width/2,St[Et].width)};xt===A.ScrollMode.Page?At={left:Et%2==0?0:Nt.width,top:Math.floor(Et/2)*Nt.height}:Et%2==0?(At={left:0,top:It+=Ot},Ot=Et===Tt-1?St[Et].height:Math.max(St[Et].height,St[Et+1].height)):At={left:Ct[Et-1].end.left,top:It};var Vt={left:At.left+Nt.width,top:At.top+Nt.height};Ct[Et]={index:Et,start:At,size:Nt,end:Vt,visibility:-1}}return Ct}(Fe,Pt,Ye,He):function(Tt,$t,St,xt){for(var Ct=[],It=0,Ot={left:0,top:0},At=0,Et=ha,Nt=0;Nt<Tt;Nt++){var Vt=St[Nt];if(Nt===0)It=Vt.width,Ot={left:0,top:0},At=Vt.height;else switch(xt){case A.ScrollMode.Wrapped:(It+=Vt.width)<$t.width?(Et={left:Ct[Nt-1].end.left,top:Ot.top},At=Math.max(At,Vt.height)):(It=Vt.width,Ot={left:(Et={left:Ot.left,top:Ot.top+At}).left,top:Et.top},At=Vt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Et=Ct[Nt-1].end}var sn={left:Et.left+Vt.width,top:Et.top+Vt.height};Ct[Nt]={index:Nt,start:Et,size:Vt,end:sn,visibility:-1}}return Ct}(Fe,Pt,Ye,He)},[He,Ye,Oe,Pt]),Jt=Yt[Fe-1]?{height:Yt[Fe-1].end.top,width:Yt[Fe-1].end.left}:ma;Rt.current.measurements=Yt;var en=O.useMemo(function(){var Tt=function(Nt,Vt,sn,rn){var Cn=0;switch(Nt){case zt.Horizontal:Cn=rn.left;break;case zt.Vertical:default:Cn=rn.top}var $n=Vt.length-1,jt=function(nn,Nn,Jn,hr){for(;nn<=Nn;){var qn=(nn+Nn)/2|0,or=hr(qn);if(or<Jn)nn=qn+1;else{if(!(or>Jn))return qn;Nn=qn-1}}return nn>0?nn-1:0}(0,$n,Cn,function(nn){switch(Nt){case zt.Horizontal:return Vt[nn].start.left;case zt.Both:case zt.Vertical:default:return Vt[nn].start.top}});if(Nt===zt.Both)for(var wn=Vt[jt].start.top;jt-1>=0&&Vt[jt-1].start.top===wn&&Vt[jt-1].start.left>=rn.left;)jt--;for(var cn=jt;cn<=$n;){var un={top:Vt[cn].start.top-rn.top,left:Vt[cn].start.left-rn.left},_n={height:sn.height-un.top,width:sn.width-un.left};if(Nt===zt.Horizontal&&_n.width<0||Nt===zt.Vertical&&_n.height<0||Nt===zt.Both&&(_n.width<0||_n.height<0))break;cn++}return{start:jt,end:cn}}(ft,Yt,Pt,Bt),$t=Tt.start,St=Tt.end,xt=Mt.slice(ar(0,Fe,$t),ar(0,Fe,St)),Ct=$t+xt.reduce(function(Nt,Vt,sn,rn){return Vt>rn[Nt]?sn:Nt},0),It=Ct=ar(0,Fe-1,Ct),Ot=Be({endPage:St,numPages:Fe,startPage:$t}),At=Ot.startPage,Et=Ot.endPage;switch(At=Math.max(At,0),Et=Math.min(Et,Fe-1),Oe){case A.ViewMode.DualPageWithCover:Ct>0&&(It=Ct%2==1?Ct:Ct-1),At=At===0?0:At%2==1?At:At-1,Fe-(Et=Et%2==1?Et-1:Et)<=2&&(Et=Fe-1);break;case A.ViewMode.DualPage:It=Ct%2==0?Ct:Ct-1,At=At%2==0?At:At-1,Et=Et%2==1?Et:Et-1;break;case A.ViewMode.SinglePage:default:It=Ct}return{startPage:At,endPage:Et,maxVisbilityIndex:It}},[Yt,Pt,Bt,Oe,Mt]),vn=en.startPage,ln=en.endPage,bn=en.maxVisbilityIndex,hn=O.useMemo(function(){for(var Tt=[],$t=function(xt){var Ct=Yt[xt],It=ne(ne({},Ct),{visibility:Mt[xt]!==void 0?Mt[xt]:-1,measureRef:function(Ot){Ot&&(Ot.setAttribute(ni,"".concat(xt)),Xt.observe(Ot))}});Tt.push(It)},St=vn;St<=ln;St++)$t(St);return Tt},[vn,ln,Mt,Yt]),pn=O.useCallback(function(Tt,$t){var St=Rt.current.measurements[ar(0,Fe-1,Tt)],xt=it.current===A.ScrollMode.Page?ti:$t;return St?kt({left:xt.left+St.start.left,top:xt.top+St.start.top},fe):Promise.resolve()},[kt,fe]),mn=O.useCallback(function(Tt,$t){var St=Rt.current.measurements,xt=St[Tt].start,Ct=St.find(function(Ot){return Ot.start.top-xt.top>1e-12});if(!Ct)return Promise.resolve();var It=Ct.index;switch(mt.current){case A.ViewMode.DualPage:It=It%2==0?It:It+1;break;case A.ViewMode.DualPageWithCover:It=It%2==1?It:It+1}return pn(It,$t)},[]),fn=O.useCallback(function(Tt,$t){for(var St=Rt.current.measurements,xt=St[Tt].start,Ct=Tt,It=!1,Ot=Fe-1;Ot>=0;Ot--)if(xt.top-St[Ot].start.top>1e-12){It=!0,Ct=St[Ot].index;break}if(!It)return Promise.resolve();switch(mt.current){case A.ViewMode.DualPage:Ct=Ct%2==0?Ct:Ct-1;break;case A.ViewMode.DualPageWithCover:Ct=Ct%2==0?Ct-1:Ct}return Ct===Tt&&(Ct=Tt-1),pn(Ct,$t)},[]),xn=O.useCallback(function(Tt,$t){if(mt.current===A.ViewMode.DualPageWithCover||mt.current===A.ViewMode.DualPage)return mn(Tt,$t);switch(it.current){case A.ScrollMode.Wrapped:return mn(Tt,$t);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return pn(Tt+1,$t)}},[]),In=O.useCallback(function(Tt,$t){if(mt.current===A.ViewMode.DualPageWithCover||mt.current===A.ViewMode.DualPage)return fn(Tt,$t);switch(it.current){case A.ScrollMode.Wrapped:return fn(Tt,$t);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return pn(Tt-1,$t)}},[]),Rn=O.useCallback(function(){return function(Tt,$t){switch($t){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Tt.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Tt.height,"px"),width:"100%"}}}(Jt,it.current)},[Jt]),Sn=O.useCallback(function(Tt){return function($t,St,xt){return xt!==A.ScrollMode.Page?{}:{height:"".concat(St.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat($t.start.top,"px)")}}(Tt,Pt,it.current)},[Pt]),Pn=O.useCallback(function(Tt){return function($t,St,xt,Ct,It){var Ot,At,Et,Nt,Vt,sn,rn,Cn=St?"right":"left",$n=St?-1:1,jt=xt.length,wn=$t.start.left*$n,cn=$t.size,un=cn.height,_n=cn.width;if(Ct===A.ViewMode.DualPageWithCover){var nn=It===A.ScrollMode.Page?0:$t.start.top;return $t.index===0||jt%2==0&&$t.index===jt-1?((Ot={height:"".concat(un,"px"),minWidth:"".concat(da(xt,Ct),"px"),width:"100%"})[Cn]=0,Ot.position="absolute",Ot.top=0,Ot.transform="translate(".concat(wn,"px, ").concat(nn,"px)"),Ot):((At={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,At.position="absolute",At.top=0,At.transform="translate(".concat(wn,"px, ").concat(nn,"px)"),At)}if(Ct===A.ViewMode.DualPage)return(Et={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,Et.position="absolute",Et.top=0,Et.transform="translate(".concat(wn,"px, ").concat(It===A.ScrollMode.Page?0:$t.start.top,"px)"),Et;switch(It){case A.ScrollMode.Horizontal:return(Nt={height:"100%",width:"".concat(_n,"px")})[Cn]=0,Nt.position="absolute",Nt.top=0,Nt.transform="translateX(".concat(wn,"px)"),Nt;case A.ScrollMode.Page:return(Vt={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,Vt.position="absolute",Vt.top=0,Vt;case A.ScrollMode.Wrapped:return(sn={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,sn.position="absolute",sn.top=0,sn.transform="translate(".concat(wn,"px, ").concat($t.start.top,"px)"),sn;case A.ScrollMode.Vertical:default:return(rn={height:"".concat(un,"px"),width:"100%"})[Cn]=0,rn.position="absolute",rn.top=0,rn.transform="translateY(".concat($t.start.top,"px)"),rn}}(Tt,Pe,Ye,mt.current,it.current)},[Pe,Ye]),Ln=O.useCallback(function(Tt,$t){var St=Rt.current,xt=St.measurements,Ct=St.scrollOffset,It=xt[ar(0,Fe-1,$t)];if(It){var Ot=it.current===A.ScrollMode.Page?{left:It.start.left,top:It.start.top}:{left:Ct.left*Tt,top:Ct.top*Tt};return kt(Ot,!1)}return Promise.resolve()},[]);return O.useEffect(function(){return function(){Xt.disconnect()}},[]),{boundingClientRect:Pt,isSmoothScrolling:qe,startPage:vn,endPage:ln,maxVisbilityIndex:bn,virtualItems:hn,getContainerStyles:Rn,getItemContainerStyles:Sn,getItemStyles:Pn,scrollToItem:pn,scrollToNextItem:xn,scrollToPreviousItem:In,zoom:Ln}},yr=function(J,fe,Pe,Fe,De,Be){var Ye=Pe;switch(!0){case(De===A.ViewMode.DualPageWithCover&&Be>=3):case(De===A.ViewMode.DualPage&&Be>=3):Ye=2*Pe;break;default:Ye=Pe}switch(Fe){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((J.clientWidth-17)/Ye,(J.clientHeight-16)/fe);case A.SpecialZoomLevel.PageWidth:return(J.clientWidth-17)/Ye}},ba=function(J){var fe,Pe,Fe=J.getCurrentPage,De=(fe=50,Pe=O.useRef([]),O.useEffect(function(){return function(){Pe.current=[]}},[]),{push:function(Ge){var qe=Pe.current;qe.length+1>fe&&qe.shift(),qe.push(Ge),Pe.current=qe},map:function(Ge){return Pe.current.map(function(qe){return Ge(qe)})},pop:function(){var Ge=Pe.current;if(Ge.length===0)return null;var qe=Ge.pop();return Pe.current=Ge,qe}}),Be=function(Ge){var qe=O.useRef([]);return O.useEffect(function(){return function(){qe.current=[]}},[]),{dequeue:function(){var ct=qe.current;if(ct.length===0)return null;var st=ct.shift();return qe.current=ct,st||null},enqueue:function(ct){var st=qe.current;st.length+1>Ge&&st.pop(),qe.current=[ct].concat(st)},map:function(ct){return qe.current.map(function(st){return ct(st)})}}}(50),Ye=function(){var Ge=Be.dequeue();return Ge&&De.push(Ge),Ge&&Ge.pageIndex===Fe()?Ye():Ge},He=function(){var Ge=De.pop();return Ge&&Be.enqueue(Ge),Ge&&Ge.pageIndex===Fe()?He():Ge},Oe=O.useCallback(function(Ge){De.push(Ge)},[]);return{getNextDestination:Ye,getPreviousDestination:He,markVisitedDestination:Oe}},ri=function(J){var fe=[];return J.map(function(Pe){fe=fe.concat(Pe).concat(function(Fe){var De=[];return Fe.items&&Fe.items.length>0&&(De=De.concat(ri(Fe.items))),De}(Pe))}),fe},ii={capture:!1,passive:!0},_a={height:0,width:0},Sr={height:0,width:0},Ea=function(J){var fe=J.getCurrentPage,Pe=J.getCurrentScrollMode,Fe=J.jumpToPage,De=J.targetRef,Be=O.useState(A.FullScreenMode.Normal),Ye=Be[0],He=Be[1],Oe=function(){var Mt=O.useState(_a),Kt=Mt[0],Xt=Mt[1],Yt=Xe(function(){Xt({height:window.innerHeight,width:window.innerWidth})},100);return te(function(){return window.addEventListener("resize",Yt,ii),function(){window.removeEventListener("resize",Yt,ii)}},[]),Kt}(),Ge=O.useState(Sr),qe=Ge[0],ct=Ge[1],st=O.useRef(Sr),it=O.useRef(fe()),mt=O.useRef(Sr),ft=O.useState(De.current),ht=ft[0],Bt=ft[1],kt=O.useRef();te(function(){De.current!==ht&&Bt(De.current)},[]),te(function(){if(ht){var Mt=new ResizeObserver(function(Kt){Kt.forEach(function(Xt){var Yt=Xt.target.getBoundingClientRect(),Jt=Yt.height,en=Yt.width;ct({height:Jt,width:en})})});return Mt.observe(ht),function(){Mt.unobserve(ht),Mt.disconnect()}}},[ht]);var Pt=O.useCallback(function(Mt){var Kt=lt();return Kt&&Kt!==Mt?(He(A.FullScreenMode.Normal),ze(Kt)):Promise.resolve()},[]),Rt=O.useCallback(function(Mt){Mt&&Me()&&(Bt(Mt),Pt(Mt).then(function(){kt.current=Mt,He(A.FullScreenMode.Entering),function(Kt){pe&&Kt[ye.RequestFullScreen]()}(Mt)}))},[]),yt=O.useCallback(function(){lt()&&(He(A.FullScreenMode.Exitting),ze(document))},[]),Ft=O.useCallback(function(){ht&&lt()!==ht&&He(A.FullScreenMode.Exitting)},[ht]);return O.useEffect(function(){switch(Ye){case A.FullScreenMode.Entering:kt.current&&(kt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),it.current=fe(),st.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Pe()===A.ScrollMode.Page?Fe(it.current).then(function(){He(A.FullScreenMode.EnteredCompletely)}):He(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:kt.current&&(kt.current.style.backgroundColor="",kt.current=null),it.current=fe();break;case A.FullScreenMode.Exited:He(A.FullScreenMode.Normal),Pe()===A.ScrollMode.Page&&Fe(it.current)}},[Ye]),O.useEffect(function(){if(Ye!==A.FullScreenMode.Normal)return Ye===A.FullScreenMode.Entering&&Oe.height===qe.height&&Oe.width===qe.width&&Oe.height>0&&Oe.width>0&&(mt.current.height===0||Oe.height==mt.current.height)?(mt.current={height:window.innerHeight,width:window.innerWidth},void He(A.FullScreenMode.Entered)):void(Ye===A.FullScreenMode.Exitting&&st.current.height===Oe.height&&st.current.width===Oe.width&&Oe.height>0&&Oe.width>0&&He(A.FullScreenMode.Exited))},[Ye,Oe,qe]),O.useEffect(function(){var Mt;return Mt=Ft,pe&&document.addEventListener(ye.FullScreenChange,Mt),function(){(function(Kt){pe&&document.removeEventListener(ye.FullScreenChange,Kt)})(Ft)}},[ht]),{enterFullScreenMode:Rt,exitFullScreenMode:yt,fullScreenMode:Ye}},ya={buildPageStyles:function(){return{}},transformSize:function(J){return J.size}},Zn={left:0,top:0},Sa=function(J){var fe=J.currentFile,Pe=J.defaultScale,Fe=J.doc,De=J.enableSmoothScroll,Be=J.initialPage,Ye=J.initialRotation,He=J.initialScale,Oe=J.pageLayout,Ge=J.pageSizes,qe=J.plugins,ct=J.renderPage,st=J.scrollMode,it=J.setRenderRange,mt=J.viewMode,ft=J.viewerState,ht=J.onDocumentLoad,Bt=J.onOpenFile,kt=J.onPageChange,Pt=J.onRotate,Rt=J.onRotatePage,yt=J.onZoom,Ft=Fe.numPages,Mt=Fe.loadingTask.docId,Kt=O.useContext(we).l10n,Xt=O.useContext(oe),Yt=Xt.direction===A.TextDirection.RightToLeft,Jt=O.useRef(),en=O.useRef(),vn=O.useState(Be),ln=vn[0],bn=vn[1],hn=O.useRef(null),pn=ba({getCurrentPage:function(){return jt.current.pageIndex}}),mn=O.useState(Ye),fn=mn[0],xn=mn[1],In=Ve(fn),Rn=O.useState(!1),Sn=Rn[0],Pn=Rn[1],Ln=O.useState(new Map),Tt=Ln[0],$t=Ln[1],St=O.useState(st),xt=St[0],Ct=St[1],It=Ve(xt),Ot=O.useState(mt),At=Ot[0],Et=Ot[1],Nt=Ve(At),Vt=function(dt){var Dt=Je(),qt=O.useState([]),tn=qt[0],Qt=qt[1];return O.useEffect(function(){dt.getOutline().then(function(Gt){if(Dt.current&&Gt!==null){var En=ri(Gt);Qt(En)}})},[]),tn}(Fe),sn=O.useState(He),rn=sn[0],Cn=sn[1],$n=Ve(rn),jt=O.useRef(ft),wn=O.useRef(typeof Pe=="string"?Pe:null),cn=O.useRef(-1),un=O.useRef(-1),_n=O.useRef(Be),nn=Ea({getCurrentPage:function(){return jt.current.pageIndex},getCurrentScrollMode:function(){return jt.current.scrollMode},jumpToPage:function(dt){return Bn(dt)},targetRef:en}),Nn=O.useState(-1),Jn=Nn[0],hr=Nn[1],qn=O.useState(0),or=qn[0],Pa=qn[1],Mn=et({doc:Fe});O.useEffect(function(){return function(){vt.clear(),wt.clear()}},[Mt]);var ci=O.useMemo(function(){return Object.assign({},ya,Oe)},[]),$a=O.useMemo(function(){return Array(Ft).fill(0).map(function(dt,Dt){var qt=[Ge[Dt].pageHeight,Ge[Dt].pageWidth],tn=Math.abs(fn)%180==0?{height:qt[0],width:qt[1]}:{height:qt[1],width:qt[0]},Qt={height:tn.height*rn,width:tn.width*rn};return ci.transformSize({numPages:Ft,pageIndex:Dt,size:Qt})})},[fn,rn]),an=va({enableSmoothScroll:De,isRtl:Yt,numberOfItems:Ft,parentRef:en,scrollMode:xt,setRenderRange:it,sizes:$a,viewMode:At}),Ma=Xe(function(){!wn.current||jt.current.fullScreenMode!==A.FullScreenMode.Normal||Be>0&&_n.current===Be||Gn(wn.current)},200);(function(dt){var Dt=dt.targetRef,qt=dt.onResize;te(function(){var tn=new ResizeObserver(function(Gt){Gt.forEach(function(En){qt(En.target)})}),Qt=Dt.current;if(Qt)return tn.observe(Qt),function(){tn.unobserve(Qt)}},[])})({targetRef:en,onResize:Ma});var jn=function(dt){var Dt=dt;qe.forEach(function(qt){qt.onViewerStateChange&&(Dt=qt.onViewerStateChange(Dt))}),jt.current=Dt},Ta=function(){return en.current},Ra=function(){return jt.current},Fa=O.useCallback(function(dt){pn.markVisitedDestination(dt)},[]),xr=O.useCallback(function(dt){var Dt=dt.pageIndex,qt=dt.bottomOffset,tn=dt.leftOffset,Qt=dt.scaleTo,Gt=en.current,En=jt.current;return Gt&&En?new Promise(function(zn,Tr){ot(Fe,Dt).then(function(fr){var Vn=fr.getViewport({scale:1}),pr=0,gi=(typeof qt=="function"?qt(Vn.width,Vn.height):qt)||0,mr=(typeof tn=="function"?tn(Vn.width,Vn.height):tn)||0,Qn=En.scale;switch(Qt){case A.SpecialZoomLevel.PageFit:pr=0,mr=0,Gn(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:Qn=yr(Gt,Ge[Dt].pageHeight,Ge[Dt].pageWidth,A.SpecialZoomLevel.PageWidth,mt,Ft),pr=(Vn.height-gi)*Qn,mr*=Qn,Gn(Qn);break;default:pr=(Vn.height-gi)*Qn,mr*=Qn}switch(En.scrollMode){case A.ScrollMode.Horizontal:an.scrollToItem(Dt,{left:mr,top:0}).then(function(){zn()});break;case A.ScrollMode.Vertical:default:an.scrollToItem(Dt,{left:0,top:pr}).then(function(){zn()})}})}):Promise.resolve()},[]),li=O.useCallback(function(dt){return pn.markVisitedDestination(dt),xr(dt)},[]),Ia=O.useCallback(function(){var dt=pn.getNextDestination();return dt?xr(dt):Promise.resolve()},[]),Oa=O.useCallback(function(){var dt=pn.getPreviousDestination();return dt?xr(dt):Promise.resolve()},[]),La=O.useCallback(function(){return an.scrollToNextItem(jt.current.pageIndex,Zn)},[]),Bn=O.useCallback(function(dt){return 0<=dt&&dt<Ft?an.scrollToItem(dt,Zn):Promise.resolve()},[]),Da=O.useCallback(function(){return an.scrollToPreviousItem(jt.current.pageIndex,Zn)},[]),ui=O.useCallback(function(dt){var Dt,qt;(Dt=dt.name,qt=Dt.split(/\./).pop(),qt?qt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(tn){var Qt=new FileReader;Qt.readAsArrayBuffer(dt),Qt.onload=function(){var Gt=new Uint8Array(Qt.result);tn(Gt)}}).then(function(tn){Bt(dt.name,tn)})},[Bt]),di=O.useCallback(function(dt){var Dt=dt===A.RotateDirection.Backward?-90:90,qt=jt.current.rotation,tn=qt===360||qt===-360?Dt:qt+Dt;Mn.markNotRendered(),xn(tn),jn(ne(ne({},jt.current),{rotation:tn})),Pt({direction:dt,doc:Fe,rotation:tn})},[]),Ar=O.useCallback(function(dt,Dt){var qt=Dt===A.RotateDirection.Backward?-90:90,tn=jt.current.pagesRotation,Qt=(tn.has(dt)?tn.get(dt):Ye)+qt,Gt=tn.set(dt,Qt);$t(Gt),Pn(function(En){return!En}),jn(ne(ne({},jt.current),{pagesRotation:Gt,rotatedPage:dt})),Rt({direction:Dt,doc:Fe,pageIndex:dt,rotation:Qt}),Mn.markRendering(dt),hr(dt)},[]),hi=O.useCallback(function(dt){jn(ne(ne({},jt.current),{scrollMode:dt})),Ct(dt)},[]),fi=O.useCallback(function(dt){jn(ne(ne({},jt.current),{viewMode:dt})),Et(dt)},[]),Gn=O.useCallback(function(dt){var Dt=en.current,qt=jt.current.pageIndex;if(!(qt<0||qt>=Ft)){var tn=Ge[qt].pageHeight,Qt=Ge[qt].pageWidth,Gt=Dt?typeof dt=="string"?yr(Dt,tn,Qt,dt,jt.current.viewMode,Ft):dt:1;wn.current=typeof dt=="string"?dt:null,Gt!==jt.current.scale&&(Pa(function(En){return En+1}),Mn.markNotRendered(),Cn(Gt),yt({doc:Fe,scale:Gt}),jn(ne(ne({},jt.current),{scale:Gt})))}},[]),Na=O.useCallback(function(dt){nn.enterFullScreenMode(dt)},[]),ja=O.useCallback(function(){nn.exitFullScreenMode()},[]);O.useEffect(function(){jn(ne(ne({},jt.current),{fullScreenMode:nn.fullScreenMode}))},[nn.fullScreenMode]),O.useEffect(function(){var dt={enterFullScreenMode:Na,exitFullScreenMode:ja,getPagesContainer:Ta,getViewerState:Ra,jumpToDestination:li,jumpToNextDestination:Ia,jumpToPreviousDestination:Oa,jumpToNextPage:La,jumpToPreviousPage:Da,jumpToPage:Bn,openFile:ui,rotate:di,rotatePage:Ar,setViewerState:jn,switchScrollMode:hi,switchViewMode:fi,zoom:Gn};return qe.forEach(function(Dt){Dt.install&&Dt.install(dt)}),function(){qe.forEach(function(Dt){Dt.uninstall&&Dt.uninstall(dt)})}},[Mt]),O.useEffect(function(){ht({doc:Fe,file:fe}),qe.forEach(function(dt){dt.onDocumentLoad&&dt.onDocumentLoad({doc:Fe,file:fe})})},[Mt]);var kr,Pr,$r,pi=an.boundingClientRect;kr=function(){Be&&Bn(Be)},Pr=pi.height>0&&pi.width>0,$r=O.useRef(!1),te(function(){Pr&&!$r.current&&($r.current=!0,kr())},[kr,Pr]),te(function(){var dt=jt.current.pageIndex;dt>-1&&It!==xt&&an.scrollToItem(dt,Zn).then(function(){nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(De||Mn.markNotRendered(),cn.current=-1)})},[xt]),te(function(){var dt=jt.current.pageIndex;dt>-1&&In!==fn&&an.scrollToItem(dt,Zn)},[fn]),te(function(){$n!=0&&$n!=jt.current.scale&&an.zoom(jt.current.scale/$n,jt.current.pageIndex).then(function(){nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(un.current=-1)})},[rn]),te(function(){if(Nt!==jt.current.viewMode){var dt=an.startPage,Dt=an.endPage,qt=an.virtualItems;Mn.markNotRendered(),Mn.setRange(dt,Dt);for(var tn=function(Gt){var En=qt.find(function(zn){return zn.index===Gt});En&&Mn.setVisibility(Gt,En.visibility)},Qt=dt;Qt<=Dt;Qt++)tn(Qt);Mr()}},[At]),te(function(){var dt=jt.current.pageIndex;dt>-1&&Nt!==At&&an.scrollToItem(dt,Zn)},[At]),te(function(){var dt=jt.current.pageIndex;dt>0&&dt===Be&&_n.current===Be&&wn.current&&(_n.current=-1,Gn(wn.current))},[ln]),O.useEffect(function(){an.isSmoothScrolling||hn.current!==null&&hn.current===ln||(hn.current=ln,kt({currentPage:ln,doc:Fe}))},[ln,an.isSmoothScrolling]),O.useEffect(function(){nn.fullScreenMode===A.FullScreenMode.Entering&&jt.current.scrollMode===A.ScrollMode.Page&&(cn.current=jt.current.pageIndex),nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&jt.current.scrollMode===A.ScrollMode.Page&&De&&(cn.current=-1),nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&wn.current&&(un.current=jt.current.pageIndex,Gn(wn.current))},[nn.fullScreenMode]),O.useEffect(function(){if(nn.fullScreenMode!==A.FullScreenMode.Entering&&nn.fullScreenMode!==A.FullScreenMode.Exitting&&!an.isSmoothScrolling){var dt=an.startPage,Dt=an.endPage,qt=an.maxVisbilityIndex,tn=an.virtualItems,Qt=qt,Gt=nn.fullScreenMode===A.FullScreenMode.Entered||nn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(Gt&&Qt!==cn.current&&cn.current>-1||Gt&&Qt!==un.current&&un.current>-1)){bn(Qt),jn(ne(ne({},jt.current),{pageIndex:Qt})),Mn.setRange(dt,Dt);for(var En=function(Tr){var fr=tn.find(function(Vn){return Vn.index===Tr});fr&&Mn.setVisibility(Tr,fr.visibility)},zn=dt;zn<=Dt;zn++)En(zn);Mr()}}},[an.startPage,an.endPage,an.isSmoothScrolling,an.maxVisbilityIndex,nn.fullScreenMode,Sn,fn,rn]);var Ba=O.useCallback(function(dt){Mn.markRendered(dt),Mr()},[or]),Mr=function(){var dt=Mn.getHighestPriorityPage();dt>-1&&Mn.isInRange(dt)&&(Mn.markRendering(dt),hr(dt))},za=function(dt){var Dt=ln-1,qt=ln+1;switch(dt){case"FirstPage":Bn(0);break;case"LastPage":Bn(Ft-1);break;case"NextPage":qt<Ft&&Bn(qt);break;case"PrevPage":Dt>=0&&Bn(Dt)}},Va=O.useCallback(function(){var dt=an.virtualItems,Dt=[];switch(At){case A.ViewMode.DualPage:Dt=at(dt,2);break;case A.ViewMode.DualPageWithCover:dt.length&&(Dt=dt[0].index===0?[[dt[0]]].concat(at(dt.slice(1),2)):at(dt,2));break;case A.ViewMode.SinglePage:default:Dt=at(dt,1)}var qt=Kt&&Kt.core?Kt.core.pageLabel:"Page {{pageIndex}}",tn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Jt,style:{height:"100%"}},children:O.createElement(O.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ee({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":xt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Yt,"rpv-core__inner-pages--single":xt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":xt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":xt===A.ScrollMode.Wrapped}),ref:en,style:{height:"100%",position:"relative"}},children:O.createElement("div",{"data-testid":"core__inner-current-page-".concat(ln),style:Object.assign({"--scale-factor":rn},an.getContainerStyles())},Dt.map(function(Qt){return O.createElement("div",{className:ee({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":xt===A.ScrollMode.Page}),style:an.getItemContainerStyles(Qt[0]),key:"".concat(Qt[0].index,"-").concat(At)},Qt.map(function(Gt){var En=At===A.ViewMode.DualPageWithCover&&(Gt.index===0||Ft%2==0&&Gt.index===Ft-1);return O.createElement("div",{"aria-label":qt.replace("{{pageIndex}}","".concat(Gt.index+1)),className:ee({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":At===A.ViewMode.DualPage&&Gt.index%2==0,"rpv-core__inner-page--dual-odd":At===A.ViewMode.DualPage&&Gt.index%2==1,"rpv-core__inner-page--dual-cover":En,"rpv-core__inner-page--dual-cover-even":At===A.ViewMode.DualPageWithCover&&!En&&Gt.index%2==0,"rpv-core__inner-page--dual-cover-odd":At===A.ViewMode.DualPageWithCover&&!En&&Gt.index%2==1,"rpv-core__inner-page--single":At===A.ViewMode.SinglePage&&xt===A.ScrollMode.Page}),role:"region",key:"".concat(Gt.index,"-").concat(At),style:Object.assign({},an.getItemStyles(Gt),ci.buildPageStyles({numPages:Ft,pageIndex:Gt.index,scrollMode:xt,viewMode:At}))},O.createElement(sa,{doc:Fe,measureRef:Gt.measureRef,outlines:Vt,pageIndex:Gt.index,pageRotation:Tt.has(Gt.index)?Tt.get(Gt.index):0,pageSize:Ge[Gt.index],plugins:qe,renderPage:ct,renderQueueKey:or,rotation:fn,scale:rn,shouldRender:Jn===Gt.index,viewMode:At,onExecuteNamedAction:za,onJumpFromLinkAnnotation:Fa,onJumpToDest:li,onRenderCompleted:Ba,onRotatePage:Ar}))}))}))}};return qe.forEach(function(Qt){Qt.renderViewer&&(tn=Qt.renderViewer({containerRef:Jt,doc:Fe,pagesContainerRef:en,pagesRotation:Tt,pageSizes:Ge,rotation:fn,slot:tn,themeContext:Xt,jumpToPage:Bn,openFile:ui,rotate:di,rotatePage:Ar,switchScrollMode:hi,switchViewMode:fi,zoom:Gn}))}),tn},[qe,an]),mi=O.useCallback(function(dt){return O.createElement("div",ne({},dt.attrs,{style:dt.attrs&&dt.attrs.style?dt.attrs.style:{}}),dt.children,dt.subSlot&&mi(dt.subSlot))},[]);return mi(Va())},ai=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ca=function(J){var fe=J.defaultScale,Pe=J.doc,Fe=J.render,De=J.scrollMode,Be=J.viewMode,Ye=O.useRef(),He=O.useState({pageSizes:[],scale:0}),Oe=He[0],Ge=He[1];return O.useLayoutEffect(function(){var qe=Array(Pe.numPages).fill(0).map(function(ct,st){return new Promise(function(it,mt){ot(Pe,st).then(function(ft){var ht=ft.getViewport({scale:1});it({pageHeight:ht.height,pageWidth:ht.width,rotation:ht.rotation})})})});Promise.all(qe).then(function(ct){var st=Ye.current;if(st&&ct.length!==0){var it=ct[0].pageWidth,mt=ct[0].pageHeight,ft=st.parentElement,ht=(ft.clientWidth-45)/it,Bt=(ft.clientHeight-45)/mt,kt=ht;switch(De){case A.ScrollMode.Horizontal:kt=Math.min(ht,Bt);break;case A.ScrollMode.Vertical:default:kt=ht}var Pt,Rt,yt=fe?typeof fe=="string"?yr(ft,mt,it,fe,Be,Pe.numPages):fe:(Pt=kt,(Rt=ai.findIndex(function(Ft){return Ft>=Pt}))===-1||Rt===0?Pt:ai[Rt-1]);Ge({pageSizes:ct,scale:yt})}})},[Pe.loadingTask.docId]),Oe.pageSizes.length===0||Oe.scale===0?O.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Ye},O.createElement(W,null)):Fe(Oe.pageSizes,Oe.scale)},dr=function(){},Cr=function(J){function fe(Pe,Fe){var De=J.call(this)||this;return De.verifyPassword=Pe,De.passwordStatus=Fe,De}return me(fe,J),fe}(dr),wa=function(J){var fe=J.passwordStatus,Pe=J.renderProtectedView,Fe=J.verifyPassword,De=J.onDocumentAskPassword,Be=O.useContext(we).l10n,Ye=O.useState(""),He=Ye[0],Oe=Ye[1],Ge=O.useContext(oe).direction===A.TextDirection.RightToLeft,qe=function(){return Fe(He)};return O.useEffect(function(){De&&De({verifyPassword:Fe})},[]),Pe?Pe({passwordStatus:fe,verifyPassword:Fe}):O.createElement("div",{className:"rpv-core__asking-password-wrapper"},O.createElement("div",{className:ee({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Ge})},O.createElement("div",{className:"rpv-core__asking-password-message"},fe===A.PasswordStatus.RequiredPassword&&Be.core.askingPassword.requirePasswordToOpen,fe===A.PasswordStatus.WrongPassword&&Be.core.wrongPassword.tryAgain),O.createElement("div",{className:"rpv-core__asking-password-body"},O.createElement("div",{className:ee({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Ge,"rpv-core__asking-password-input--rtl":Ge})},O.createElement(X,{testId:"core__asking-password-input",type:"password",value:He,onChange:Oe,onKeyDown:function(ct){ct.key==="Enter"&&qe()}})),O.createElement(Q,{onClick:qe},Be.core.askingPassword.submit))))},oi=function(J){function fe(Pe){var Fe=J.call(this)||this;return Fe.doc=Pe,Fe}return me(fe,J),fe}(dr),si=function(J){function fe(Pe){var Fe=J.call(this)||this;return Fe.error=Pe,Fe}return me(fe,J),fe}(dr),wr=function(J){function fe(Pe){var Fe=J.call(this)||this;return Fe.percentages=Pe,Fe}return me(fe,J),fe}(dr),xa=function(J){var fe=J.characterMap,Pe=J.file,Fe=J.httpHeaders,De=J.render,Be=J.renderError,Ye=J.renderLoader,He=J.renderProtectedView,Oe=J.transformGetDocumentParams,Ge=J.withCredentials,qe=J.onDocumentAskPassword,ct=O.useContext(oe).direction===A.TextDirection.RightToLeft,st=O.useState(new wr(0)),it=st[0],mt=st[1],ft=O.useRef(""),ht=Je();return O.useEffect(function(){ft.current="",mt(new wr(0));var Bt=new re.PDFWorker({name:"PDFWorker_".concat(Date.now())}),kt=Object.assign({httpHeaders:Fe,withCredentials:Ge,worker:Bt},typeof Pe=="string"?{url:Pe}:{data:Pe},fe?{cMapUrl:fe.url,cMapPacked:fe.isCompressed}:{}),Pt=Oe?Oe(kt):kt,Rt=re.getDocument(Pt);return Rt.onPassword=function(yt,Ft){switch(Ft){case re.PasswordResponses.NEED_PASSWORD:ht.current&&mt(new Cr(yt,A.PasswordStatus.RequiredPassword));break;case re.PasswordResponses.INCORRECT_PASSWORD:ht.current&&mt(new Cr(yt,A.PasswordStatus.WrongPassword))}},Rt.onProgress=function(yt){var Ft=yt.total>0?Math.min(100,100*yt.loaded/yt.total):100;ht.current&&ft.current===""&&mt(new wr(Ft))},Rt.promise.then(function(yt){ft.current=yt.loadingTask.docId,ht.current&&mt(new oi(yt))},function(yt){return ht.current&&!Bt.destroyed&&mt(new si({message:yt.message||"Cannot load document",name:yt.name}))}),function(){Rt.destroy(),Bt.destroy()}},[Pe]),it instanceof Cr?O.createElement(wa,{passwordStatus:it.passwordStatus,renderProtectedView:He,verifyPassword:it.verifyPassword,onDocumentAskPassword:qe}):it instanceof oi?De(it.doc):it instanceof si?Be?Be(it.error):O.createElement("div",{className:ee({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ct})},O.createElement("div",{className:"rpv-core__doc-error-text"},it.error.message)):O.createElement("div",{"data-testid":"core__doc-loading",className:ee({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ct})},Ye?Ye(it.percentages):O.createElement(W,null))},Aa=function(J,fe){var Pe=O.useMemo(function(){return J==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":J},[]),Fe=O.useState(Pe),De=Fe[0],Be=Fe[1],Ye=Ve(De);return O.useEffect(function(){if(J==="auto"){var He=window.matchMedia("(prefers-color-scheme: dark)"),Oe=function(Ge){Be(Ge.matches?"dark":"light")};return He.addEventListener("change",Oe),function(){return He.removeEventListener("change",Oe)}}},[]),O.useEffect(function(){De!==Ye&&fe&&fe(De)},[De]),O.useEffect(function(){J!==De&&Be(J)},[J]),{currentTheme:De,setCurrentTheme:Be}},ka=function(J){return{startPage:J.startPage-3,endPage:J.endPage+3}};A.Button=function(J){var fe=J.children,Pe=J.testId,Fe=J.onClick,De=O.useContext(oe).direction===A.TextDirection.RightToLeft,Be=Pe?{"data-testid":Pe}:{};return O.createElement("button",ne({className:ee({"rpv-core__button":!0,"rpv-core__button--rtl":De}),type:"button",onClick:Fe},Be),fe)},A.Icon=U,A.LazyRender=function(J){var fe=J.attrs,Pe=J.children,Fe=J.testId,De=O.useState(!1),Be=De[0],Ye=De[1],He=Fe?ne(ne({},fe),{"data-testid":Fe}):fe,Oe=G({once:!0,onVisibilityChanged:function(Ge){Ge.isVisible&&Ye(!0)}});return O.createElement("div",ne({ref:Oe},He),Be&&Pe)},A.LocalizationContext=we,A.Menu=function(J){var fe=J.children,Pe=O.useRef(),Fe=O.useRef([]),De=O.useContext(oe).direction===A.TextDirection.RightToLeft,Be=function(He){if(Pe.current)switch(He.key){case"Tab":He.preventDefault();break;case"ArrowDown":He.preventDefault(),Ye(function(Oe,Ge){return Ge+1});break;case"ArrowUp":He.preventDefault(),Ye(function(Oe,Ge){return Ge-1});break;case"End":He.preventDefault(),Ye(function(Oe,Ge){return Oe.length-1});break;case"Home":He.preventDefault(),Ye(function(Oe,Ge){return 0})}},Ye=function(He){if(Pe.current){var Oe=Fe.current,Ge=Oe.findIndex(function(ct){return ct.getAttribute("tabindex")==="0"}),qe=Math.min(Oe.length-1,Math.max(0,He(Oe,Ge)));Ge>=0&&Ge<=Oe.length-1&&Oe[Ge].setAttribute("tabindex","-1"),Oe[qe].setAttribute("tabindex","0"),Oe[qe].focus()}};return te(function(){var He=Pe.current;if(He){var Oe=function(Ge){var qe=[];return Ge.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(ct){if(ct instanceof HTMLElement){var st=ct.parentElement;(st===Ge||window.getComputedStyle(st).display!=="none")&&qe.push(ct)}}),qe}(He);Fe.current=Oe}},[]),te(function(){return document.addEventListener("keydown",Be),function(){document.removeEventListener("keydown",Be)}},[]),O.createElement("div",{ref:Pe,"aria-orientation":"vertical",className:ee({"rpv-core__menu":!0,"rpv-core__menu--rtl":De}),role:"menu",tabIndex:0},fe)},A.MenuDivider=function(){return O.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(J){var fe=J.checked,Pe=fe!==void 0&&fe,Fe=J.children,De=J.icon,Be=De===void 0?null:De,Ye=J.isDisabled,He=Ye!==void 0&&Ye,Oe=J.testId,Ge=J.onClick,qe=O.useContext(oe).direction===A.TextDirection.RightToLeft,ct=Oe?{"data-testid":Oe}:{};return O.createElement("button",ne({className:ee({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":He,"rpv-core__menu-item--ltr":!qe,"rpv-core__menu-item--rtl":qe}),role:"menuitem",tabIndex:-1,type:"button",onClick:Ge},ct),O.createElement("div",{className:ee({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!qe,"rpv-core__menu-item-icon--rtl":qe})},Be),O.createElement("div",{className:ee({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!qe,"rpv-core__menu-item-label--rtl":qe})},Fe),O.createElement("div",{className:ee({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!qe,"rpv-core__menu-item-check--rtl":qe})},Pe&&O.createElement(Y,null)))},A.MinimalButton=function(J){var fe=J.ariaLabel,Pe=fe===void 0?"":fe,Fe=J.ariaKeyShortcuts,De=Fe===void 0?"":Fe,Be=J.children,Ye=J.isDisabled,He=Ye!==void 0&&Ye,Oe=J.isSelected,Ge=Oe!==void 0&&Oe,qe=J.testId,ct=J.onClick,st=O.useContext(oe).direction===A.TextDirection.RightToLeft,it=qe?{"data-testid":qe}:{};return O.createElement("button",ne({"aria-label":Pe},De&&{"aria-keyshortcuts":De},He&&{"aria-disabled":!0},{className:ee({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":He,"rpv-core__minimal-button--rtl":st,"rpv-core__minimal-button--selected":Ge}),type:"button",onClick:ct},it),Be)},A.Modal=function(J){var fe=J.ariaControlsSuffix,Pe=J.closeOnClickOutside,Fe=J.closeOnEscape,De=J.content,Be=J.isOpened,Ye=Be!==void 0&&Be,He=J.target,Oe=fe||"".concat(ie());return O.createElement(rt,{target:He?function(Ge,qe){return O.createElement("div",{"aria-expanded":qe?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Oe)},He(Ge,qe))}:null,content:function(Ge){return O.createElement(Se,null,O.createElement(Ae,{ariaControlsSuffix:Oe,closeOnClickOutside:Pe,closeOnEscape:Fe,onToggle:Ge},De(Ge)))},isOpened:Ye})},A.Popover=function(J){var fe=J.ariaHasPopup,Pe=fe===void 0?"dialog":fe,Fe=J.ariaControlsSuffix,De=J.closeOnClickOutside,Be=J.closeOnEscape,Ye=J.content,He=J.lockScroll,Oe=He===void 0||He,Ge=J.offset,qe=J.position,ct=J.target,st=Ze(!1),it=st.opened,mt=st.toggle,ft=O.useRef(),ht=O.useMemo(function(){return Fe||"".concat(ie())},[]);return O.createElement("div",{ref:ft,"aria-expanded":it?"true":"false","aria-haspopup":Pe,"aria-controls":"rpv-core__popver-body-".concat(ht)},ct(mt,it),it&&O.createElement(O.Fragment,null,Oe&&O.createElement(Ie,{closeOnEscape:Be,onClose:mt}),O.createElement(Ce,{ariaControlsSuffix:ht,closeOnClickOutside:De,offset:Ge,position:qe,targetRef:ft,onClose:mt},Ye(mt))))},A.PrimaryButton=Q,A.ProgressBar=function(J){var fe=J.progress,Pe=O.useContext(oe).direction===A.TextDirection.RightToLeft;return O.createElement("div",{className:ee({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Pe})},O.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(fe,"%")}},fe,"%"))},A.Separator=function(){return O.createElement("div",{className:"rpv-core__separator"})},A.Spinner=W,A.Splitter=function(J){var fe=J.constrain,Pe=O.useContext(oe).direction===A.TextDirection.RightToLeft,Fe=O.useRef(),De=O.useRef(),Be=O.useRef(),Ye=O.useRef(0),He=O.useRef(0),Oe=O.useRef(0),Ge=O.useRef(0),qe={capture:!0},ct=function(it){var mt=Fe.current,ft=De.current,ht=Be.current;if(mt&&ft&&ht){var Bt=Ge.current,kt=it.clientX-Ye.current,Pt=Oe.current+(Pe?-kt:kt),Rt=mt.parentElement.getBoundingClientRect().width,yt=100*Pt/Rt;if(mt.classList.add("rpv-core__splitter--resizing"),fe){var Ft=Rt-Pt-Bt;if(!fe({firstHalfPercentage:yt,firstHalfSize:Pt,secondHalfPercentage:100*Ft/Rt,secondHalfSize:Ft}))return}ft.style.width="".concat(yt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ft.classList.add("rpv-core__splitter-sibling--resizing"),ht.classList.add("rpv-core__splitter-sibling--resizing")}},st=function(it){var mt=Fe.current,ft=De.current,ht=Be.current;mt&&ft&&ht&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),mt.classList.remove("rpv-core__splitter--resizing"),ft.classList.remove("rpv-core__splitter-sibling--resizing"),ht.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ct,qe),document.removeEventListener("mouseup",st,qe))};return O.useEffect(function(){var it=Fe.current;it&&(Ge.current=it.getBoundingClientRect().width,De.current=it.previousElementSibling,Be.current=it.nextElementSibling)},[]),O.createElement("div",{ref:Fe,className:"rpv-core__splitter",onMouseDown:function(it){var mt=De.current;mt&&(Ye.current=it.clientX,He.current=it.clientY,Oe.current=mt.getBoundingClientRect().width,document.addEventListener("mousemove",ct,qe),document.addEventListener("mouseup",st,qe))}})},A.TextBox=X,A.ThemeContext=oe,A.Tooltip=function(J){var fe=J.ariaControlsSuffix,Pe=J.content,Fe=J.offset,De=J.position,Be=J.target,Ye=Ze(!1),He=Ye.opened,Oe=Ye.toggle,Ge=O.useRef(),qe=O.useRef(),ct=O.useMemo(function(){return fe||"".concat(ie())},[]);xe(function(){Ge.current&&document.activeElement&&Ge.current.contains(document.activeElement)&&it()});var st=function(){Oe(A.ToggleStatus.Open)},it=function(){Oe(A.ToggleStatus.Close)};return O.createElement(O.Fragment,null,O.createElement("div",{ref:Ge,"aria-describedby":"rpv-core__tooltip-body-".concat(ct),onBlur:function(mt){mt.relatedTarget instanceof HTMLElement&&mt.currentTarget.parentElement&&mt.currentTarget.parentElement.contains(mt.relatedTarget)?qe.current&&(qe.current.style.display="none"):it()},onFocus:st,onMouseEnter:st,onMouseLeave:it},Be),He&&O.createElement(Re,{ariaControlsSuffix:ct,contentRef:qe,offset:Fe,position:De,targetRef:Ge},Pe()))},A.Viewer=function(J){var fe=J.characterMap,Pe=J.defaultScale,Fe=J.enableSmoothScroll,De=Fe===void 0||Fe,Be=J.fileUrl,Ye=J.httpHeaders,He=Ye===void 0?{}:Ye,Oe=J.initialPage,Ge=Oe===void 0?0:Oe,qe=J.pageLayout,ct=J.initialRotation,st=ct===void 0?0:ct,it=J.localization,mt=J.plugins,ft=mt===void 0?[]:mt,ht=J.renderError,Bt=J.renderLoader,kt=J.renderPage,Pt=J.renderProtectedView,Rt=J.scrollMode,yt=Rt===void 0?A.ScrollMode.Vertical:Rt,Ft=J.setRenderRange,Mt=Ft===void 0?ka:Ft,Kt=J.transformGetDocumentParams,Xt=J.theme,Yt=Xt===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Xt,Jt=J.viewMode,en=Jt===void 0?A.ViewMode.SinglePage:Jt,vn=J.withCredentials,ln=vn!==void 0&&vn,bn=J.onDocumentAskPassword,hn=J.onDocumentLoad,pn=hn===void 0?function(){}:hn,mn=J.onPageChange,fn=mn===void 0?function(){}:mn,xn=J.onRotate,In=xn===void 0?function(){}:xn,Rn=J.onRotatePage,Sn=Rn===void 0?function(){}:Rn,Pn=J.onSwitchTheme,Ln=Pn===void 0?function(){}:Pn,Tt=J.onZoom,$t=Tt===void 0?function(){}:Tt,St=O.useState({data:Be,name:typeof Be=="string"?Be:"",shouldLoad:!1}),xt=St[0],Ct=St[1],It=function(cn,un){Ct({data:un,name:cn,shouldLoad:!0})},Ot=O.useState(!1),At=Ot[0],Et=Ot[1],Nt=Ve(xt);O.useEffect(function(){var cn,un,_n,nn;cn=Nt.data,nn=typeof(un=Be),(_n=typeof cn)=="string"&&nn==="string"&&cn===un||_n==="object"&&nn==="object"&&cn.length===un.length&&cn.every(function(Nn,Jn){return Nn===un[Jn]})||Ct({data:Be,name:typeof Be=="string"?Be:"",shouldLoad:At})},[Be,At]);var Vt=G({onVisibilityChanged:function(cn){Et(cn.isVisible),cn.isVisible&&Ct(function(un){return Object.assign({},un,{shouldLoad:!0})})}}),sn=typeof Yt=="string"?{direction:A.TextDirection.LeftToRight,theme:Yt}:Yt,rn=O.useState(it||tt),Cn=rn[0],$n=rn[1],jt={l10n:Cn,setL10n:$n},wn=Object.assign({},{direction:sn.direction},Aa(sn.theme||"light",Ln));return O.useEffect(function(){it&&$n(it)},[it]),O.createElement(we.Provider,{value:jt},O.createElement(oe.Provider,{value:wn},O.createElement("div",{ref:Vt,className:"rpv-core__viewer rpv-core__viewer--".concat(wn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},xt.shouldLoad&&O.createElement(xa,{characterMap:fe,file:xt.data,httpHeaders:He,render:function(cn){return O.createElement(Ca,{defaultScale:Pe,doc:cn,render:function(un,_n){return O.createElement(Sa,{currentFile:{data:xt.data,name:xt.name},defaultScale:Pe,doc:cn,enableSmoothScroll:De,initialPage:Ge,initialRotation:st,initialScale:_n,pageLayout:qe,pageSizes:un,plugins:ft,renderPage:kt,scrollMode:yt,setRenderRange:Mt,viewMode:en,viewerState:{file:xt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:un[0].pageHeight,pageWidth:un[0].pageWidth,pagesRotation:new Map,rotation:st,scale:_n,scrollMode:yt,viewMode:en},onDocumentLoad:pn,onOpenFile:It,onPageChange:fn,onRotate:In,onRotatePage:Sn,onZoom:$t})},scrollMode:yt,viewMode:en})},renderError:ht,renderLoader:Bt,renderProtectedView:Pt,transformGetDocumentParams:Kt,withCredentials:ln,onDocumentAskPassword:bn}))))},A.Worker=function(J){var fe=J.children,Pe=J.workerUrl;return re.GlobalWorkerOptions.workerSrc=Pe,O.createElement(O.Fragment,null,fe)},A.chunk=at,A.classNames=ee,A.createStore=function(J){var fe=J||{},Pe={},Fe=function(Be,Ye){var He;fe=ne(ne({},fe),((He={})[Be]=Ye,He)),(Pe[Be]||[]).forEach(function(Oe){return Oe(fe[Be])})},De=function(Be){return fe[Be]};return{subscribe:function(Be,Ye){Pe[Be]=(Pe[Be]||[]).concat(Ye)},unsubscribe:function(Be,Ye){Pe[Be]=(Pe[Be]||[]).filter(function(He){return He!==Ye})},update:function(Be,Ye){Fe(Be,Ye)},updateCurrentValue:function(Be,Ye){var He=De(Be);He!==void 0&&Fe(Be,Ye(He))},get:function(Be){return De(Be)}}},A.getDestination=Ke,A.getPage=ot,A.isFullScreenEnabled=Me,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=Xe,A.useIntersectionObserver=G,A.useIsMounted=Je,A.useIsomorphicLayoutEffect=te,A.usePrevious=Ve,A.useRenderQueue=et})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,V=n$e.useRef(),B=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=n$e.useRef([]),re=B&&B.attachment?B.attachment.clickToDownload:"Click to download",he=function(me){var se=V.current,ne=[].slice.call(se.getElementsByClassName("rpv-attachment__item"));if(ne.length!==0){ne.forEach(function(ee){return ee.setAttribute("tabindex","-1")});var ve=document.activeElement,oe=ne[Math.min(ne.length-1,Math.max(0,me(ne,ve)))];oe.setAttribute("tabindex","0"),oe.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var me=V.current;if(me){var se=[].slice.call(me.getElementsByClassName("rpv-attachment__item"));if(O.current=se,se.length>0){var ne=se[0];ne.focus(),ne.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":R}),ref:V,tabIndex:-1,onKeyDown:function(me){switch(me.key){case"ArrowDown":me.preventDefault(),he(function(se,ne){return se.indexOf(ne)+1});break;case"ArrowUp":me.preventDefault(),he(function(se,ne){return se.indexOf(ne)-1});break;case"End":me.preventDefault(),he(function(se,ne){return se.length-1});break;case"Home":me.preventDefault(),he(function(se,ne){return 0})}}},$.map(function(me){return n$e.createElement("button",{className:"rpv-attachment__item",key:me.fileName,tabIndex:-1,title:re,type:"button",onClick:function(){return se=me.fileName,ne=me.data,ve=typeof ne=="string"?"":URL.createObjectURL(new Blob([ne],{type:""})),(oe=document.createElement("a")).style.display="none",oe.href=ve||se,oe.setAttribute("download",function(ee){var te=ee.split("/").pop();return te?te.split("#")[0].split("?")[0]:ee}(se)),document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),void(ve&&URL.revokeObjectURL(ve));var se,ne,ve,oe}},me.fileName)}))},r$e=function(A){var $=A.doc,V=n$e.useContext(e$e.LocalizationContext).l10n,B=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=V&&V.attachment?V.attachment.noAttachment:"There is no attachment",O=n$e.useState({files:[],isLoaded:!1}),re=O[0],he=O[1];return n$e.useEffect(function(){$.getAttachments().then(function(me){var se=me?Object.keys(me).map(function(ne){return{data:me[ne].content,fileName:me[ne].filename}}):[];he({files:se,isLoaded:!0})})},[$]),re.isLoaded?re.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":B})},R):n$e.createElement(a$e,{files:re.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,V=n$e.useState($.get("doc")),B=V[0],R=V[1],O=function(re){R(re)};return n$e.useEffect(function(){return $.subscribe("doc",O),function(){$.unsubscribe("doc",O)}},[]),B?n$e.createElement(r$e,{doc:B}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,V=A.depth,B=A.doc,R=A.index,O=A.isBookmarkExpanded,re=A.numberOfSiblings,he=A.pathFromRoot,me=A.renderBookmarkItem,se=A.store,ne=he?"".concat(he,".").concat(R):"".concat(R),ve=o$d.useMemo(function(){return function(pe){var ye=pe.count,Me=pe.items;if(ye>=0)return!1;var ze=Me.length;if(ze===0)return!1;for(var lt=Me.concat([]);lt.length>0;){var Xe=lt.shift(),Je=Xe.items;Xe.count&&Je&&Xe.count>0&&Je.length>0&&(ze+=Je.length,lt=lt.concat(Je))}return Math.abs(ye)===ze}($)},[$]),oe=se.get("bookmarkExpandedMap"),ee=O?O({bookmark:$,doc:B,depth:V,index:R}):oe.has(ne)?oe.get(ne):!ve,te=o$d.useState(ee),G=te[0],U=te[1],Y=$.items&&$.items.length>0,Q=function(){var pe=!G;se.updateCurrentValue("bookmarkExpandedMap",function(ye){return ye.set(ne,pe)}),U(pe)},W=function(){var pe=$.dest,ye=se.get("jumpToDestination");e$d.getDestination(B,pe).then(function(Me){ye&&ye(n$d({label:$.title},Me))})},X=function(){Y&&$.dest&&W()},H=function(){!Y&&$.dest&&W()},K=function(pe,ye){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*V,"rem")},onClick:pe},ye)},ue=function(pe,ye){return Y?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(V,"-").concat(R),onClick:Q},G?pe:ye):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},q=function(pe){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:pe},$.title)};return o$d.createElement("li",{"aria-expanded":G?"true":"false","aria-label":$.title,"aria-level":V+1,"aria-posinset":R+1,"aria-setsize":re,role:"treeitem",tabIndex:-1},me?me({bookmark:$,depth:V,hasSubItems:Y,index:R,isExpanded:G,path:ne,defaultRenderItem:K,defaultRenderTitle:q,defaultRenderToggle:ue,onClickItem:H,onClickTitle:X,onToggleSubItems:Q}):K(H,o$d.createElement(o$d.Fragment,null,ue(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),q(X))),Y&&G&&o$d.createElement(m$9,{bookmarks:$.items,depth:V+1,doc:B,isBookmarkExpanded:O,isRoot:!1,pathFromRoot:ne,renderBookmarkItem:me,store:se}))},m$9=function(A){var $=A.bookmarks,V=A.depth,B=V===void 0?0:V,R=A.doc,O=A.isBookmarkExpanded,re=A.isRoot,he=A.pathFromRoot,me=A.renderBookmarkItem,se=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:re?"tree":"group",tabIndex:-1},$.map(function(ne,ve){return o$d.createElement(c$d,{bookmark:ne,depth:B,doc:R,index:ve,isBookmarkExpanded:O,key:ve,numberOfSiblings:$.length,pathFromRoot:he,renderBookmarkItem:me,store:se})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,V=A.doc,B=A.isBookmarkExpanded,R=A.renderBookmarkItem,O=A.store,re=o$d.useRef(),he=function(ve){var oe=re.current;if(oe&&ve.target instanceof HTMLElement&&oe.contains(ve.target))switch(ve.key){case"ArrowDown":ve.preventDefault(),se(function(ee,te){return ee.indexOf(te)+1});break;case"ArrowLeft":ve.preventDefault(),ne(r$d.Collapse);break;case"ArrowRight":ve.preventDefault(),ne(r$d.Expand);break;case"ArrowUp":ve.preventDefault,se(function(ee,te){return ee.indexOf(te)-1});break;case"End":ve.preventDefault(),se(function(ee,te){return ee.length-1});break;case" ":case"Enter":case"Space":ve.preventDefault(),me();break;case"Home":ve.preventDefault(),se(function(ee,te){return 0})}},me=function(){var ve=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");ve&&ve.click()},se=function(ve){var oe=re.current,ee=[].slice.call(oe.getElementsByClassName("rpv-bookmark__item"));if(ee.length!==0){var te=document.activeElement,G=ee[Math.min(ee.length-1,Math.max(0,ve(ee,te)))];te.setAttribute("tabindex","-1"),G.setAttribute("tabindex","0"),G.focus()}},ne=function(ve){var oe=re.current;if([].slice.call(oe.getElementsByClassName("rpv-bookmark__item")).length!==0){var ee=document.activeElement.closest(".rpv-bookmark__item"),te=ve===r$d.Collapse?"true":"false";if(ee&&ee.parentElement.getAttribute("aria-expanded")===te){var G=ee.querySelector(".rpv-bookmark__toggle");G&&G.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),o$d.useEffect(function(){var ve=re.current;if(ve){var oe=[].slice.call(ve.getElementsByClassName("rpv-bookmark__item"));oe.length>0&&(oe[0].focus(),oe[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:re},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:V,isBookmarkExpanded:B,isRoot:!0,pathFromRoot:"",renderBookmarkItem:R,store:O}))},s$9=function(A){var $=A.doc,V=A.isBookmarkExpanded,B=A.renderBookmarkItem,R=A.store,O=o$d.useContext(e$d.LocalizationContext).l10n,re=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,he=o$d.useState({isLoaded:!1,items:[]}),me=he[0],se=he[1];return o$d.useEffect(function(){se({isLoaded:!1,items:[]}),$.getOutline().then(function(ne){se({isLoaded:!0,items:ne||[]})})},[$]),me.isLoaded?me.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":re})},O&&O.bookmark?O.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":re})},o$d.createElement(l$d,{bookmarks:me.items,doc:$,isBookmarkExpanded:V,renderBookmarkItem:B,store:R})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,V=A.renderBookmarkItem,B=A.store,R=o$d.useState(B.get("doc")),O=R[0],re=R[1],he=function(me){re(me)};return o$d.useEffect(function(){return B.subscribe("doc",he),function(){B.unsubscribe("doc",he)}},[]),O?o$d.createElement(s$9,{doc:O,isBookmarkExpanded:$,renderBookmarkItem:V,store:B}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function V(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(Y){if(Y!=="default"){var Q=Object.getOwnPropertyDescriptor(G,Y);Object.defineProperty(U,Y,Q.get?Q:{enumerable:!0,get:function(){return G[Y]}})}}),U.default=G,Object.freeze(U)}var B,R=V(reactExports);A.ThumbnailDirection=void 0,(B=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",B.Vertical="Vertical";var O=function(){return O=Object.assign||function(G){for(var U,Y=1,Q=arguments.length;Y<Q;Y++)for(var W in U=arguments[Y])Object.prototype.hasOwnProperty.call(U,W)&&(G[W]=U[W]);return G},O.apply(this,arguments)},re=function(G){var U=G.doc,Y=G.getPageIndex,Q=G.renderSpinner,W=G.store,X=G.width,H=U.numPages,K=Y?Y({numPages:H}):0,ue=Math.max(0,Math.min(K,H-1)),q=W.get("pagesRotation")||new Map,pe=q.has(ue)?q.get(ue):0,ye=R.useState(""),Me=ye[0],ze=ye[1],lt=$.useIsMounted(),Xe=R.useRef(),Je=R.useState(W.get("rotation")||0),Ve=Je[0],Le=Je[1],Ne=R.useState(pe),et=Ne[0],tt=Ne[1],we=R.useState(!1),le=we[0],ie=we[1],ge=function(Se){var je=Se.has(ue)?Se.get(ue):0;tt(je)},xe=function(Se){Le(Se)},Ae=$.useIntersectionObserver({onVisibilityChanged:function(Se){ie(Se.isVisible)}});return R.useEffect(function(){if(le){var Se=Ae.current;Se&&(ze(""),$.getPage(U,ue).then(function(je){var Ze=je.getViewport({scale:1}),rt=(Ze.rotation+Ve+et)%360,Ue=Math.abs(Ve+et)%180==0,ae=Ue?Ze.width:Ze.height,ce=Ue?Ze.height:Ze.width,_e=document.createElement("canvas"),Ee=_e.getContext("2d",{alpha:!1}),de=Se.clientWidth,ke=Se.clientHeight,Te=X?X/ae:Math.min(de/ae,ke/ce),$e=Te*ae,Qe=Te*ce;_e.height=Qe,_e.width=$e,_e.style.opacity="0";var Ce=je.getViewport({rotation:rt,scale:Te});Xe.current=je.render({canvasContext:Ee,viewport:Ce}),Xe.current.promise.then(function(){lt.current&&ze(_e.toDataURL()),_e.width=0,_e.height=0},function(){})}))}},[et,le]),R.useEffect(function(){return W.subscribe("pagesRotation",ge),W.subscribe("rotation",xe),function(){W.unsubscribe("pagesRotation",ge),W.unsubscribe("rotation",xe)}},[]),R.useEffect(function(){return function(){var Se;(Se=Xe.current)===null||Se===void 0||Se.cancel()}},[]),R.createElement("div",{ref:Ae,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Me?R.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Me}):R.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},Q?Q():R.createElement($.Spinner,null)))},he=function(G){var U=G.getPageIndex,Y=G.renderSpinner,Q=G.store,W=G.width,X=R.useState(Q.get("doc")),H=X[0],K=X[1],ue=function(q){K(q)};return R.useEffect(function(){return Q.subscribe("doc",ue),function(){Q.unsubscribe("doc",ue)}},[]),R.createElement("div",{className:"rpv-thumbnail__cover"},H?R.createElement(re,{doc:H,getPageIndex:U,renderSpinner:Y,store:Q,width:W}):R.createElement("div",{className:"rpv-thumbnail__cover-loader"},Y?Y():R.createElement($.Spinner,null)))},me=function(){return R.createElement($.Spinner,null)},se=R.createContext({renderSpinner:me}),ne=function(G){var U=G.children,Y=G.doc,Q=$.useIsMounted(),W=R.useState({loading:!0,labels:[]}),X=W[0],H=W[1];return R.useEffect(function(){Y.getPageLabels().then(function(K){Q.current&&H({loading:!1,labels:K||[]})})},[Y.loadingTask.docId]),X.loading?R.createElement(R.Fragment,null):U(X.labels)},ve=function(G){var U=G.page,Y=G.pageHeight,Q=G.pageIndex,W=G.pageWidth,X=G.rotation,H=G.thumbnailHeight,K=G.thumbnailWidth,ue=G.onRenderCompleted,q=R.useContext($.LocalizationContext).l10n,pe=R.useRef(),ye=R.useState(""),Me=ye[0],ze=ye[1],lt=q&&q.thumbnail?q.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return R.useEffect(function(){var Xe=pe.current;Xe&&Xe.cancel();var Je=document.createElement("canvas"),Ve=Je.getContext("2d",{alpha:!1}),Le=K,Ne=Le/(W/Y),et=Le/W;Je.height=Ne,Je.width=Le,Je.style.height="".concat(Ne,"px"),Je.style.width="".concat(Le,"px");var tt=U.getViewport({rotation:X,scale:et});return pe.current=U.render({canvasContext:Ve,viewport:tt}),pe.current.promise.then(function(){ze(Je.toDataURL()),ue(Q)},function(){ue(Q)}),function(){var we;(we=pe.current)===null||we===void 0||we.cancel()}},[X]),Me?R.createElement("img",{"aria-label":lt.replace("{{pageIndex}}","".concat(Q+1)),src:Me,height:"".concat(H,"px"),width:"".concat(K,"px")}):R.useContext(se).renderSpinner()},oe=function(G){var U=G.doc,Y=G.pageHeight,Q=G.pageIndex,W=G.pageRotation,X=G.pageWidth,H=G.rotation,K=G.shouldRender,ue=G.thumbnailWidth,q=G.onRenderCompleted,pe=G.onVisibilityChanged,ye=$.useIsMounted(),Me=R.useState({height:Y,page:null,viewportRotation:0,width:X}),ze=Me[0],lt=Me[1],Xe=ze.page,Je=ze.height,Ve=ze.width,Le=Ve/Je,Ne=Math.abs(H+W)%180==0,et=Ne?ue:ue/Le,tt=Ne?ue/Le:ue;R.useEffect(function(){K&&$.getPage(U,Q).then(function(ie){var ge=ie.getViewport({scale:1});ye.current&&lt({height:ge.height,page:ie,viewportRotation:ge.rotation,width:ge.width})})},[K]);var we=(ze.viewportRotation+H+W)%360,le=$.useIntersectionObserver({onVisibilityChanged:function(ie){pe(Q,ie)}});return R.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(Q),ref:le,style:{height:"".concat(tt,"px"),width:"".concat(et,"px")}},Xe?R.createElement(ve,{page:Xe,pageHeight:Ne?Je:Ve,pageIndex:Q,pageWidth:Ne?Ve:Je,rotation:we,thumbnailHeight:tt,thumbnailWidth:et,onRenderCompleted:q}):R.useContext(se).renderSpinner())},ee=function(G){var U=G.currentPage,Y=G.doc,Q=G.labels,W=G.pagesRotation,X=G.pageHeight,H=G.pageWidth,K=G.renderCurrentPageLabel,ue=G.renderThumbnailItem,q=G.rotatedPage,pe=G.rotation,ye=G.thumbnailDirection,Me=G.thumbnailWidth,ze=G.viewMode,lt=G.onJumpToPage,Xe=G.onRotatePage,Je=Y.numPages,Ve=Y.loadingTask.docId,Le=R.useRef(null),Ne=R.useRef([]),et=R.useState(U),tt=et[0],we=et[1],le=R.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,ie=R.useState(-1),ge=ie[0],xe=ie[1],Ae=$.useIsMounted(),Se=$.usePrevious(ze),je=R.useRef(!1),Ze=$.useRenderQueue({doc:Y}),rt=R.useMemo(function(){return Array(Je).fill(0).map(function(Te,$e){return $e})},[Ve]),Ue=R.useMemo(function(){switch(ze){case $.ViewMode.DualPage:return $.chunk(rt,2);case $.ViewMode.DualPageWithCover:return[[rt[0]]].concat($.chunk(rt.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(rt,1)}},[Ve,ze]),ae=function(){if(Le.current){var Te=Ne.current,$e=tt+1;$e<Te.length&&(tt>=0&&Te[tt].setAttribute("tabindex","-1"),we($e))}},ce=function(){if(Le.current){var Te=Ne.current,$e=tt-1;$e>=0&&(tt>=0&&Te[tt].setAttribute("tabindex","-1"),we($e))}},_e=function(){tt>=0&&tt<Je&&lt(tt)};$.useIsomorphicLayoutEffect(function(){var Te=Le.current;Te&&(Ne.current=Array.from(Te.querySelectorAll(".rpv-thumbnail__item")))},[ze]),R.useEffect(function(){var Te=Ne.current;if(!(Te.length===0||tt<0||tt>Te.length)){var $e=Te[tt];$e.setAttribute("tabindex","0"),$e.focus()}},[tt]),$.useIsomorphicLayoutEffect(function(){var Te=Le.current,$e=Ne.current;if(!(!Te||$e.length===0||U<0||U>$e.length)){var Qe=$e[U].closest(".rpv-thumbnail__items");Qe&&(ye===A.ThumbnailDirection.Vertical?function(Ce,Ie){var Re=Ce.getBoundingClientRect().top-Ie.getBoundingClientRect().top,nt=Ce.clientHeight,at=Ie.clientHeight;Re<0?Ie.scrollTop+=Re:Re+nt<=at||(Ie.scrollTop+=Re+nt-at)}(Qe,Te):function(Ce,Ie){var Re=Ce.getBoundingClientRect().left-Ie.getBoundingClientRect().left,nt=Ce.clientWidth,at=Ie.clientWidth;Re<0?Ie.scrollLeft+=Re:Re+nt<=at||(Ie.scrollLeft+=Re+nt-at)}(Qe,Te))}},[U,ye]);var Ee=R.useCallback(function(Te){Ae.current&&(Ze.markRendered(Te),je.current=!1,ke())},[Ve]),de=R.useCallback(function(Te,$e){$e.isVisible?Ze.setVisibility(Te,$e.ratio):Ze.setOutOfRange(Te),ke()},[Ve]),ke=R.useCallback(function(){if(!je.current){var Te=Ze.getHighestPriorityPage();Te>-1&&(Ze.markRendering(Te),je.current=!0,xe(Te))}},[Ve]);return R.useEffect(function(){q>=0&&(Ze.markRendering(q),je.current=!0,xe(q))},[Ve,q]),$.useIsomorphicLayoutEffect(function(){Se!==ze&&(Ze.markNotRendered(),ke())},[ze]),R.createElement("div",{ref:Le,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":ye===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":le,"rpv-thumbnail__list--vertical":ye===A.ThumbnailDirection.Vertical}),onKeyDown:function(Te){switch(Te.key){case"ArrowDown":ae();break;case"ArrowUp":ce();break;case"Enter":_e()}}},Ue.map(function(Te,$e){var Qe=!1;switch(ze){case $.ViewMode.DualPage:Qe=U===2*$e||U===2*$e+1;break;case $.ViewMode.DualPageWithCover:Qe=U===0&&$e===0||$e>0&&U===2*$e-1||$e>0&&U===2*$e;break;case $.ViewMode.SinglePage:default:Qe=U===$e}return R.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ze===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ze===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ze===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Qe}),key:"".concat($e,"___").concat(ze)},Te.map(function(Ce){return function(Ie){var Re=ze===$.ViewMode.DualPageWithCover&&(Ie===0||Je%2==0&&Ie===Je-1),nt="".concat(Y.loadingTask.docId,"___").concat(Ie),at=Q.length===Je?Q[Ie]:"".concat(Ie+1),gt=K?K({currentPage:U,pageIndex:Ie,numPages:Je,pageLabel:at}):at,vt=W.has(Ie)?W.get(Ie):0,wt=R.createElement(oe,{doc:Y,pageHeight:X,pageIndex:Ie,pageRotation:vt,pageWidth:H,rotation:pe,shouldRender:ge===Ie,thumbnailWidth:Me,onRenderCompleted:Ee,onVisibilityChanged:de});return ue?ue({currentPage:U,key:nt,numPages:Je,pageIndex:Ie,renderPageLabel:R.createElement(R.Fragment,null,gt),renderPageThumbnail:wt,onJumpToPage:function(){return lt(Ie)},onRotatePage:function(Ht){return Xe(Ie,Ht)}}):R.createElement("div",{key:nt},R.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ze===$.ViewMode.DualPage&&Ie%2==0,"rpv-thumbnail__item--dual-odd":ze===$.ViewMode.DualPage&&Ie%2==1,"rpv-thumbnail__item--dual-cover":Re,"rpv-thumbnail__item--dual-cover-even":ze===$.ViewMode.DualPageWithCover&&!Re&&Ie%2==0,"rpv-thumbnail__item--dual-cover-odd":ze===$.ViewMode.DualPageWithCover&&!Re&&Ie%2==1,"rpv-thumbnail__item--single":ze===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===Ie}),role:"button",tabIndex:U===Ie?0:-1,onClick:function(){return lt(Ie)}},wt),R.createElement("div",{"data-testid":"thumbnail__label-".concat(Ie),className:"rpv-thumbnail__label"},gt))}(Ce)}))}))},te=function(G){var U=G.renderCurrentPageLabel,Y=G.renderThumbnailItem,Q=G.store,W=G.thumbnailDirection,X=G.thumbnailWidth,H=R.useState(Q.get("doc")),K=H[0],ue=H[1],q=R.useState(Q.get("currentPage")||0),pe=q[0],ye=q[1],Me=R.useState(Q.get("pageHeight")||0),ze=Me[0],lt=Me[1],Xe=R.useState(Q.get("pageWidth")||0),Je=Xe[0],Ve=Xe[1],Le=R.useState(Q.get("rotation")||0),Ne=Le[0],et=Le[1],tt=R.useState(Q.get("pagesRotation")||new Map),we=tt[0],le=tt[1],ie=R.useState(Q.get("rotatedPage")||-1),ge=ie[0],xe=ie[1],Ae=R.useState(Q.get("viewMode")),Se=Ae[0],je=Ae[1],Ze=function($e){ye($e)},rt=function($e){ue($e)},Ue=function($e){lt($e)},ae=function($e){Ve($e)},ce=function($e){et($e)},_e=function($e){le($e)},Ee=function($e){xe($e)},de=function($e){je($e)},ke=function($e){var Qe=Q.get("jumpToPage");Qe&&Qe($e)},Te=function($e,Qe){Q.get("rotatePage")($e,Qe)};return R.useEffect(function(){return Q.subscribe("doc",rt),Q.subscribe("pageHeight",Ue),Q.subscribe("pageWidth",ae),Q.subscribe("rotatedPage",Ee),Q.subscribe("rotation",ce),Q.subscribe("pagesRotation",_e),Q.subscribe("viewMode",de),function(){Q.unsubscribe("doc",rt),Q.unsubscribe("pageHeight",Ue),Q.unsubscribe("pageWidth",ae),Q.unsubscribe("rotatedPage",Ee),Q.unsubscribe("rotation",ce),Q.unsubscribe("pagesRotation",_e),Q.unsubscribe("viewMode",de)}},[]),$.useIsomorphicLayoutEffect(function(){return Q.subscribe("currentPage",Ze),function(){Q.unsubscribe("currentPage",Ze)}},[]),K?R.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},R.createElement(ne,{doc:K},function($e){return R.createElement(ee,{currentPage:pe,doc:K,labels:$e,pagesRotation:we,pageHeight:ze,pageWidth:Je,renderCurrentPageLabel:U,renderThumbnailItem:Y,rotatedPage:ge,rotation:Ne,thumbnailDirection:W,thumbnailWidth:X,viewMode:Se,onJumpToPage:ke,onRotatePage:Te})})):R.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},R.useContext(se).renderSpinner())};A.thumbnailPlugin=function(G){var U=R.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),Y=R.useState(""),Q=Y[0],W=Y[1];return{install:function(X){U.update("jumpToPage",X.jumpToPage),U.update("rotatePage",X.rotatePage)},onDocumentLoad:function(X){W(X.doc.loadingTask.docId),U.update("doc",X.doc)},onViewerStateChange:function(X){return U.update("currentPage",X.pageIndex),U.update("pagesRotation",X.pagesRotation),U.update("pageHeight",X.pageHeight),U.update("pageWidth",X.pageWidth),U.update("rotation",X.rotation),U.update("rotatedPage",X.rotatedPage),U.update("viewMode",X.viewMode),X},Cover:function(X){return R.createElement(he,O({},X,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:R.useCallback(function(X){return R.createElement(se.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||me}},R.createElement(te,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:X==null?void 0:X.renderThumbnailItem,store:U,thumbnailDirection:(X==null?void 0:X.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[Q])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function V(te){var G=Object.create(null);return te&&Object.keys(te).forEach(function(U){if(U!=="default"){var Y=Object.getOwnPropertyDescriptor(te,U);Object.defineProperty(G,U,Y.get?Y:{enumerable:!0,get:function(){return te[U]}})}}),G.default=te,Object.freeze(G)}var B,R=V(reactExports),O=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},re=function(){return re=Object.assign||function(te){for(var G,U=1,Y=arguments.length;U<Y;U++)for(var Q in G=arguments[U])Object.prototype.hasOwnProperty.call(G,Q)&&(te[Q]=G[Q]);return te},re.apply(this,arguments)};A.SelectionMode=void 0,(B=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",B.Text="Text";var he=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},me=function(te){var G=te.children,U=te.mode,Y=te.onClick,Q=R.useContext($.LocalizationContext).l10n,W="",X=R.createElement(he,null);switch(U){case A.SelectionMode.Hand:W=Q&&Q.selectionMode?Q.selectionMode.handTool:"Hand tool",X=R.createElement(O,null);break;case A.SelectionMode.Text:default:W=Q&&Q.selectionMode?Q.selectionMode.textSelectionTool:"Text selection tool",X=R.createElement(he,null)}return G({icon:X,label:W,onClick:Y})},se={left:0,top:8},ne=function(te){var G=te.isSelected,U=te.mode,Y=te.onClick,Q="";switch(U){case A.SelectionMode.Hand:Q="selection-mode__hand-button";break;case A.SelectionMode.Text:default:Q="selection-mode__text-button"}return R.createElement(me,{mode:U,onClick:Y},function(W){return R.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:R.createElement($.MinimalButton,{ariaLabel:W.label,isSelected:G,testId:Q,onClick:W.onClick},W.icon),content:function(){return W.label},offset:se})})},ve=function(te){var G=te.children,U=te.mode,Y=te.store,Q=U===Y.get("selectionMode");return(G||function(W){return R.createElement(ne,{isSelected:Q,mode:W.mode,onClick:W.onClick})})({isSelected:Q,mode:U,onClick:function(){return Y.update("selectionMode",U)}})},oe=function(te){var G=te.isSelected,U=te.mode,Y=te.onClick,Q="";switch(U){case A.SelectionMode.Hand:Q="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:Q="selection-mode__text-menu"}return R.createElement(me,{mode:U,onClick:Y},function(W){return R.createElement($.MenuItem,{checked:G,icon:W.icon,testId:Q,onClick:W.onClick},W.label)})},ee=function(te){var G=te.store,U=R.useRef(null),Y=R.useState(A.SelectionMode.Text),Q=Y[0],W=Y[1],X=R.useRef({top:0,left:0,x:0,y:0}),H=function(ye){var Me=U.current;Me&&(Me.scrollTop=X.current.top-(ye.clientY-X.current.y),Me.scrollLeft=X.current.left-(ye.clientX-X.current.x))},K=function(){var ye=U.current;ye&&(ye.classList.add("rpv-selection-mode__grab"),ye.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",K))},ue=function(ye){var Me=U.current;Me&&Q!==A.SelectionMode.Text&&(Me.classList.remove("rpv-selection-mode__grab"),Me.classList.add("rpv-selection-mode__grabbing"),ye.preventDefault(),ye.stopPropagation(),X.current={left:Me.scrollLeft,top:Me.scrollTop,x:ye.clientX,y:ye.clientY},document.addEventListener("mousemove",H),document.addEventListener("mouseup",K))},q=function(ye){U.current=ye()},pe=function(ye){W(ye)};return R.useEffect(function(){var ye=U.current;if(ye)return Q===A.SelectionMode.Hand?ye.classList.add("rpv-selection-mode__grab"):ye.classList.remove("rpv-selection-mode__grab"),ye.addEventListener("mousedown",ue),function(){ye.removeEventListener("mousedown",ue)}},[Q]),R.useEffect(function(){return G.subscribe("getPagesContainer",q),G.subscribe("selectionMode",pe),function(){G.unsubscribe("getPagesContainer",q),G.unsubscribe("selectionMode",pe)}},[]),R.createElement(R.Fragment,null)};A.HandToolIcon=O,A.TextSelectionIcon=he,A.selectionModePlugin=function(te){var G=R.useMemo(function(){return $.createStore()},[]),U=function(Y){return R.createElement(ve,re({},Y,{store:G}))};return{install:function(Y){G.update("selectionMode",te&&te.selectionMode?te.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",Y.getPagesContainer)},renderViewer:function(Y){var Q=Y.slot;return Q.subSlot&&Q.subSlot.children&&(Q.subSlot.children=R.createElement(R.Fragment,null,R.createElement(ee,{store:G}),Q.subSlot.children)),Q},SwitchSelectionMode:U,SwitchSelectionModeButton:function(Y){return R.createElement(U,{mode:Y.mode},function(Q){return R.createElement(ne,{isSelected:Q.isSelected,mode:Q.mode,onClick:function(){Q.onClick()}})})},SwitchSelectionModeMenuItem:function(Y){return R.createElement(U,{mode:Y.mode},function(Q){return R.createElement(oe,{isSelected:Q.isSelected,mode:Q.mode,onClick:function(){Q.onClick(),Y.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$c.useContext(e$c.LocalizationContext).l10n,R=B&&B.fullScreen?B.fullScreen.enterFullScreen:"Full screen",O=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:R,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:V},n$c.createElement(l$c,null)),content:function(){return R},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:B,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return B},offset:i$c})},f$9=function(A,$){var V=n$c.useState($.get("fullScreenMode")),B=V[0],R=V[1],O=n$c.useCallback(function(re){R(re)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",O),function(){$.unsubscribe("fullScreenMode",O)}},[]),{enterFullScreen:function(){var re=$.get("getPagesContainer");if(re){var he=A(re());$.get("enterFullScreenMode")(he)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.getFullScreenTarget,R=A.store,O=f$9(B,R),re=O.enterFullScreen,he=O.exitFullScreen,me=O.isFullScreen;return($||function(se){return me?n$c.createElement(a$c,{onClick:se.onClick}):n$c.createElement(o$c,{enableShortcuts:V,onClick:se.onClick})})({onClick:me?he:re})},S$4=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=V&&V.fullScreen?V.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},B)},d$9=function(A){var $=A.onClick,V=n$c.useContext(e$c.LocalizationContext).l10n,B=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,R=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!B,"rpv-full-screen__exit-button--rtl":B})},n$c.createElement(e$c.MinimalButton,{ariaLabel:R,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,V=A.getFullScreenTarget,B=A.store,R=f$9(V,B),O=R.enterFullScreen,re=R.exitFullScreen,he=R.isFullScreen;return he&&($||function(me){return n$c.createElement(d$9,{onClick:me.onClick})})({onClick:he?re:O})},E$5=function(A){var $=A.store,V=A.onEnterFullScreen,B=A.onExitFullScreen,R=n$c.useState($.get("fullScreenMode")),O=R[0],re=R[1],he=n$c.useCallback(function(me){re(me)},[]);return n$c.useEffect(function(){switch(O){case e$c.FullScreenMode.EnteredCompletely:V($.get("zoom"));break;case e$c.FullScreenMode.Exited:B($.get("zoom"))}},[O]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",he),function(){$.unsubscribe("fullScreenMode",he)}},[]),(O===e$c.FullScreenMode.Entering||O===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,V=A.getFullScreenTarget,B=A.store,R=f$9(V,B).enterFullScreen,O=function(re){if(!re.shiftKey&&!re.altKey&&(e$c.isMac()?re.metaKey&&re.ctrlKey&&re.key==="f":re.key==="F11")){var he=$.current;he&&document.activeElement&&he.contains(document.activeElement)&&(re.preventDefault(),R())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(re){return re},V=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),B=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),R=function(re){return n$c.createElement(s$8,c$c({},re,{enableShortcuts:V.enableShortcuts,getFullScreenTarget:$,store:B}))},O=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:B},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(re){B.update("enterFullScreenMode",re.enterFullScreenMode),B.update("exitFullScreenMode",re.exitFullScreenMode),B.update("getPagesContainer",re.getPagesContainer),B.update("zoom",re.zoom)},onViewerStateChange:function(re){return B.update("fullScreenMode",re.fullScreenMode),re},renderViewer:function(re){var he=re.slot;return he.subSlot&&(he.subSlot.children=n$c.createElement(n$c.Fragment,null,V.enableShortcuts&&n$c.createElement(F,{containerRef:re.containerRef,getFullScreenTarget:$,store:B}),n$c.createElement(E$5,{store:B,onEnterFullScreen:V.onEnterFullScreen,onExitFullScreen:V.onExitFullScreen}),n$c.createElement(O,null),he.subSlot.children)),he},EnterFullScreen:R,EnterFullScreenButton:function(){return n$c.createElement(R,null,function(re){return n$c.createElement(o$c,c$c({enableShortcuts:V.enableShortcuts},re))})},EnterFullScreenMenuItem:function(re){return n$c.createElement(R,null,function(he){return n$c.createElement(S$4,{onClick:function(){he.onClick(),re.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:B,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return B},offset:i$b})},c$b=function(A,$){var V=document.createElement("a");V.style.display="none",V.href=A,V.setAttribute("download",$),document.body.appendChild(V),V.click(),document.body.removeChild(V)},l$b=function(A,$,V){var B=URL.createObjectURL(new Blob([A],{type:V}));c$b(B,$),B&&URL.revokeObjectURL(B)},u$b=function(A,$){A.getData().then(function(V){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(V,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(B){return btoa(Array(B.length).fill("").map(function(R,O){return String.fromCharCode(B[O])}).join(""))}(V)),$):l$b(V,$,"application/pdf")})},f$8=function(A){var $=A.children,V=A.fileNameGenerator,B=A.store,R=n$b.useState(B.get("file")),O=R[0],re=R[1],he=n$b.useState(B.get("doc")),me=he[0],se=he[1],ne=function(oe){se(oe)},ve=function(oe){re(oe)};return n$b.useEffect(function(){return B.subscribe("doc",ne),B.subscribe("file",ve),function(){B.subscribe("doc",ne),B.unsubscribe("file",ve)}},[]),($||function(oe){return n$b.createElement(a$b,{onClick:oe.onClick})})({onClick:function(){me&&O&&u$b(me,V(O))}})},d$8=function(A){var $=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,B=V&&V.download?V.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},B)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),V=function(R){return R.name?(O=R.name,(re=O.split("/").pop())?re.split("#")[0].split("?")[0]:O):"document.pdf";var O,re},B=function(R){return n$b.createElement(f$8,r$b({},R,{fileNameGenerator:A&&A.fileNameGenerator||V,store:$}))};return{onDocumentLoad:function(R){$.update("doc",R.doc),$.update("file",R.file)},Download:B,DownloadButton:function(){return n$b.createElement(B,null,function(R){return n$b.createElement(a$b,r$b({},R))})},DownloadMenuItem:function(R){return n$b.createElement(B,null,function(O){return n$b.createElement(d$8,{onClick:function(){O.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),V=function(){var R=$.current;R&&(R.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},B=function(R){R&&V()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",B),function(){A.unsubscribe("triggerOpenFile",B)}},[]),{inputRef:$,openFile:V}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,O=R&&R.open?R.open.openFile:"Open file",re=i$a(V),he=re.inputRef,me=re.openFile,se=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:he,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:B}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:se,ariaLabel:O,testId:"open__button",onClick:me},n$a.createElement(r$a,null))),content:function(){return O},offset:c$a})},a$a=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||function(R){return n$a.createElement(u$a,{enableShortcuts:V,store:B,onClick:R.onClick})})({onClick:function(R){var O=R.target.files;if(O&&O.length){var re=B.get("openFile");re&&re(O[0])}}})},l$a=function(A){var $=A.store,V=A.onClick,B=n$a.useContext(e$a.LocalizationContext).l10n,R=B&&B.open?B.open.openFile:"Open file",O=i$a($),re=O.inputRef,he=O.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:he},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:re,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:V}),R))},p$7=function(A){var $=A.containerRef,V=A.store,B=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="o"&&(e$a.isMac()?R.metaKey:R.ctrlKey)){var O=$.current;O&&document.activeElement&&O.contains(document.activeElement)&&(R.preventDefault(),V.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$a.useMemo(function(){return e$a.createStore({})},[]),B=function(R){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},R,{store:V}))};return{install:function(R){V.update("openFile",R.openFile)},renderViewer:function(R){var O=R.slot,re={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:R.containerRef,store:V}),O.children)};return o$a(o$a({},O),re)},Open:B,OpenButton:function(){return n$a.createElement(B,null)},OpenMenuItem:function(){return n$a.createElement(B,null,function(R){return n$a.createElement(l$a,{store:V,onClick:R.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),V=$[0],B=$[1],R=function(O){B(O)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",R),function(){A.unsubscribe("currentPage",R)}},[]),{currentPage:V}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),V=$[0],B=$[1],R=function(O){B(O)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",R),function(){A.unsubscribe("numberOfPages",R)}},[]),{numberOfPages:V}},c$9=function(A){var $=A.store,V=n$9.useContext(e$9.LocalizationContext).l10n,B=n$9.useState("1"),R=B[0],O=B[1],re=i$9($).currentPage,he=u$9($).numberOfPages;n$9.useEffect(function(){return O("".concat(re+1))},[re]);var me=function(ne){var ve=$.get("jumpToPage");ve&&ve(ne)},se=V&&V.pageNavigation?V.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:se,testId:"page-navigation__current-page-input",type:"text",value:R,onChange:O,onKeyDown:function(ne){switch(ne.key){case"ArrowUp":(ee=re-1)>=0&&(O("".concat(ee+1)),me(ee));break;case"ArrowDown":(oe=re+1)<he&&(O("".concat(oe+1)),me(oe));break;case"Enter":ve=parseInt(R,10),R===""||ve<1||ve>he?O("".concat(re+1)):me(ve-1)}var ve,oe,ee}}))},l$9=function(A){var $=A.children,V=A.doc,B=e$9.useIsMounted(),R=n$9.useState({loading:!0,labels:[]}),O=R[0],re=R[1];return n$9.useEffect(function(){V.getPageLabels().then(function(he){B.current&&re({loading:!1,labels:he||[]})})},[V.loadingTask.docId]),O.loading?n$9.createElement(n$9.Fragment,null):$(O.labels)},s$7=function(A){var $=A.children,V=A.store,B=function(he){var me=n$9.useState(he.get("doc")),se=me[0],ne=me[1],ve=function(oe){ne(oe)};return n$9.useEffect(function(){return he.subscribe("doc",ve),function(){he.unsubscribe("doc",ve)}},[]),se}(V),R=i$9(V).currentPage,O=u$9(V).numberOfPages,re=$||function(he){return n$9.createElement(n$9.Fragment,null,he.currentPage+1)};return B?n$9.createElement(l$9,{doc:B},function(he){var me=he.length===O&&O>0?he[R]:"";return re({currentPage:R,numberOfPages:O,pageLabel:me})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__first-button",onClick:V},n$9.createElement(g$5,null)),content:function(){return R},offset:f$7})},p$6=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(m$7,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:i$9(V).currentPage===0,onClick:function(){var B=V.get("jumpToPage");B&&B(0)}})},v$5=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:V},R)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__last-button",onClick:V},n$9.createElement(a$9,null)),content:function(){return R},offset:d$7})},b$4=function(A){var $=A.children,V=A.store,B=i$9(V).currentPage,R=u$9(V).numberOfPages;return($||function(O){return n$9.createElement(P$2,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:B+1>=R,onClick:function(){var O=V.get("jumpToPage");O&&O(R-1)}})},E$4=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:V},R)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__next-button",onClick:V},n$9.createElement(r$9,null)),content:function(){return R},offset:C$3})},k$3=function(A){var $=A.children,V=A.store;return($||function(B){return n$9.createElement(D,{onClick:B.onClick,isDisabled:B.isDisabled})})({isDisabled:i$9(V).currentPage+1>=u$9(V).numberOfPages,onClick:function(){var B=V.get("jumpToNextPage");B&&B()}})},T=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:V},R)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__previous-button",onClick:V},n$9.createElement(x$1,null)),content:function(){return R},offset:L})},j=function(A){var $=A.store;return(A.children||function(V){return n$9.createElement(N,{isDisabled:V.isDisabled,onClick:V.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var V=$.get("jumpToPreviousPage");V&&V()}})},I$2=function(A){var $=A.isDisabled,V=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,R=B&&B.pageNavigation?B.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:V},R)},h$5=function(A){var $=A.children,V=A.store,B=u$9(V).numberOfPages;return $?$({numberOfPages:B}):n$9.createElement(n$9.Fragment,null,B)},y$1=function(A){var $=A.containerRef,V=A.numPages,B=A.store,R=i$9(B).currentPage,O=n$9.useRef(R);O.current=R;var re=n$9.useRef(!1),he=function(){re.current=!0},me=function(){re.current=!1},se=function(ne){var ve=$.current,oe=re.current||document.activeElement&&ve.contains(document.activeElement);if(ve&&oe){var ee,te,G=ne.altKey&&ne.key==="ArrowDown"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageDown",U=ne.altKey&&ne.key==="ArrowUp"||!ne.shiftKey&&!ne.altKey&&ne.key==="PageUp";if(G)return ne.preventDefault(),ee=B.get("jumpToPage"),te=O.current+1,void(ee&&te<V&&ee(te));if(U)return ne.preventDefault(),void function(){var Y=B.get("jumpToPage"),Q=O.current-1;Y&&Q>=0&&Y(Q)}();if(e$9.isMac()?ne.metaKey&&!ne.ctrlKey:ne.altKey)switch(ne.key){case"ArrowLeft":ne.preventDefault(),function(){var Y=B.get("jumpToPreviousDestination");Y&&Y()}();break;case"ArrowRight":ne.preventDefault(),function(){var Y=B.get("jumpToNextDestination");Y&&Y()}()}}};return n$9.useEffect(function(){var ne=$.current;if(ne)return document.addEventListener("keydown",se),ne.addEventListener("mouseenter",he),ne.addEventListener("mouseleave",me),function(){document.removeEventListener("keydown",se),ne.removeEventListener("mouseenter",he),ne.removeEventListener("mouseleave",me)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$9.useMemo(function(){return e$9.createStore()},[]),B=function(he){return n$9.createElement(p$6,o$9({},he,{store:V}))},R=function(he){return n$9.createElement(b$4,o$9({},he,{store:V}))},O=function(he){return n$9.createElement(k$3,o$9({},he,{store:V}))},re=function(he){return n$9.createElement(j,o$9({},he,{store:V}))};return{install:function(he){V.update("jumpToDestination",he.jumpToDestination),V.update("jumpToNextDestination",he.jumpToNextDestination),V.update("jumpToNextPage",he.jumpToNextPage),V.update("jumpToPage",he.jumpToPage),V.update("jumpToPreviousDestination",he.jumpToPreviousDestination),V.update("jumpToPreviousPage",he.jumpToPreviousPage)},renderViewer:function(he){var me=he.slot;if(!$.enableShortcuts)return me;var se={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:he.containerRef,numPages:he.doc.numPages,store:V}),me.children)};return o$9(o$9({},me),se)},onDocumentLoad:function(he){V.update("doc",he.doc),V.update("numberOfPages",he.doc.numPages)},onViewerStateChange:function(he){return V.update("currentPage",he.pageIndex),he},jumpToNextPage:function(){var he=V.get("jumpToNextPage");he&&he()},jumpToPage:function(he){var me=V.get("jumpToPage");me&&me(he)},jumpToPreviousPage:function(){var he=V.get("jumpToPreviousPage");he&&he()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:V})},CurrentPageLabel:function(he){return n$9.createElement(s$7,o$9({},he,{store:V}))},GoToFirstPage:B,GoToFirstPageButton:function(){return n$9.createElement(B,null,function(he){return n$9.createElement(m$7,o$9({},he))})},GoToFirstPageMenuItem:function(he){return n$9.createElement(B,null,function(me){return n$9.createElement(v$5,{isDisabled:me.isDisabled,onClick:function(){me.onClick(),he.onClick()}})})},GoToLastPage:R,GoToLastPageButton:function(){return n$9.createElement(R,null,function(he){return n$9.createElement(P$2,o$9({},he))})},GoToLastPageMenuItem:function(he){return n$9.createElement(R,null,function(me){return n$9.createElement(E$4,{isDisabled:me.isDisabled,onClick:function(){me.onClick(),he.onClick()}})})},GoToNextPage:O,GoToNextPageButton:function(){return n$9.createElement(O,null,function(he){return n$9.createElement(D,o$9({},he))})},GoToNextPageMenuItem:function(he){return n$9.createElement(O,null,function(me){return n$9.createElement(T,{isDisabled:me.isDisabled,onClick:function(){me.onClick(),he.onClick()}})})},GoToPreviousPage:re,GoToPreviousPageButton:function(){return n$9.createElement(re,null,function(he){return n$9.createElement(N,o$9({},he))})},GoToPreviousPageMenuItem:function(he){return n$9.createElement(re,null,function(me){return n$9.createElement(I$2,{isDisabled:me.isDisabled,onClick:function(){me.onClick(),he.onClick()}})})},NumberOfPages:function(he){return n$9.createElement(h$5,o$9({},he,{store:V}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,V=A.onClick,B=a$8.useContext(e$8.LocalizationContext).l10n,R=B&&B.print?B.print.print:"Print",O=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:R,testId:"print__button",onClick:V},a$8.createElement(i$8,null)),content:function(){return R},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,V=A.enableShortcuts,B=A.store;return($||s$6)({enableShortcuts:V,onClick:function(){B.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,V=A.store,B=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useState(!0),O=R[0],re=R[1];return a$8.useEffect(function(){$.getPermissions().then(function(he){he===null||he.includes(4)||he.includes(2048)?V.update("printStatus",o$8.Preparing):re(!1)})},[]),O?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(he){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},B&&B.print?B.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){he(),V.update("printStatus",o$8.Cancelled)}},B&&B.print?B.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,V=A.numPages,B=A.onCancel,R=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,re=Math.floor(100*$/V);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":O})},a$8.createElement("div",{className:"rpv-print__progress-message"},R&&R.print?R.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:re})),a$8.createElement(e$8.Button,{onClick:B},R&&R.print?R.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,V=A.page,B=A.pageHeight,R=A.pageIndex,O=A.pageWidth,re=A.rotation,he=A.onLoad,me=e$8.useIsMounted(),se=a$8.useRef(),ne=a$8.useState(""),ve=ne[0],oe=ne[1],ee=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var te=se.current;te&&te.cancel();var G=150/72;$.height=Math.floor(B*G),$.width=Math.floor(O*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var Y=V.getViewport({rotation:re,scale:1});se.current=V.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:Y}),se.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(Q){me.current&&oe(URL.createObjectURL(Q)),ee&&he()}):(me.current&&oe($.toDataURL()),ee&&he())},function(){})},[]),ve&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(R),src:ve,onLoad:function(){ee||he()}}))},f$6=function(A){var $=A.canvas,V=A.doc,B=A.pageIndex,R=A.pageRotation,O=A.pageSize,re=A.rotation,he=A.shouldRender,me=A.onLoad,se=e$8.useIsMounted(),ne=a$8.useState(null),ve=ne[0],oe=ne[1],ee=Math.abs(re+R)%180==0;a$8.useEffect(function(){he&&e$8.getPage(V,B).then(function(G){se.current&&oe(G)})},[he]);var te=(O.rotation+re+R)%360;return ve&&a$8.createElement(d$6,{canvas:$,page:ve,pageHeight:ee?O.pageHeight:O.pageWidth,pageIndex:B,pageWidth:ee?O.pageWidth:O.pageHeight,rotation:te,onLoad:me})},g$4=function(A){var $=A.doc,V=A.numLoadedPages,B=A.pagesRotation,R=A.pageSizes,O=A.printPages,re=A.printStatus,he=A.rotation,me=A.onCancel,se=A.onLoad,ne=a$8.useMemo(function(){return document.createElement("canvas")},[]),ve=a$8.useMemo(function(){var te=document.querySelector(".rpv-print__zone");if(te)return te;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){re===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var te=function(){if(re===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),ne.height=0,ne.width=0,document.removeEventListener("mousemove",te),me()}};return document.addEventListener("mousemove",te),function(){return document.removeEventListener("mousemove",te)}},[re]);var oe=R[0].pageHeight,ee=R[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,O.map(function(te,G){return a$8.createElement(f$6,{key:te,canvas:ne,doc:$,pageIndex:te,pageRotation:B.has(te)?B.get(te):0,pageSize:R[te],rotation:he,shouldRender:G===V,onLoad:se})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ee,"pt ").concat(oe,"pt }")}})),ve)},v$4=function(A){var $=A.doc,V=A.pagesRotation,B=A.pageSizes,R=A.renderProgressBar,O=A.rotation,re=A.setPages,he=A.store,me=a$8.useState(o$8.Inactive),se=me[0],ne=me[1],ve=a$8.useState(0),oe=ve[0],ee=ve[1],te=a$8.useMemo(function(){var Q=$.numPages;return re($).filter(function(W){return W>=0&&W<Q})},[$,re]),G=te.length,U=function(){ee(0),ne(o$8.Inactive)},Y=function(Q){return ne(Q)};return a$8.useEffect(function(){return he.subscribe("printStatus",Y),function(){he.unsubscribe("printStatus",Y)}},[]),a$8.createElement(a$8.Fragment,null,se===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:he}),se===o$8.Preparing&&(R?R(oe,G,U):a$8.createElement(m$6,{numLoadedPages:oe,numPages:G,onCancel:U})),(se===o$8.Preparing||se===o$8.Ready)&&oe<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:oe,pagesRotation:V,pageSizes:B,printPages:te,printStatus:se,rotation:O,onCancel:U,onLoad:function(){var Q=oe+1;Q<=G&&(ee(Q),Q===G&&ne(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,V=a$8.useContext(e$8.LocalizationContext).l10n,B=V&&V.print?V.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},B)},E$3=function(A){var $=A.containerRef,V=A.store,B=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="p"&&(e$8.isMac()?R.metaKey:R.ctrlKey)){var O=$.current;O&&document.activeElement&&O.contains(document.activeElement)&&(R.preventDefault(),V.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V})},print_min.getCustomPagesNumbers=function(A){return function($){var V,B=[];return A.replace(/\s+/g,"").split(",").forEach(function(R){var O,re,he=R.split("-").map(function(me){return parseInt(me,10)}).filter(function(me){return Number.isInteger(me)});he.length===1?B.push(he[0]-1):he.length===2&&B.push.apply(B,(O=he[0]-1,re=he[1]-1,Array(re-O+1).fill(0).map(function(me,se){return O+se})))}),(V=B,V.filter(function(R){return V.indexOf(R)===V.lastIndexOf(R)})).filter(function(R){return R>=0&&R<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,V){return V}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(R){return Array(R.numPages).fill(0).map(function(O,re){return re})}},A)},[]),V=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),B=function(R){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},R,{store:V}))};return{print:function(){V.update("printStatus",o$8.CheckingPermission)},renderViewer:function(R){var O=R.slot,re={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:R.containerRef,store:V}),a$8.createElement(v$4,{doc:R.doc,pagesRotation:R.pagesRotation,pageSizes:R.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:R.rotation,setPages:$.setPages,store:V}),O.children)};return c$8(c$8({},O),re)},Print:B,PrintButton:function(){return a$8.createElement(B,null,function(R){return a$8.createElement(s$6,c$8({},R))})},PrintMenuItem:function(R){return a$8.createElement(B,null,function(O){return a$8.createElement(h$4,{onClick:function(){O.onClick(),R.onClick()}})})},setPages:function(R){$.setPages=R}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,V=A.render,B=r$7.useState(),R=B[0],O=B[1];return r$7.useEffect(function(){$.getMetadata().then(function(re){return Promise.resolve(re)}).then(function(re){return $.getDownloadInfo().then(function(he){return Promise.resolve({fileName:re.contentDispositionFilename||"",info:re.info,length:he.length})})}).then(function(re){O(re)})},[]),R?V(R):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,V=A.value,B=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":B})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},V||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,V,B){var R=parseInt(A,10);return R>=$&&R<=V?R:B},p$4=function(A){var $=A.doc,V=A.fileName,B=A.onToggle,R=r$7.useContext(e$7.LocalizationContext).l10n,O=function(re){var he=function(me){var se=l$7.exec(me);if(!se)return null;var ne=parseInt(se[1],10),ve=c$7(se[2],1,12,1)-1,oe=c$7(se[3],1,31,1),ee=c$7(se[4],0,23,0),te=c$7(se[5],0,59,0),G=c$7(se[6],0,59,0),U=se[7]||"Z",Y=c$7(se[8],0,23,0),Q=c$7(se[9],0,59,0);switch(U){case"-":ee+=Y,te+=Q;break;case"+":ee-=Y,te-=Q}return new Date(Date.UTC(ne,ve,oe,ee,te,G))}(re);return he?"".concat(he.toLocaleDateString(),", ").concat(he.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(re){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileName:"File name",value:re.fileName||(se=V,ne=se.split("/").pop(),ne?ne.split("#")[0].split("?")[0]:se)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileSize:"File size",value:(he=re.length,me=Math.floor(Math.log(he)/Math.log(1024)),"".concat((he/Math.pow(1024,me)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][me]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.title:"Title",value:re.info.Title}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.author:"Author",value:re.info.Author}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.subject:"Subject",value:re.info.Subject}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.keywords:"Keywords",value:re.info.Keywords}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creator:"Creator",value:re.info.Creator}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creationDate:"Creation date",value:O(re.info.CreationDate)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.modificationDate:"Modification date",value:O(re.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfProducer:"PDF producer",value:re.info.Producer}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfVersion:"PDF version",value:re.info.PDFFormatVersion}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pageCount:"Page count",value:"".concat($.numPages)})));var he,me,se,ne}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:B},R&&R.properties?R.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:B,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return B},offset:s$5})},m$5=function(A){var $=A.children,V=A.store,B=function(re){var he=r$7.useState(re.get("doc")),me=he[0],se=he[1],ne=function(ve){se(ve)};return r$7.useEffect(function(){return re.subscribe("doc",ne),function(){re.unsubscribe("doc",ne)}},[]),{currentDoc:me}}(V).currentDoc,R=V.get("fileName")||"",O=$||function(re){return r$7.createElement(u$7,o$7({},re))};return B?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(re){return O({onClick:re})},content:function(re){return r$7.createElement(p$4,{doc:B,fileName:R,onToggle:re})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,V=r$7.useContext(e$7.LocalizationContext).l10n,B=V&&V.properties?V.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},B)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(V){return r$7.createElement(m$5,o$7({},V,{store:A}))};return{onDocumentLoad:function(V){A.update("doc",V.doc)},onViewerStateChange:function(V){return A.update("fileName",V.file.name),V},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(V){return r$7.createElement($,null,function(B){return r$7.createElement(f$5,o$7({},B))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,R=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",O=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?R:O,he=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:re,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:V},he),content:function(){return re},offset:a$6})},u$6=function(A){var $=A.children,V=A.direction,B=A.store;return($||function(R){return r$6.createElement(i$6,{direction:R.direction,onClick:R.onClick})})({direction:V,onClick:function(){var R=B.get("rotate");R&&R(V)}})},l$6=function(A){var $=A.direction,V=A.onClick,B=r$6.useContext(t$6.LocalizationContext).l10n,R=B&&B.rotate?B.rotate.rotateBackward:"Rotate counterclockwise",O=B&&B.rotate?B.rotate.rotateForward:"Rotate clockwise",re=$===t$6.RotateDirection.Backward?R:O,he=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:he,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:V},re)},d$5=function(A){var $=A.children,V=A.store;return $({onRotatePage:function(B,R){var O=V.get("rotatePage");O&&O(B,R)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(V){return r$6.createElement(u$6,c$6({},V,{store:A}))};return{install:function(V){A.update("rotate",V.rotate),A.update("rotatePage",V.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateBackwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(V){return r$6.createElement(i$6,c$6({},V))})},RotateForwardMenuItem:function(V){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(B){return r$6.createElement(l$6,{direction:B.direction,onClick:function(){B.onClick(),V.onClick()}})})},RotatePage:function(V){return r$6.createElement(d$5,c$6({},V,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var V=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||V===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,V=A.mode,B=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,O="",re=t$5.createElement(d$4,null);switch(V){case e$5.ScrollMode.Horizontal:O=R&&R.scrollMode?R.scrollMode.horizontalScrolling:"Horizontal scrolling",re=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:O=R&&R.scrollMode?R.scrollMode.pageScrolling:"Page scrolling",re=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:O=R&&R.scrollMode?R.scrollMode.wrappedScrolling:"Wrapped scrolling",re=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:O=R&&R.scrollMode?R.scrollMode.verticalScrolling:"Vertical scrolling",re=t$5.createElement(d$4,null)}return $({icon:re,label:O,onClick:B})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,R=A.onClick,O="";switch(B){case e$5.ScrollMode.Horizontal:O="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:O="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:O="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:O="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:B,onClick:R},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:O,onClick:re.onClick},re.icon),content:function(){return re.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),V=$[0],B=$[1],R=function(O){B(O)};return t$5.useEffect(function(){return A.subscribe("scrollMode",R),function(){A.unsubscribe("scrollMode",R)}},[]),{scrollMode:V}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),V=$[0],B=$[1],R=function(O){B(O)};return t$5.useEffect(function(){return A.subscribe("viewMode",R),function(){A.unsubscribe("viewMode",R)}},[]),{viewMode:V}},S$3=function(A){var $=A.children,V=A.mode,B=A.store,R=w$1(B).viewMode,O=f$4(B).scrollMode===V,re=(V===e$5.ScrollMode.Horizontal||V===e$5.ScrollMode.Wrapped)&&R!==e$5.ViewMode.SinglePage;return($||function(he){return t$5.createElement(M$2,{isDisabled:re,isSelected:O,mode:he.mode,onClick:he.onClick})})({isDisabled:re,isSelected:O,mode:V,onClick:function(){a$5(B,V)}})},g$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,R=A.onClick,O="";switch(B){case e$5.ScrollMode.Horizontal:O="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:O="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:O="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:O="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:B,onClick:R},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:O,onClick:re.onClick},re.label)})},h$3=function(A,$){A.get("switchViewMode")($);var V=A.get("scrollMode");V!==e$5.ScrollMode.Horizontal&&V!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,V=A.mode,B=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,O="",re=t$5.createElement(r$5,null);switch(V){case e$5.ViewMode.DualPage:O=R&&R.scrollMode?R.scrollMode.dualPage:"Dual page",re=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:O=R&&R.scrollMode?R.scrollMode.dualPageCover:"Dual page with cover",re=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:O=R&&R.scrollMode?R.scrollMode.singlePage:"Single page",re=t$5.createElement(r$5,null)}return $({icon:re,label:O,onClick:B})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,R=A.onClick,O="";switch(B){case e$5.ViewMode.DualPage:O="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:O="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:O="view-mode__single-button"}return t$5.createElement(b$3,{mode:B,onClick:R},function(re){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:re.label,isDisabled:$,isSelected:V,testId:O,onClick:re.onClick},re.icon),content:function(){return re.label},offset:p$3})})},k$2=function(A){var $=A.children,V=A.mode,B=A.store,R=w$1(B).viewMode,O=f$4(B).scrollMode,re=R===V,he=(O===e$5.ScrollMode.Horizontal||O===e$5.ScrollMode.Wrapped)&&V!==e$5.ViewMode.SinglePage;return($||function(me){return t$5.createElement(v$3,{isDisabled:he,isSelected:re,mode:me.mode,onClick:me.onClick})})({isDisabled:he,isSelected:re,mode:V,onClick:function(){h$3(B,V)}})},C$2=function(A){var $=A.isDisabled,V=A.isSelected,B=A.mode,R=A.onClick,O="";switch(B){case e$5.ViewMode.DualPage:O="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:O="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:O="view-mode__single-menu"}return t$5.createElement(b$3,{mode:B,onClick:R},function(re){return t$5.createElement(e$5.MenuItem,{checked:V,icon:re.icon,isDisabled:$,testId:O,onClick:re.onClick},re.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(B){return t$5.createElement(S$3,i$5({},B,{store:A}))},V=function(B){return t$5.createElement(k$2,i$5({},B,{store:A}))};return{install:function(B){A.update("switchScrollMode",B.switchScrollMode),A.update("switchViewMode",B.switchViewMode)},onViewerStateChange:function(B){return A.update("scrollMode",B.scrollMode),A.update("viewMode",B.viewMode),B},switchScrollMode:function(B){a$5(A,B)},switchViewMode:function(B){h$3(A,B)},SwitchScrollMode:$,SwitchScrollModeButton:function(B){return t$5.createElement($,{mode:B.mode},function(R){return t$5.createElement(M$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchScrollModeMenuItem:function(B){return t$5.createElement($,{mode:B.mode},function(R){return t$5.createElement(g$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),B.onClick()}})})},SwitchViewMode:V,SwitchViewModeButton:function(B){return t$5.createElement(V,{mode:B.mode},function(R){return t$5.createElement(v$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchViewModeMenuItem:function(B){return t$5.createElement(V,{mode:B.mode},function(R){return t$5.createElement(C$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,V=A.area,B=A.onHighlightKeyword,R=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var O=R.current;B&&O&&B({highlightEle:O,keyword:V.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:R,style:i$4(V),title:V.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var V=document.createRange();V.selectNodeContents(A),function(B,R){l$4(B);var O=R.parentNode;O&&O.insertBefore(B,R),l$4(R)}(V.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,V=A.pageIndex,B=A.renderHighlights,R=A.store,O=A.onHighlightKeyword,re=r$4.useRef(),he=r$4.useCallback(function(Xe){return r$4.createElement(r$4.Fragment,null,Xe.highlightAreas.map(function(Je,Ve){return r$4.createElement(s$3,{index:Ve,key:Ve,area:Je,onHighlightKeyword:O})}))},[]),me=B||he,se=r$4.useState(R.get("matchPosition")),ne=se[0],ve=se[1],oe=r$4.useState(R.get("keyword")||[u$4]),ee=oe[0],te=oe[1],G=r$4.useState({pageIndex:V,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],Y=G[1],Q=r$4.useRef(null),W=r$4.useRef([]),X=r$4.useState([]),H=X[0],K=X[1],ue=function(){return!0},q=r$4.useCallback(function(){return R.get("targetPageFilter")||ue},[R.get("targetPageFilter")]),pe=function(Xe){var Je=W.current;if(Je.length===0)return[];var Ve=[],Le=[].slice.call(Xe.querySelectorAll(".rpv-core__text-layer-text")),Ne=Je.map(function(et){return et.char}).join("");return ee.forEach(function(et){var tt=et.keyword;if(tt.trim()){for(var we,le=et.regExp.flags.indexOf("g")===-1?new RegExp(et.regExp,"".concat(et.regExp.flags,"g")):et.regExp,ie=[];(we=le.exec(Ne))!==null;)ie.push({keyword:le,startIndex:we.index,endIndex:le.lastIndex});ie.map(function(ge){return{keyword:ge.keyword,indexes:Je.slice(ge.startIndex,ge.endIndex)}}).forEach(function(ge){var xe=ge.indexes.reduce(function(Ae,Se){return Ae[Se.spanIndex]=(Ae[Se.spanIndex]||[]).concat([Se]),Ae},{});Object.values(xe).forEach(function(Ae){if(Ae.length!==1||Ae[0].char.trim()!==""){var Se=et.wholeWords?Ae.slice(1,-1):Ae,je=function(Ze,rt,Ue,ae,ce){var _e=document.createRange(),Ee=ae.firstChild;if(!Ee||Ee.nodeType!==Node.TEXT_NODE)return null;var de=Ee.textContent.length,ke=ce[0].charIndexInSpan,Te=ce.length===1?ke:ce[ce.length-1].charIndexInSpan;if(ke>de||Te+1>de)return null;_e.setStart(Ee,ke),_e.setEnd(Ee,Te+1);var $e=document.createElement("span");_e.surroundContents($e);var Qe=$e.getBoundingClientRect(),Ce=Ue.getBoundingClientRect(),Ie=Ce.height,Re=Ce.width,nt=100*(Qe.left-Ce.left)/Re,at=100*(Qe.top-Ce.top)/Ie,gt=100*Qe.height/Ie,vt=100*Qe.width/Re;return h$2($e),{keyword:rt,keywordStr:Ze,numPages:$,pageIndex:V,left:nt,top:at,height:gt,width:vt,pageHeight:Ie,pageWidth:Re}}(tt,ge.keyword,Xe,Le[Se[0].spanIndex],Se);je&&Ve.push(je)}})})}}),Ve.sort(d$3)},ye=function(Xe){Xe&&Xe.length>0&&te(Xe)},Me=function(Xe){return ve(Xe)},ze=function(Xe){if(Xe.has(V)){var Je=Xe.get(V);Je&&Y({ele:Je.ele,pageIndex:V,scale:Je.scale,status:Je.status})}},lt=function(){return ee.length===0||ee.length===1&&ee[0].keyword.trim()===""};return r$4.useEffect(function(){if(!lt()&&U.status===e$4.LayerRenderStatus.DidRender&&!W.current.length){var Xe=U.ele,Je=[].slice.call(Xe.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ve){return Ve.textContent}).reduce(function(Ve,Le,Ne){return Ve.concat(Le.split("").map(function(et,tt){return{char:et,charIndexInSpan:tt,spanIndex:Ne}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);W.current=Je}},[ee,U.status]),r$4.useEffect(function(){if(!lt()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&q()({pageIndex:V,numPages:$})){var Xe=U.ele,Je=pe(Xe);K(Je)}},[ee,ne,U.status,W.current]),r$4.useEffect(function(){lt()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&K([])},[ee,U.status]),r$4.useEffect(function(){if(H.length!==0){var Xe=re.current;if(ne.pageIndex===V&&Xe&&U.status===e$4.LayerRenderStatus.DidRender){var Je=Xe.querySelector('.rpv-search__highlight[data-index="'.concat(ne.matchIndex,'"]'));if(Je){var Ve=function(tt,we){for(var le=tt.offsetTop,ie=tt.offsetLeft,ge=tt.parentElement;ge&&ge!==we;)le+=ge.offsetTop,ie+=ge.offsetLeft,ge=ge.parentElement;return{left:ie,top:le}}(Je,Xe),Le=Ve.left,Ne=Ve.top,et=R.get("jumpToDestination");et&&(et({pageIndex:V,bottomOffset:(Xe.getBoundingClientRect().height-Ne)/U.scale,leftOffset:Le/U.scale,scaleTo:U.scale}),Q.current&&Q.current.classList.remove("rpv-search__highlight--current"),Q.current=Je,Je.classList.add("rpv-search__highlight--current"))}}}},[H,ne]),r$4.useEffect(function(){return R.subscribe("keyword",ye),R.subscribe("matchPosition",Me),R.subscribe("renderStatus",ze),function(){R.unsubscribe("keyword",ye),R.unsubscribe("matchPosition",Me),R.unsubscribe("renderStatus",ze)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(V),ref:re},me({getCssProperties:i$4,highlightAreas:H}))},p$2=function(A){var $,V=A.wholeWords?" ".concat(A.keyword," "):A.keyword,B=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=V,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),B),wholeWords:A.wholeWords||!1}},g$2=function(A,$,V){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:V||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:V||!1}):($!==void 0&&(A.matchCase=$),V!==void 0&&(A.wholeWords=V),p$2(A))},m$3=function(A){var $,V=A.get("initialKeyword"),B=r$4.useMemo(function(){if(V&&V.length===1){var Me=g$2(V[0]);return{matchCase:Me.regExp.flags.indexOf("i")===-1,wholeWords:Me.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),R=function(Me){var ze=r$4.useRef(Me.get("doc")),lt=function(Xe){ze.current=Xe};return r$4.useEffect(function(){return Me.subscribe("doc",lt),function(){Me.unsubscribe("doc",lt)}},[]),ze}(A),O=r$4.useState(V),re=O[0],he=O[1],me=r$4.useState([]),se=me[0],ne=me[1],ve=r$4.useState(0),oe=ve[0],ee=ve[1],te=r$4.useState(B.matchCase),G=te[0],U=te[1],Y=r$4.useRef([]),Q=r$4.useState(B.wholeWords),W=Q[0],X=Q[1],H=function(){return!0},K=r$4.useCallback(function(){return A.get("targetPageFilter")||H},[A.get("targetPageFilter")]),ue=function(Me){var ze=se.length;if(re.length===0||ze===0)return null;var lt=Me===ze+1?1:Math.max(1,Math.min(ze,Me));return ee(lt),pe(se[lt-1])},q=function(Me){return he(Me===""?[]:[Me])},pe=function(Me){var ze=A.get("jumpToPage");return ze&&ze(Me.pageIndex),A.update("matchPosition",{matchIndex:Me.matchIndex,pageIndex:Me.pageIndex}),Me},ye=function(Me,ze,lt){var Xe=R.current;if(!Xe)return Promise.resolve([]);var Je=Xe.numPages,Ve=Me.map(function(Le){return g$2(Le,ze,lt)});return A.update("keyword",Ve),ee(0),ne([]),new Promise(function(Le,Ne){var et=Y.current.length===0?function(){var tt=R.current;if(!tt)return Promise.resolve([]);var we=Array(tt.numPages).fill(0).map(function(le,ie){return e$4.getPage(tt,ie).then(function(ge){return ge.getTextContent()}).then(function(ge){var xe=ge.items.map(function(Ae){return Ae.str||""}).join("");return Promise.resolve({pageContent:xe,pageIndex:ie})})});return Promise.all(we).then(function(le){return le.sort(function(ie,ge){return ie.pageIndex-ge.pageIndex}),Promise.resolve(le.map(function(ie){return ie.pageContent}))})}().then(function(tt){return Y.current=tt,Promise.resolve(tt)}):Promise.resolve(Y.current);et.then(function(tt){var we=[];tt.forEach(function(le,ie){K()({pageIndex:ie,numPages:Je})&&Ve.forEach(function(ge){for(var xe,Ae=0;(xe=ge.regExp.exec(le))!==null;)we.push({keyword:ge.regExp,matchIndex:Ae,pageIndex:ie,pageText:le,startIndex:xe.index,endIndex:ge.regExp.lastIndex}),Ae++})}),ne(we),we.length>0&&(ee(1),pe(we[0])),Le(we)})})};return r$4.useEffect(function(){Y.current=[]},[R.current]),{clearKeyword:function(){A.update("keyword",[u$4]),q(""),ee(0),ne([]),U(!1),X(!1)},changeMatchCase:function(Me){U(Me),re.length>0&&ye(re,Me,W)},changeWholeWords:function(Me){X(Me),re.length>0&&ye(re,G,Me)},currentMatch:oe,jumpToMatch:ue,jumpToNextMatch:function(){return ue(oe+1)},jumpToPreviousMatch:function(){return ue(oe-1)},keywords:re,matchCase:G,numberOfMatches:se.length,wholeWords:W,search:function(){return ye(re,G,W)},searchFor:ye,setKeywords:he,keyword:re.length===0?"":($=re[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:q,setTargetPages:function(Me){A.update("targetPageFilter",Me)}}},v$2=function(A){var $=A.children,V=A.store,B=m$3(V),R=r$4.useState(!1),O=R[0],re=R[1],he=function(me){return re(!0)};return r$4.useEffect(function(){return V.subscribe("doc",he),function(){V.unsubscribe("doc",he)}},[]),$(c$4(c$4({},B),{isDocumentLoaded:O}))},x=function(A){var $=A.containerRef,V=A.store,B=r$4.useRef(!1),R=function(){B.current=!0},O=function(){B.current=!1},re=function(he){var me=$.current;me&&(he.shiftKey||he.altKey||he.key!=="f"||(e$4.isMac()?he.metaKey&&!he.ctrlKey:he.ctrlKey)&&(B.current||document.activeElement&&me.contains(document.activeElement))&&(he.preventDefault(),V.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var he=$.current;if(he)return document.addEventListener("keydown",re),he.addEventListener("mouseenter",R),he.addEventListener("mouseleave",O),function(){document.removeEventListener("keydown",re),he.removeEventListener("mouseenter",R),he.removeEventListener("mouseleave",O)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,V=A.onToggle,B=r$4.useContext(e$4.LocalizationContext).l10n,R=r$4.useContext(e$4.ThemeContext).direction,O=r$4.useState(!1),re=O[0],he=O[1],me=r$4.useState(!1),se=me[0],ne=me[1],ve=R===e$4.TextDirection.RightToLeft,oe=m$3($),ee=oe.clearKeyword,te=oe.changeMatchCase,G=oe.changeWholeWords,U=oe.currentMatch,Y=oe.jumpToNextMatch,Q=oe.jumpToPreviousMatch,W=oe.keyword,X=oe.matchCase,H=oe.numberOfMatches,K=oe.wholeWords,ue=oe.search,q=oe.setKeyword,pe=function(Xe){he(!0),ue().then(function(Je){he(!1),ne(!0),Xe&&Xe()})};r$4.useEffect(function(){var Xe=$.get("initialKeyword");Xe&&Xe.length===1&&W&&pe(function(){$.update("initialKeyword",[])})},[]);var ye=B&&B.search?B.search.enterToSearch:"Enter to search",Me=B&&B.search?B.search.previousMatch:"Previous match",ze=B&&B.search?B.search.nextMatch:"Next match",lt=B&&B.search?B.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:ye,autoFocus:!0,placeholder:ye,type:"text",value:W,onChange:function(Xe){ne(!1),q(Xe)},onKeyDown:function(Xe){Xe.key==="Enter"&&W&&(se?Y():pe())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!ve,"rpv-search__popover-counter--rtl":ve})},re&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!re&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",H))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:X,type:"checkbox",onChange:function(Xe){ne(!1),te(Xe.target.checked)}})," ",B&&B.search?B.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:K,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Xe){ne(!1),G(Xe.target.checked)}})," ",B&&B.search?B.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:ve?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Me,isDisabled:U<=1,onClick:Q},r$4.createElement(o$4,null)),content:function(){return Me},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ze,isDisabled:U>H-1,onClick:Y},r$4.createElement(n$4,null)),content:function(){return ze},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!ve,"rpv-search__popover-footer-button--rtl":ve})},r$4.createElement(e$4.Button,{onClick:function(){V(),ee()}},lt))))},w=function(A){var $=A.children,V=A.onClick,B=r$4.useContext(e$4.LocalizationContext).l10n,R=B&&B.search?B.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:R,onClick:V})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,V=A.store,B=A.onClick,R=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",O=function(re){re&&B()};return r$4.useEffect(function(){return V.subscribe("areShortcutsPressed",O),function(){V.unsubscribe("areShortcutsPressed",O)}},[]),r$4.createElement(w,{onClick:B},function(re){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:re.label,testId:"search__popover-button",onClick:B},re.icon),content:function(){return re.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,R=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,O=$||function(re){return r$4.createElement(k$1,c$4({enableShortcuts:V,store:B},re))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:R,target:function(re){return O({onClick:re})},content:function(re){return r$4.createElement(E$2,{store:B,onToggle:re})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),V=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),B=m$3(V),R=B.clearKeyword,O=B.jumpToMatch,re=B.jumpToNextMatch,he=B.jumpToPreviousMatch,me=B.searchFor,se=B.setKeywords,ne=B.setTargetPages,ve=function(oe){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},oe,{store:V}))};return{install:function(oe){var ee=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],te=A&&A.keyword?P$1(A.keyword):[u$4];V.update("initialKeyword",ee),V.update("jumpToDestination",oe.jumpToDestination),V.update("jumpToPage",oe.jumpToPage),V.update("keyword",te)},renderPageLayer:function(oe){return r$4.createElement(f$3,{key:oe.pageIndex,numPages:oe.doc.numPages,pageIndex:oe.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:V,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(oe){var ee=oe.slot;return ee.subSlot&&(ee.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:oe.containerRef,store:V}),ee.subSlot.children)),ee},uninstall:function(oe){var ee=V.get("renderStatus");ee&&ee.clear()},onDocumentLoad:function(oe){V.update("doc",oe.doc)},onTextLayerRender:function(oe){var ee=V.get("renderStatus");ee&&(ee=ee.set(oe.pageIndex,oe),V.update("renderStatus",ee))},Search:function(oe){return r$4.createElement(v$2,c$4({},oe,{store:V}))},ShowSearchPopover:ve,ShowSearchPopoverButton:function(){return r$4.createElement(ve,null,function(oe){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:V},oe))})},clearHighlights:function(){R()},highlight:function(oe){var ee=Array.isArray(oe)?oe:[oe];return se(ee),me(ee)},jumpToMatch:O,jumpToNextMatch:re,jumpToPreviousMatch:he,setTargetPages:ne}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,R=V.currentTheme==="dark",O=B&&B.theme?R?B.theme.switchLightTheme:B.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:O,testId:"theme__switch-button",onClick:$},R?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return O},offset:a$3})},l$3=function(A){var $=A.children,V=n$3.useContext(e$3.ThemeContext);return($||function(B){return n$3.createElement(i$3,{onClick:B.onClick})})({onClick:function(){return V.setCurrentTheme(V.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,V=n$3.useContext(e$3.ThemeContext),B=n$3.useContext(e$3.LocalizationContext).l10n,R=V.currentTheme==="dark",O=B&&B.theme?R?B.theme.switchLightTheme:B.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:R?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},O)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(V){return n$3.createElement(u$3,{onClick:function(){V.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),V=$[0],B=$[1],R=function(O){B(O)};return n$2.useEffect(function(){return A.subscribe("scale",R),function(){A.unsubscribe("scale",R)}},[]),{scale:V}},u$2=function(A){var $=A.children,V=A.store;return($||function(B){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*B.scale),"%"))})({scale:a$2(V).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,V=A.store,B=e$2.useDebounceCallback(function(O){var re=V.get("zoom");re&&re(O)},40),R=function(O){if(O.ctrlKey){O.preventDefault();var re=O.target.getBoundingClientRect(),he=1-O.deltaY/100,me=O.clientX-re.left,se=O.clientY-re.top,ne=V.get("scale"),ve=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(me,se).scale(he).translate(-me,-se).scale(ne);B(ve.a)}};return e$2.useIsomorphicLayoutEffect(function(){var O=$.current;if(O)return O.addEventListener("wheel",R,l$2),function(){O.removeEventListener("wheel",R)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(V){return V>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,V=A.store,B=function(R){if(!R.shiftKey&&!R.altKey&&(e$2.isMac()?R.metaKey:R.ctrlKey)){var O=$.current;if(O&&document.activeElement&&O.contains(document.activeElement)){var re=V.get("zoom");if(re){var he=V.get("scale")||1,me=1;switch(R.key){case"-":me=v$1(he);break;case"=":me=f$2(he);break;case"0":me=1;break;default:me=he}me!==he&&(R.preventDefault(),re(me))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,V=$===void 0?z:$,B=A.scale,R=A.onZoom,O=n$2.useContext(e$2.LocalizationContext).l10n,re=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,he=O&&O.zoom?O.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(me){return n$2.createElement(e$2.MinimalButton,{ariaLabel:he,testId:"zoom__popover-target",onClick:function(){me()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!re,"rpv-zoom__popover-target-scale--rtl":re})},Math.round(100*B),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(me){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(se){var ne=se;return n$2.createElement(e$2.MenuItem,{key:ne,onClick:function(){me(),R(ne)}},function(ve){switch(ve){case e$2.SpecialZoomLevel.ActualSize:return O&&O.zoom?O.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return O&&O.zoom?O.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return O&&O.zoom?O.zoom.pageWidth:"Page width"}}(ne))}),n$2.createElement(e$2.MenuDivider,null),V.map(function(se){return n$2.createElement(e$2.MenuItem,{key:se,onClick:function(){me(),R(se)}},"".concat(Math.round(100*se),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,V=A.levels,B=A.store;return($||function(R){return n$2.createElement(d$2,{levels:V,scale:R.scale,onZoom:R.onZoom})})({scale:a$2(B).scale,onZoom:function(R){var O=B.get("zoom");O&&O(R)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,R=B&&B.zoom?B.zoom.zoomIn:"Zoom in",O=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:R,testId:"zoom__in-button",onClick:V},n$2.createElement(o$2,null)),content:function(){return R},offset:C})},b$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,R=a$2(B).scale;return($||h$1)({enableShortcuts:V,onClick:function(){var O=B.get("zoom");O&&O(f$2(R))}})},k=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},B)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,V=A.onClick,B=n$2.useContext(e$2.LocalizationContext).l10n,R=B&&B.zoom?B.zoom.zoomOut:"Zoom out",O=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:R,testId:"zoom__out-button",onClick:V},n$2.createElement(r$2,null)),content:function(){return R},offset:S$1})},I$1=function(A){var $=A.children,V=A.enableShortcuts,B=A.store,R=a$2(B).scale;return($||M$1)({enableShortcuts:V,onClick:function(){var O=B.get("zoom");O&&O(v$1(R))}})},Z=function(A){var $=A.onClick,V=n$2.useContext(e$2.LocalizationContext).l10n,B=V&&V.zoom?V.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},B)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$2.useMemo(function(){return e$2.createStore({})},[]),B=function(re){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},R=function(re){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},re,{store:V}))},O=function(re){return n$2.createElement(g$1,c$2({},re,{store:V}))};return{renderViewer:function(re){var he=re.slot;if(!$.enableShortcuts)return he;var me={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:re.containerRef,store:V}),n$2.createElement(s$2,{pagesContainerRef:re.pagesContainerRef,store:V}),he.children)};return c$2(c$2({},he),me)},install:function(re){V.update("zoom",re.zoom)},onViewerStateChange:function(re){return V.update("scale",re.scale),re},zoomTo:function(re){var he=V.get("zoom");he&&he(re)},CurrentScale:function(re){return n$2.createElement(u$2,c$2({},re,{store:V}))},ZoomIn:B,ZoomInButton:function(){return n$2.createElement(B,null,function(re){return n$2.createElement(h$1,c$2({},re))})},ZoomInMenuItem:function(re){return n$2.createElement(B,null,function(he){return n$2.createElement(k,{onClick:function(){he.onClick(),re.onClick()}})})},ZoomOut:R,ZoomOutButton:function(){return n$2.createElement(R,null,function(re){return n$2.createElement(M$1,c$2({},re))})},ZoomOutMenuItem:function(re){return n$2.createElement(R,null,function(he){return n$2.createElement(Z,{onClick:function(){he.onClick(),re.onClick()}})})},Zoom:O,ZoomPopover:function(re){return n$2.createElement(O,null,function(he){return n$2.createElement(d$2,c$2({levels:re==null?void 0:re.levels},he))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,V=_.useContext(e$1.LocalizationContext).l10n,B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,R=$.DownloadMenuItem,O=$.EnterFullScreenMenuItem,re=$.GoToFirstPageMenuItem,he=$.GoToLastPageMenuItem,me=$.GoToNextPageMenuItem,se=$.GoToPreviousPageMenuItem,ne=$.OpenMenuItem,ve=$.PrintMenuItem,oe=$.RotateBackwardMenuItem,ee=$.RotateForwardMenuItem,te=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,Y=$.SwitchViewModeMenuItem,Q=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:B,target:function(W,X){var H=V&&V.toolbar?V.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:B,target:_.createElement(e$1.MinimalButton,{ariaLabel:H,isSelected:X,testId:"toolbar__more-actions-popover-target",onClick:W},_.createElement(E,null)),content:function(){return H},offset:g})},content:function(W){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Q,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ne,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ve,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:W}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(se,{onClick:W})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(me,{onClick:W})),_.createElement(he,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(ee,{onClick:W}),_.createElement(oe,{onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:W}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:W}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:W}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e$1.ViewMode.SinglePage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e$1.ViewMode.DualPage,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e$1.ViewMode.DualPageWithCover,onClick:W})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(te,{onClick:W}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},M.apply(this,arguments)},h=function(A){return function($){var V=_.useMemo(function(){return A($)},[]),B=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,R=V.CurrentPageInput,O=V.Download,re=V.EnterFullScreen,he=V.GoToNextPage,me=V.GoToPreviousPage,se=V.NumberOfPages,ne=V.Open,ve=V.Print,oe=V.ShowSearchPopover,ee=V.SwitchTheme,te=V.Zoom,G=V.ZoomIn,U=V.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":B}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(oe,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(me,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(se,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(he,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:V}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,V=A.slot;return($||S)(V)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),V=o$1.getFilePlugin(A?A.getFilePlugin:{}),B=a$1.openPlugin(A?A.openPlugin:{}),R=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),O=i$1.printPlugin(A?A.printPlugin:{}),re=c$1.propertiesPlugin(),he=m$1.rotatePlugin(),me=u$1.scrollModePlugin(),se=s$1.searchPlugin(A?A.searchPlugin:{}),ne=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),ve=d$1.themePlugin(),oe=p.zoomPlugin(A?A.zoomPlugin:{}),ee=[$,V,B,R,O,re,he,me,se,ne,ve,oe],te=_.useCallback(function(G){var U=$.EnterFullScreen,Y=$.EnterFullScreenMenuItem,Q=V.Download,W=V.DownloadMenuItem,X=B.Open,H=B.OpenMenuItem,K=R.CurrentPageInput,ue=R.CurrentPageLabel,q=R.GoToFirstPage,pe=R.GoToFirstPageMenuItem,ye=R.GoToLastPage,Me=R.GoToLastPageMenuItem,ze=R.GoToNextPage,lt=R.GoToNextPageMenuItem,Xe=R.GoToPreviousPage,Je=R.GoToPreviousPageMenuItem,Ve=R.NumberOfPages,Le=O.Print,Ne=O.PrintMenuItem,et=re.ShowProperties,tt=re.ShowPropertiesMenuItem,we=he.Rotate,le=he.RotateBackwardMenuItem,ie=he.RotateForwardMenuItem,ge=me.SwitchScrollMode,xe=me.SwitchScrollModeMenuItem,Ae=me.SwitchViewMode,Se=me.SwitchViewModeMenuItem,je=se.Search,Ze=se.ShowSearchPopover,rt=ne.SwitchSelectionMode,Ue=ne.SwitchSelectionModeMenuItem,ae=ve.SwitchTheme,ce=ve.SwitchThemeMenuItem,_e=oe.CurrentScale,Ee=oe.Zoom,de=oe.ZoomIn,ke=oe.ZoomInMenuItem,Te=oe.ZoomOut,$e=oe.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:K,CurrentPageLabel:ue,CurrentScale:_e,Download:Q,DownloadMenuItem:W,EnterFullScreen:U,EnterFullScreenMenuItem:Y,GoToFirstPage:q,GoToFirstPageMenuItem:pe,GoToLastPage:ye,GoToLastPageMenuItem:Me,GoToNextPage:ze,GoToNextPageMenuItem:lt,GoToPreviousPage:Xe,GoToPreviousPageMenuItem:Je,NumberOfPages:Ve,Open:X,OpenMenuItem:H,Print:Le,PrintMenuItem:Ne,Rotate:we,RotateBackwardMenuItem:le,RotateForwardMenuItem:ie,Search:je,ShowProperties:et,ShowPropertiesMenuItem:tt,ShowSearchPopover:Ze,SwitchScrollMode:ge,SwitchScrollModeMenuItem:xe,SwitchSelectionMode:rt,SwitchSelectionModeMenuItem:Ue,SwitchViewMode:Ae,SwitchViewModeMenuItem:Se,SwitchTheme:ae,SwitchThemeMenuItem:ce,Zoom:Ee,ZoomIn:de,ZoomInMenuItem:ke,ZoomOut:Te,ZoomOutMenuItem:$e}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:V,openPluginInstance:B,pageNavigationPluginInstance:R,printPluginInstance:O,propertiesPluginInstance:re,rotatePluginInstance:he,scrollModePluginInstance:me,searchPluginInstance:se,selectionModePluginInstance:ne,themePluginInstance:ve,zoomPluginInstance:oe,install:function(G){ee.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,ee.map(function(U,Y){return U.renderPageLayer?_.createElement(_.Fragment,{key:Y},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:Y})}))},renderViewer:function(G){var U=G.slot;return ee.forEach(function(Y){Y.renderViewer&&(U=Y.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){ee.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){ee.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){ee.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){ee.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return ee.forEach(function(Y){Y.onViewerStateChange&&(U=Y.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:te}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var B=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty($,V,B.get?B:{enumerable:!0,get:function(){return A[V]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,V=1,B=arguments.length;V<B;V++)for(var R in $=arguments[V])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,V=A.bookmarkTabContent,B=A.store,R=A.thumbnailTabContent,O=A.tabs,re=u.useRef(),he=u.useContext(e.LocalizationContext).l10n,me=u.useState(B.get("isCurrentTabOpened")||!1),se=me[0],ne=me[1],ve=u.useState(Math.max(B.get("currentTab")||0,0)),oe=ve[0],ee=ve[1],te=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:R,icon:u.createElement(d,null),title:he&&he.defaultLayout?he.defaultLayout.thumbnail:"Thumbnail"},{content:V,icon:u.createElement(c,null),title:he&&he.defaultLayout?he.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:he&&he.defaultLayout?he.defaultLayout.attachment:"Attachment"}],U=O?O(G):G,Y=function(W){W>=0&&W<=U.length-1&&(B.update("isCurrentTabOpened",!0),ee(W))},Q=function(W){ne(W)};return u.useEffect(function(){return B.subscribe("currentTab",Y),B.subscribe("isCurrentTabOpened",Q),function(){B.unsubscribe("currentTab",Y),B.unsubscribe("isCurrentTabOpened",Q)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":se,"rpv-default-layout__sidebar--ltr":!te,"rpv-default-layout__sidebar--rtl":te}),ref:re},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(W,X){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":oe===X,key:X,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(X),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(X),position:te?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:W.title,isSelected:oe===X,onClick:function(){return function(H){if(oe===H){B.update("isCurrentTabOpened",!B.get("isCurrentTabOpened"));var K=re.current;K&&K.style.width&&K.style.removeProperty("width")}else B.update("currentTab",H)}(X)}},W.icon),content:function(){return W.title},offset:te?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(oe),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":se,"rpv-default-layout__sidebar-content--ltr":!te,"rpv-default-layout__sidebar-content--rtl":te}),role:"tabpanel",tabIndex:-1},U[oe].content))),se&&u.createElement(e.Splitter,{constrain:function(W){return W.firstHalfPercentage>=20&&W.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),V=n.attachmentPlugin(),B=a.bookmarkPlugin(),R=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),O=o.toolbarPlugin(A?A.toolbarPlugin:{}),re=V.Attachments,he=B.Bookmarks,me=R.Thumbnails,se=O.Toolbar,ne=A?A.sidebarTabs:function(oe){return oe},ve=[V,B,R,O];return{attachmentPluginInstance:V,bookmarkPluginInstance:B,thumbnailPluginInstance:R,toolbarPluginInstance:O,activateTab:function(oe){$.update("currentTab",oe)},toggleTab:function(oe){var ee=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ee!==oe&&$.update("currentTab",oe)},install:function(oe){ve.forEach(function(ee){ee.install&&ee.install(oe)})},renderPageLayer:function(oe){return u.createElement(u.Fragment,null,ve.map(function(ee,te){return ee.renderPageLayer?u.createElement(u.Fragment,{key:te},ee.renderPageLayer(oe)):u.createElement(u.Fragment,{key:te},u.createElement(u.Fragment,null))}))},renderViewer:function(oe){var ee=oe.slot;ve.forEach(function(G){G.renderViewer&&(ee=G.renderViewer(i(i({},oe),{slot:ee})))});var te=ee.subSlot&&ee.subSlot.attrs?{className:ee.subSlot.attrs.className,"data-testid":ee.subSlot.attrs["data-testid"],ref:ee.subSlot.attrs.ref,style:ee.subSlot.attrs.style}:{};return ee.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":oe.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(re,null),bookmarkTabContent:u.createElement(he,null),store:$,thumbnailTabContent:u.createElement(me,null),tabs:ne}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(se):u.createElement(se,null)),u.createElement("div",i({},te),ee.subSlot.children))),ee.children),ee.subSlot.attrs={},ee.subSlot.children=u.createElement(u.Fragment,null),ee},uninstall:function(oe){ve.forEach(function(ee){ee.uninstall&&ee.uninstall(oe)})},onDocumentLoad:function(oe){ve.forEach(function(ee){ee.onDocumentLoad&&ee.onDocumentLoad(oe)}),A&&A.setInitialTab&&A.setInitialTab(oe.doc).then(function(ee){$.update("currentTab",ee),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(oe){ve.forEach(function(ee){ee.onAnnotationLayerRender&&ee.onAnnotationLayerRender(oe)})},onTextLayerRender:function(oe){ve.forEach(function(ee){ee.onTextLayerRender&&ee.onTextLayerRender(oe)})},onViewerStateChange:function(oe){var ee=oe;return ve.forEach(function(te){te.onViewerStateChange&&(ee=te.onViewerStateChange(ee))}),ee}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,V){A.getPageMode().then(function(B){if(B)switch(B){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const customToolbar=A=>jsxRuntimeExports.jsx(A,{children:$=>{const{CurrentPageInput:V,GoToNextPage:B,GoToPreviousPage:R,ZoomIn:O,Zoom:re,ZoomOut:he,Download:me,Print:se,NumberOfPages:ne}=$;return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-dark-blue w-full px-4 py-2 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(R,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:ve.isDisabled?"not-allowed":"pointer",padding:"8px"},disabled:ve.isDisabled,onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef$4,{className:`${ve.isDisabled?"text-gray-600":"text-light-blue"} size-6`})})}),jsxRuntimeExports.jsx(V,{}),jsxRuntimeExports.jsx(ne,{children:ve=>jsxRuntimeExports.jsxs("div",{className:"p-2 border-none text-light-blue",children:["of ",ve.numberOfPages]})}),jsxRuntimeExports.jsx(B,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:ve.isDisabled?"not-allowed":"pointer",padding:"8px"},disabled:ve.isDisabled,onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef$6,{className:`${ve.isDisabled?"text-gray-600":"text-light-blue"} size-6`})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(he,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:"pointer",padding:"8px"},onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef$2,{className:"text-light-blue size-6"})})}),jsxRuntimeExports.jsx(re,{children:ve=>jsxRuntimeExports.jsx("span",{className:"text-light-blue",children:`${Math.round(ve.scale*100)}%`})}),jsxRuntimeExports.jsx(O,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:"pointer",padding:"8px"},onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef$1,{className:"text-light-blue size-6"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(me,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:"pointer",padding:"8px"},onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef$7,{className:"text-light-blue size-6"})})}),jsxRuntimeExports.jsx(se,{children:ve=>jsxRuntimeExports.jsx("button",{style:{border:"none",cursor:"pointer",padding:"8px"},onClick:ve.onClick,children:jsxRuntimeExports.jsx(ForwardRef,{className:"text-light-blue size-6"})})})]})]})}});function PDFViewer({fileUrl:A,onClose:$}){const{isDarkTheme:V}=reactExports.useContext(ThemeContext),B=libExports.defaultLayoutPlugin({renderToolbar:customToolbar,sidebarTabs:()=>[]});return reactExports.useEffect(()=>{const R=document.getElementById("socials");return R&&(R.style.display="none"),document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto",R&&(R.style.display="flex")}},[]),jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsxs("div",{className:"fixed w-full h-full top-0 left-0 bg-black bg-opacity-80 z-100",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 cursor-pointer",onClick:$,children:jsxRuntimeExports.jsx(ForwardRef$8,{className:"text-white size-6"})}),jsxRuntimeExports.jsx("div",{style:{height:"auto",width:"80vw",margin:"60px auto"},children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A,plugins:[B],theme:V?"dark":"light",defaultScale:1,renderLoader:R=>jsxRuntimeExports.jsx("div",{style:{width:"240px"},children:jsxRuntimeExports.jsx(libExports$h.ProgressBar,{progress:Math.round(R)})})})})]})})}const downloadFile=(A,$)=>{const V=document.createElement("a");V.href=A,V.setAttribute("download",$),document.body.appendChild(V),V.click(),document.body.removeChild(V)};function Resume(){const{t:A}=useTranslation(),V=new Date().getFullYear(),[B,R]=reactExports.useState(!1),[O,re]=reactExports.useState(!1),[he,me]=reactExports.useState(!1),se="./assets/docs/Olga_Kruglova_CV.pdf",ne=A("resume.jobs",{returnObjects:!0,thisYear:V}),ve=()=>{downloadFile("./assets/docs/Olga_Kruglova_CV.pdf","Olga_Kruglova_CV.pdf")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col py-10 justify-end items-end",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl",children:A("resume.title")}),jsxRuntimeExports.jsxs("div",{className:"mt-8 flex flex-row",children:[jsxRuntimeExports.jsxs("div",{className:"relative mr-4",children:[O&&jsxRuntimeExports.jsx(Tooltip,{text:A("resume.previewTooltip")}),jsxRuntimeExports.jsx(ForwardRef$3,{className:"text-dark-blue dark:text-light-blue hover:text-light-blue hover:dark:text-dark-blue size-6 cursor-pointer transition-all duration-300 ease-in-out",onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1),onClick:()=>R(!0)})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[he&&jsxRuntimeExports.jsx(Tooltip,{text:A("resume.downloadTooltip")}),jsxRuntimeExports.jsx(ForwardRef$7,{className:"text-dark-blue dark:text-light-blue hover:text-light-blue hover:dark:text-dark-blue size-6 cursor-pointer transition-all duration-300 ease-in-out",onMouseEnter:()=>me(!0),onMouseLeave:()=>me(!1),onClick:()=>ve()})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full mt-20 relative",children:ne.map((oe,ee)=>jsxRuntimeExports.jsx(JobCard,{job:oe,index:ee},ee))})]}),B&&jsxRuntimeExports.jsx(PDFViewer,{fileUrl:se,onClose:()=>R(!1)})]})}export{Resume as default};
